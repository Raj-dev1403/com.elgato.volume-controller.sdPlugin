"use strict";var e=require("stream"),t=require("zlib"),i=require("buffer"),n=require("crypto"),r=require("events"),o=require("https"),s=require("http"),a=require("net"),l=require("tls"),c=require("url"),h=require("node:fs"),d=require("node:path"),u=require("node:process"),p=require("node:os"),f=require("node:events"),g=require("util"),m=require("node:util"),A=require("node:stream"),b=require("child_process"),v=require("fs"),w=require("node:child_process"),y=require("node:crypto");function I(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var E=I(p);function C(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _={exports:{}},k={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}};const{EMPTY_BUFFER:S}=k,x=Buffer[Symbol.species];function D(e,t,i,n,r){for(let o=0;o<r;o++)i[n+o]=e[o]^t[3&o]}function R(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(_.exports={concat:function(e,t){if(0===e.length)return S;if(1===e.length)return e[0];const i=Buffer.allocUnsafe(t);let n=0;for(let t=0;t<e.length;t++){const r=e[t];i.set(r,n),n+=r.length}return n<t?new x(i.buffer,i.byteOffset,n):i},mask:D,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let i;return t instanceof ArrayBuffer?i=new x(t):ArrayBuffer.isView(t)?i=new x(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i},unmask:R},!process.env.WS_NO_BUFFER_UTIL)try{const e=require("bufferutil");_.exports.mask=function(t,i,n,r,o){o<48?D(t,i,n,r,o):e.mask(t,i,n,r,o)},_.exports.unmask=function(t,i){t.length<32?R(t,i):e.unmask(t,i)}}catch(e){}var O=_.exports;const P=Symbol("kDone"),L=Symbol("kRun");var N=class{constructor(e){this[P]=()=>{this.pending--,this[L]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[L]()}[L](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[P])}}};const M=t,B=O,j=N,{kStatusCode:T}=k,U=Buffer[Symbol.species],F=Buffer.from([0,0,255,255]),Z=Symbol("permessage-deflate"),z=Symbol("total-length"),W=Symbol("callback"),G=Symbol("buffers"),V=Symbol("error");let H;var Q=class{constructor(e,t,i){if(this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!H){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;H=new j(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[W];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,i=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!i)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:!0!==i.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete i.client_max_window_bits,i}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let i=e[t];if(i.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==i)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}e[t]=i}))})),e}decompress(e,t,i){H.add((n=>{this._decompress(e,t,((e,t)=>{n(),i(e,t)}))}))}compress(e,t,i){H.add((n=>{this._compress(e,t,((e,t)=>{n(),i(e,t)}))}))}_decompress(e,t,i){const n=this._isServer?"client":"server";if(!this._inflate){const e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?M.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=M.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[Z]=this,this._inflate[z]=0,this._inflate[G]=[],this._inflate.on("error",X),this._inflate.on("data",K)}this._inflate[W]=i,this._inflate.write(e),t&&this._inflate.write(F),this._inflate.flush((()=>{const e=this._inflate[V];if(e)return this._inflate.close(),this._inflate=null,void i(e);const r=B.concat(this._inflate[G],this._inflate[z]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[z]=0,this._inflate[G]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,r)}))}_compress(e,t,i){const n=this._isServer?"server":"client";if(!this._deflate){const e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?M.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=M.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[z]=0,this._deflate[G]=[],this._deflate.on("data",J)}this._deflate[W]=i,this._deflate.write(e),this._deflate.flush(M.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=B.concat(this._deflate[G],this._deflate[z]);t&&(e=new U(e.buffer,e.byteOffset,e.length-4)),this._deflate[W]=null,this._deflate[z]=0,this._deflate[G]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)}))}};function J(e){this[G].push(e),this[z]+=e.length}function K(e){this[z]+=e.length,this[Z]._maxPayload<1||this[z]<=this[Z]._maxPayload?this[G].push(e):(this[V]=new RangeError("Max payload size exceeded"),this[V].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[V][T]=1009,this.removeListener("data",K),this.reset())}function X(e){this[Z]._inflate=null,e[T]=1007,this[W](e)}var $={exports:{}};const{isUtf8:Y}=i;function q(e){const t=e.length;let i=0;for(;i<t;)if(128&e[i])if(192==(224&e[i])){if(i+1===t||128!=(192&e[i+1])||192==(254&e[i]))return!1;i+=2}else if(224==(240&e[i])){if(i+2>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||224===e[i]&&128==(224&e[i+1])||237===e[i]&&160==(224&e[i+1]))return!1;i+=3}else{if(240!=(248&e[i]))return!1;if(i+3>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||128!=(192&e[i+3])||240===e[i]&&128==(240&e[i+1])||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}else i++;return!0}if($.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:q,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},Y)$.exports.isValidUTF8=function(e){return e.length<24?q(e):Y(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const e=require("utf-8-validate");$.exports.isValidUTF8=function(t){return t.length<32?q(t):e(t)}}catch(e){}var ee=$.exports;const{Writable:te}=e,ie=Q,{BINARY_TYPES:ne,EMPTY_BUFFER:re,kStatusCode:oe,kWebSocket:se}=k,{concat:ae,toArrayBuffer:le,unmask:ce}=O,{isValidStatusCode:he,isValidUTF8:de}=ee,ue=Buffer[Symbol.species],pe=Promise.resolve(),fe="function"==typeof queueMicrotask?queueMicrotask:function(e){pe.then(e).catch(Ae)};var ge=class extends te{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||ne[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[se]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new ue(t.buffer,t.byteOffset+e,t.length-e),new ue(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new ue(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(48&t[0]){return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"))}const i=!(64&~t[0]);if(!i||this._extensions[ie.extensionName]){if(this._fin=!(128&~t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(!this._fragmented){return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"))}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}this._compressed=i}else{if(!(this._opcode>7&&this._opcode<11)){return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}if(!this._fin){return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"))}if(i){return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~t[1]),this._isServer){if(!this._masked){return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}}else if(this._masked){return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"))}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else{e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),i=t.readUInt32BE(0);if(i>Math.pow(2,21)-1){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"))}else this._payloadLength=i*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"))}else this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=re;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&ce(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,t){this._extensions[ie.extensionName].decompress(e,this._fin,((e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?ae(i,t):"arraybuffer"===this._binaryType?le(ae(i,t)):i,5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,fe((()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)})))}else{const n=ae(i,t);if(!this._skipUTF8Validation&&!de(n)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,fe((()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,fe((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,re),this.end();else{const i=e.readUInt16BE(0);if(!he(i)){const e=this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const n=new ue(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!de(n)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0}}createError(e,t,i,n,r){this._loop=!1,this._errored=!0;const o=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,this.createError),o.code=r,o[oe]=n,o}};function me(e){throw e}function Ae(e){process.nextTick(me,e)}const{randomFillSync:be}=n,ve=Q,{EMPTY_BUFFER:we}=k,{isValidStatusCode:ye}=ee,{mask:Ie,toBuffer:Ee}=O,Ce=Symbol("kByteLength"),_e=Buffer.alloc(4);var ke=class e{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,n,r=!1,o=2,s=!1;t.mask&&(i=t.maskBuffer||_e,t.generateMask?t.generateMask(i):be(i,0,4),s=!(i[0]|i[1]|i[2]|i[3]),o=6),"string"==typeof e?n=t.mask&&!s||void 0===t[Ce]?(e=Buffer.from(e)).length:t[Ce]:(n=e.length,r=t.mask&&t.readOnly&&!s);let a=n;n>=65536?(o+=8,a=127):n>125&&(o+=2,a=126);const l=Buffer.allocUnsafe(r?n+o:o);return l[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(l[0]|=64),l[1]=a,126===a?l.writeUInt16BE(n,2):127===a&&(l[2]=l[3]=0,l.writeUIntBE(n,4,6)),t.mask?(l[1]|=128,l[o-4]=i[0],l[o-3]=i[1],l[o-2]=i[2],l[o-1]=i[3],s?[l,e]:r?(Ie(e,i,l,o,n),[l]):(Ie(e,i,e,0,n),[l,e])):[l,e]}close(t,i,n,r){let o;if(void 0===t)o=we;else{if("number"!=typeof t||!ye(t))throw new TypeError("First argument must be a valid error code number");if(void 0!==i&&i.length){const e=Buffer.byteLength(i);if(e>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+e),o.writeUInt16BE(t,0),"string"==typeof i?o.write(i,2):o.set(i,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(t,0)}const s={[Ce]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,r]):this.sendFrame(e.frame(o,s),r)}ping(t,i,n){let r,o;if("string"==typeof t?(r=Buffer.byteLength(t),o=!1):(r=(t=Ee(t)).length,o=Ee.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[Ce]:r,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,s,n]):this.sendFrame(e.frame(t,s),n)}pong(t,i,n){let r,o;if("string"==typeof t?(r=Buffer.byteLength(t),o=!1):(r=(t=Ee(t)).length,o=Ee.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[Ce]:r,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,s,n]):this.sendFrame(e.frame(t,s),n)}send(t,i,n){const r=this._extensions[ve.extensionName];let o,s,a=i.binary?2:1,l=i.compress;if("string"==typeof t?(o=Buffer.byteLength(t),s=!1):(o=(t=Ee(t)).length,s=Ee.readOnly),this._firstFragment?(this._firstFragment=!1,l&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=o>=r._threshold),this._compress=l):(l=!1,a=0),i.fin&&(this._firstFragment=!0),r){const e={[Ce]:o,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:l};this._deflating?this.enqueue([this.dispatch,t,this._compress,e,n]):this.dispatch(t,this._compress,e,n)}else this.sendFrame(e.frame(t,{[Ce]:o,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:!1}),n)}dispatch(t,i,n,r){if(!i)return void this.sendFrame(e.frame(t,n),r);const o=this._extensions[ve.extensionName];this._bufferedBytes+=n[Ce],this._deflating=!0,o.compress(t,n.fin,((t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const i=this._queue[t],n=i[i.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=n[Ce],this._deflating=!1,n.readOnly=!1,this.sendFrame(e.frame(i,n),r),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][Ce],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ce],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};const{kForOnEventAttribute:Se,kListener:xe}=k,De=Symbol("kCode"),Re=Symbol("kData"),Oe=Symbol("kError"),Pe=Symbol("kMessage"),Le=Symbol("kReason"),Ne=Symbol("kTarget"),Me=Symbol("kType"),Be=Symbol("kWasClean");let je=class{constructor(e){this[Ne]=null,this[Me]=e}get target(){return this[Ne]}get type(){return this[Me]}};Object.defineProperty(je.prototype,"target",{enumerable:!0}),Object.defineProperty(je.prototype,"type",{enumerable:!0});class Te extends je{constructor(e,t={}){super(e),this[De]=void 0===t.code?0:t.code,this[Le]=void 0===t.reason?"":t.reason,this[Be]=void 0!==t.wasClean&&t.wasClean}get code(){return this[De]}get reason(){return this[Le]}get wasClean(){return this[Be]}}Object.defineProperty(Te.prototype,"code",{enumerable:!0}),Object.defineProperty(Te.prototype,"reason",{enumerable:!0}),Object.defineProperty(Te.prototype,"wasClean",{enumerable:!0});class Ue extends je{constructor(e,t={}){super(e),this[Oe]=void 0===t.error?null:t.error,this[Pe]=void 0===t.message?"":t.message}get error(){return this[Oe]}get message(){return this[Pe]}}Object.defineProperty(Ue.prototype,"error",{enumerable:!0}),Object.defineProperty(Ue.prototype,"message",{enumerable:!0});class Fe extends je{constructor(e,t={}){super(e),this[Re]=void 0===t.data?null:t.data}get data(){return this[Re]}}Object.defineProperty(Fe.prototype,"data",{enumerable:!0});const Ze={addEventListener(e,t,i={}){for(const n of this.listeners(e))if(!i[Se]&&n[xe]===t&&!n[Se])return;let n;if("message"===e)n=function(e,i){const n=new Fe("message",{data:i?e:e.toString()});n[Ne]=this,We(t,this,n)};else if("close"===e)n=function(e,i){const n=new Te("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[Ne]=this,We(t,this,n)};else if("error"===e)n=function(e){const i=new Ue("error",{error:e,message:e.message});i[Ne]=this,We(t,this,i)};else{if("open"!==e)return;n=function(){const e=new je("open");e[Ne]=this,We(t,this,e)}}n[Se]=!!i[Se],n[xe]=t,i.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(const i of this.listeners(e))if(i[xe]===t&&!i[Se]){this.removeListener(e,i);break}}};var ze={CloseEvent:Te,ErrorEvent:Ue,Event:je,EventTarget:Ze,MessageEvent:Fe};function We(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}const{tokenChars:Ge}=ee;function Ve(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}var He={format:function(e){return Object.keys(e).map((t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map((e=>[t].concat(Object.keys(e).map((t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let i,n,r=Object.create(null),o=!1,s=!1,a=!1,l=-1,c=-1,h=-1,d=0;for(;d<e.length;d++)if(c=e.charCodeAt(d),void 0===i)if(-1===h&&1===Ge[c])-1===l&&(l=d);else if(0===d||32!==c&&9!==c){if(59!==c&&44!==c)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===h&&(h=d);const n=e.slice(l,h);44===c?(Ve(t,n,r),r=Object.create(null)):i=n,l=h=-1}}else-1===h&&-1!==l&&(h=d);else if(void 0===n)if(-1===h&&1===Ge[c])-1===l&&(l=d);else if(32===c||9===c)-1===h&&-1!==l&&(h=d);else if(59===c||44===c){if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===h&&(h=d),Ve(r,e.slice(l,h),!0),44===c&&(Ve(t,i,r),r=Object.create(null),i=void 0),l=h=-1}else{if(61!==c||-1===l||-1!==h)throw new SyntaxError(`Unexpected character at index ${d}`);n=e.slice(l,d),l=h=-1}else if(s){if(1!==Ge[c])throw new SyntaxError(`Unexpected character at index ${d}`);-1===l?l=d:o||(o=!0),s=!1}else if(a)if(1===Ge[c])-1===l&&(l=d);else if(34===c&&-1!==l)a=!1,h=d;else{if(92!==c)throw new SyntaxError(`Unexpected character at index ${d}`);s=!0}else if(34===c&&61===e.charCodeAt(d-1))a=!0;else if(-1===h&&1===Ge[c])-1===l&&(l=d);else if(-1===l||32!==c&&9!==c){if(59!==c&&44!==c)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===h&&(h=d);let s=e.slice(l,h);o&&(s=s.replace(/\\/g,""),o=!1),Ve(r,n,s),44===c&&(Ve(t,i,r),r=Object.create(null),i=void 0),n=void 0,l=h=-1}}else-1===h&&(h=d);if(-1===l||a||32===c||9===c)throw new SyntaxError("Unexpected end of input");-1===h&&(h=d);const u=e.slice(l,h);return void 0===i?Ve(t,u,r):(void 0===n?Ve(r,u,!0):Ve(r,n,o?u.replace(/\\/g,""):u),Ve(t,i,r)),t}};const Qe=r,Je=o,Ke=s,Xe=a,$e=l,{randomBytes:Ye,createHash:qe}=n,{URL:et}=c,tt=Q,it=ge,nt=ke,{BINARY_TYPES:rt,EMPTY_BUFFER:ot,GUID:st,kForOnEventAttribute:at,kListener:lt,kStatusCode:ct,kWebSocket:ht,NOOP:dt}=k,{EventTarget:{addEventListener:ut,removeEventListener:pt}}=ze,{format:ft,parse:gt}=He,{toBuffer:mt}=O,At=Symbol("kAborted"),bt=[8,13],vt=["CONNECTING","OPEN","CLOSING","CLOSED"],wt=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class yt extends Qe{constructor(e,t,i){super(),this._binaryType=rt[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=ot,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=yt.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),It(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){rt.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){const n=new it({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new nt(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[ht]=this,e[ht]=this,n.on("conclude",xt),n.on("drain",Dt),n.on("error",Rt),n.on("message",Pt),n.on("ping",Lt),n.on("pong",Nt),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Bt),e.on("data",jt),e.on("end",Tt),e.on("error",Ut),this._readyState=yt.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=yt.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[tt.extensionName]&&this._extensions[tt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=yt.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==yt.CLOSED)if(this.readyState!==yt.CONNECTING)this.readyState!==yt.CLOSING?(this._readyState=yt.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";kt(this,this._req,e)}}pause(){this.readyState!==yt.CONNECTING&&this.readyState!==yt.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===yt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===yt.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||ot,t,i)):St(this,e,i)}pong(e,t,i){if(this.readyState===yt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===yt.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||ot,t,i)):St(this,e,i)}resume(){this.readyState!==yt.CONNECTING&&this.readyState!==yt.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===yt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==yt.OPEN)return void St(this,e,i);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[tt.extensionName]||(n.compress=!1),this._sender.send(e||ot,n,i)}terminate(){if(this.readyState!==yt.CLOSED)if(this.readyState!==yt.CONNECTING)this._socket&&(this._readyState=yt.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";kt(this,this._req,e)}}}function It(e,t,i,n){const r={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:bt[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=r.autoPong,!bt.includes(r.protocolVersion))throw new RangeError(`Unsupported protocol version: ${r.protocolVersion} (supported versions: ${bt.join(", ")})`);let o;if(t instanceof et)o=t;else try{o=new et(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),e._url=o.href;const s="wss:"===o.protocol,a="ws+unix:"===o.protocol;let l;if("ws:"===o.protocol||s||a?a&&!o.pathname?l="The URL's pathname is empty":o.hash&&(l="The URL contains a fragment identifier"):l='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',l){const t=new SyntaxError(l);if(0===e._redirects)throw t;return void Et(e,t)}const c=s?443:80,h=Ye(16).toString("base64"),d=s?Je.request:Ke.request,u=new Set;let p,f;if(r.createConnection=s?_t:Ct,r.defaultPort=r.defaultPort||c,r.port=o.port||c,r.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,r.headers={...r.headers,"Sec-WebSocket-Version":r.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket"},r.path=o.pathname+o.search,r.timeout=r.handshakeTimeout,r.perMessageDeflate&&(p=new tt(!0!==r.perMessageDeflate?r.perMessageDeflate:{},!1,r.maxPayload),r.headers["Sec-WebSocket-Extensions"]=ft({[tt.extensionName]:p.offer()})),i.length){for(const e of i){if("string"!=typeof e||!wt.test(e)||u.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");u.add(e)}r.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(r.origin&&(r.protocolVersion<13?r.headers["Sec-WebSocket-Origin"]=r.origin:r.headers.Origin=r.origin),(o.username||o.password)&&(r.auth=`${o.username}:${o.password}`),a){const e=r.path.split(":");r.socketPath=e[0],r.path=e[1]}if(r.followRedirects){if(0===e._redirects){e._originalIpc=a,e._originalSecure=s,e._originalHostOrSocketPath=a?r.socketPath:o.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,i]of Object.entries(t))n.headers[e.toLowerCase()]=i}else if(0===e.listenerCount("redirect")){const t=a?!!e._originalIpc&&r.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&o.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!s)&&(delete r.headers.authorization,delete r.headers.cookie,t||delete r.headers.host,r.auth=void 0)}r.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(r.auth).toString("base64")),f=e._req=d(r),e._redirects&&e.emit("redirect",e.url,f)}else f=e._req=d(r);r.timeout&&f.on("timeout",(()=>{kt(e,f,"Opening handshake has timed out")})),f.on("error",(t=>{null===f||f[At]||(f=e._req=null,Et(e,t))})),f.on("response",(o=>{const s=o.headers.location,a=o.statusCode;if(s&&r.followRedirects&&a>=300&&a<400){if(++e._redirects>r.maxRedirects)return void kt(e,f,"Maximum redirects exceeded");let o;f.abort();try{o=new et(s,t)}catch(t){const i=new SyntaxError(`Invalid URL: ${s}`);return void Et(e,i)}It(e,o,i,n)}else e.emit("unexpected-response",f,o)||kt(e,f,`Unexpected server response: ${o.statusCode}`)})),f.on("upgrade",((t,i,n)=>{if(e.emit("upgrade",t),e.readyState!==yt.CONNECTING)return;if(f=e._req=null,"websocket"!==t.headers.upgrade.toLowerCase())return void kt(e,i,"Invalid Upgrade header");const o=qe("sha1").update(h+st).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void kt(e,i,"Invalid Sec-WebSocket-Accept header");const s=t.headers["sec-websocket-protocol"];let a;if(void 0!==s?u.size?u.has(s)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":u.size&&(a="Server sent no subprotocol"),a)return void kt(e,i,a);s&&(e._protocol=s);const l=t.headers["sec-websocket-extensions"];if(void 0!==l){if(!p){return void kt(e,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested")}let t;try{t=gt(l)}catch(t){return void kt(e,i,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==tt.extensionName){return void kt(e,i,"Server indicated an extension that was not requested")}try{p.accept(t[tt.extensionName])}catch(t){return void kt(e,i,"Invalid Sec-WebSocket-Extensions header")}e._extensions[tt.extensionName]=p}e.setSocket(i,n,{allowSynchronousEvents:r.allowSynchronousEvents,generateMask:r.generateMask,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation})})),r.finishRequest?r.finishRequest(f,e):f.end()}function Et(e,t){e._readyState=yt.CLOSING,e.emit("error",t),e.emitClose()}function Ct(e){return e.path=e.socketPath,Xe.connect(e)}function _t(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=Xe.isIP(e.host)?"":e.host),$e.connect(e)}function kt(e,t,i){e._readyState=yt.CLOSING;const n=new Error(i);Error.captureStackTrace(n,kt),t.setHeader?(t[At]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(Et,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function St(e,t,i){if(t){const i=mt(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${vt[e.readyState]})`);process.nextTick(i,t)}}function xt(e,t){const i=this[ht];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[ht]&&(i._socket.removeListener("data",jt),process.nextTick(Mt,i._socket),1005===e?i.close():i.close(e,t))}function Dt(){const e=this[ht];e.isPaused||e._socket.resume()}function Rt(e){const t=this[ht];void 0!==t._socket[ht]&&(t._socket.removeListener("data",jt),process.nextTick(Mt,t._socket),t.close(e[ct])),t.emit("error",e)}function Ot(){this[ht].emitClose()}function Pt(e,t){this[ht].emit("message",e,t)}function Lt(e){const t=this[ht];t._autoPong&&t.pong(e,!this._isServer,dt),t.emit("ping",e)}function Nt(e){this[ht].emit("pong",e)}function Mt(e){e.resume()}function Bt(){const e=this[ht];let t;this.removeListener("close",Bt),this.removeListener("data",jt),this.removeListener("end",Tt),e._readyState=yt.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[ht]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",Ot),e._receiver.on("finish",Ot))}function jt(e){this[ht]._receiver.write(e)||this.pause()}function Tt(){const e=this[ht];e._readyState=yt.CLOSING,e._receiver.end(),this.end()}function Ut(){const e=this[ht];this.removeListener("error",Ut),this.on("error",dt),e&&(e._readyState=yt.CLOSING,this.destroy())}Object.defineProperty(yt,"CONNECTING",{enumerable:!0,value:vt.indexOf("CONNECTING")}),Object.defineProperty(yt.prototype,"CONNECTING",{enumerable:!0,value:vt.indexOf("CONNECTING")}),Object.defineProperty(yt,"OPEN",{enumerable:!0,value:vt.indexOf("OPEN")}),Object.defineProperty(yt.prototype,"OPEN",{enumerable:!0,value:vt.indexOf("OPEN")}),Object.defineProperty(yt,"CLOSING",{enumerable:!0,value:vt.indexOf("CLOSING")}),Object.defineProperty(yt.prototype,"CLOSING",{enumerable:!0,value:vt.indexOf("CLOSING")}),Object.defineProperty(yt,"CLOSED",{enumerable:!0,value:vt.indexOf("CLOSED")}),Object.defineProperty(yt.prototype,"CLOSED",{enumerable:!0,value:vt.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(yt.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(yt.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[at])return t[lt];return null},set(t){for(const t of this.listeners(e))if(t[at]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[at]:!0})}})})),yt.prototype.addEventListener=ut,yt.prototype.removeEventListener=pt;var Ft=C(yt);
/**!
 * @author Elgato
 * @module elgato/streamdeck
 * @license MIT
 * @copyright Copyright (c) Corsair Memory Inc.
 */class Zt{type;constructor(e){this.type=e.event}}class zt extends Zt{action;deviceId;constructor(e,t){super(t),this.action=e,this.deviceId=t.device}}class Wt extends zt{payload;constructor(e,t){super(e,t),this.payload=t.payload}}class Gt extends Zt{application;constructor(e){super(e),this.application=e.payload.application}}class Vt extends Zt{device;constructor(e,t){super(e),this.device=t}}class Ht extends Zt{url;constructor(e){super(e),this.url=new Jt(e.payload.url)}}const Qt="streamdeck://";class Jt{fragment;href;path;query;queryParameters;constructor(e){const t=new URL(`${Qt}${e}`);this.fragment=t.hash.substring(1),this.href=t.href.substring(13),this.path=Jt.parsePath(this.href),this.query=t.search.substring(1),this.queryParameters=t.searchParams}static parsePath(e){const t=t=>{const i=e.indexOf(t);return i>=0?i:e.length};return e.substring(0,Math.min(t("?"),t("#")))}}class Kt extends Zt{action;payload;constructor(e,t){super(t),this.action=e,this.payload=t.payload}}class Xt extends Zt{settings;constructor(e){super(e),this.settings=e.payload.settings}}let $t=class{connection;id;manifestId;constructor(e,t){this.connection=e,this.id=t.context,this.manifestId=t.action}getSettings(){return e=this.connection,t=this.id,new Promise((i=>{const n=r=>{r.context==t&&(i(r.payload.settings),e.removeListener("didReceiveSettings",n))};e.on("didReceiveSettings",n),e.send({event:"getSettings",context:t})}));var e,t}sendToPropertyInspector(e){return this.connection.send({event:"sendToPropertyInspector",context:this.id,payload:e})}setFeedback(e){return this.connection.send({event:"setFeedback",context:this.id,payload:e})}setFeedbackLayout(e){return this.connection.send({event:"setFeedbackLayout",context:this.id,payload:{layout:e}})}setImage(e,t){return this.connection.send({event:"setImage",context:this.id,payload:{image:e,...t}})}setSettings(e){return this.connection.send({event:"setSettings",context:this.id,payload:e})}setState(e){return this.connection.send({event:"setState",context:this.id,payload:{state:e}})}setTitle(e,t){return this.connection.send({event:"setTitle",context:this.id,payload:{title:e,...t}})}setTriggerDescription(e){return this.connection.send({event:"setTriggerDescription",context:this.id,payload:e||{}})}showAlert(){return this.connection.send({event:"showAlert",context:this.id})}showOk(){return this.connection.send({event:"showOk",context:this.id})}};class Yt{connection;manifest;settingsClient;uiClient;logger;constructor(e,t,i,n,r){this.connection=e,this.manifest=t,this.settingsClient=i,this.uiClient=n,this.logger=r.createScope("ActionClient")}createController(e){return new $t(this.connection,{action:"",context:e})}onDialDown(e){return this.connection.disposableOn("dialDown",(t=>e(new Wt(new $t(this.connection,t),t))))}onDialRotate(e){return this.connection.disposableOn("dialRotate",(t=>e(new Wt(new $t(this.connection,t),t))))}onDialUp(e){return this.connection.disposableOn("dialUp",(t=>e(new Wt(new $t(this.connection,t),t))))}onKeyDown(e){return this.connection.disposableOn("keyDown",(t=>e(new Wt(new $t(this.connection,t),t))))}onKeyUp(e){return this.connection.disposableOn("keyUp",(t=>e(new Wt(new $t(this.connection,t),t))))}onTitleParametersDidChange(e){return this.connection.disposableOn("titleParametersDidChange",(t=>e(new Wt(new $t(this.connection,t),t))))}onTouchTap(e){return this.connection.disposableOn("touchTap",(t=>e(new Wt(new $t(this.connection,t),t))))}onWillAppear(e){return this.connection.disposableOn("willAppear",(t=>e(new Wt(new $t(this.connection,t),t))))}onWillDisappear(e){return this.connection.disposableOn("willDisappear",(t=>e(new Wt(new $t(this.connection,t),t))))}registerAction(e){if(void 0===e.manifestId)throw new Error("The action's manifestId cannot be undefined.");if(!this.manifest.Actions.some((t=>t.UUID===e.manifestId)))return void this.logger.warn(`Failed to route action: manifestId (UUID) ${e.manifestId} was not found in the manifest.`);const t=(t,i,n,r)=>{const o=r?.bind(e);void 0!==o&&n(i).bind(i)((async e=>{e.action.manifestId==t&&await o(e)}))};t(e.manifestId,this,(e=>e.onDialDown),e.onDialDown),t(e.manifestId,this,(e=>e.onDialUp),e.onDialUp),t(e.manifestId,this,(e=>e.onDialRotate),e.onDialRotate),t(e.manifestId,this,(e=>e.onKeyDown),e.onKeyDown),t(e.manifestId,this,(e=>e.onKeyUp),e.onKeyUp),t(e.manifestId,this,(e=>e.onTitleParametersDidChange),e.onTitleParametersDidChange),t(e.manifestId,this,(e=>e.onTouchTap),e.onTouchTap),t(e.manifestId,this,(e=>e.onWillAppear),e.onWillAppear),t(e.manifestId,this,(e=>e.onWillDisappear),e.onWillDisappear),t(e.manifestId,this.settingsClient,(e=>e.onDidReceiveSettings),e.onDidReceiveSettings),t(e.manifestId,this.uiClient,(e=>e.onPropertyInspectorDidAppear),e.onPropertyInspectorDidAppear),t(e.manifestId,this.uiClient,(e=>e.onPropertyInspectorDidDisappear),e.onPropertyInspectorDidDisappear),t(e.manifestId,this.uiClient,(e=>e.onSendToPlugin),e.onSendToPlugin)}}Symbol.dispose??=Symbol("Symbol.dispose");class qt{events=new Map;addListener(e,t){return this.on(e,t)}disposableOn(e,t){return this.addListener(e,t),function(e){let t=!1;const i=()=>{t||(e(),t=!0)};return{[Symbol.dispose]:i,dispose:i}}((()=>this.removeListener(e,t)))}emit(e,...t){const i=this.events.get(e);if(void 0===i)return!1;for(let e=0;e<i.length;){const{listener:n,once:r}=i[e];r?i.splice(e,1):e++,n(...t)}return!0}eventNames(){return Array.from(this.events.keys())}listenerCount(e,t){const i=this.events.get(e);if(void 0===i||null==t)return i?.length||0;let n=0;return i.forEach((e=>{e.listener===t&&n++})),n}listeners(e){return Array.from(this.events.get(e)||[]).map((({listener:e})=>e))}off(e,t){const i=this.events.get(e)||[];for(let e=i.length-1;e>=0;e--)i[e].listener===t&&i.splice(e,1);return this}on(e,t){return this.add(e,(e=>e.push({listener:t})))}once(e,t){return this.add(e,(e=>e.push({listener:t,once:!0})))}prependListener(e,t){return this.add(e,(e=>e.splice(0,0,{listener:t})))}prependOnceListener(e,t){return this.add(e,(e=>e.splice(0,0,{listener:t,once:!0})))}removeAllListeners(e){return this.events.delete(e),this}removeListener(e,t){return this.off(e,t)}add(e,t){let i=this.events.get(e);return void 0===i&&(i=[],this.events.set(e,i)),t(i),this}}class ei{_promise;_reject;_resolve;constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}setException(e){this._reject&&this._reject(e)}setResult(e){this._resolve&&this._resolve(e)}}class ti{build;major;minor;patch;constructor(e){const t=e.match(/^(0|[1-9]\d*)(?:\.(0|[1-9]\d*))?(?:\.(0|[1-9]\d*))?(?:\.(0|[1-9]\d*))?$/);if(null===t)throw new Error(`Invalid format; expected "{major}[.{minor}[.{patch}[.{build}]]]" but was "${e}"`);[,this.major,this.minor,this.patch,this.build]=[...t.map((e=>parseInt(e)||0))]}compareTo(e){const t=({major:e,minor:t,build:i,patch:n})=>[e,t,i,n],i=t(this),n=t(e);for(let e=0;e<4;e++){if(i[e]<n[e])return-1;if(i[e]>n[e])return 1}return 0}toString(){return`${this.major}.${this.minor}`}}class ii extends qt{registrationParameters;version;canConnect=!0;connection=new ei;logger;constructor(e,t){super(),this.registrationParameters=e,this.logger=t.createScope("StreamDeckConnection"),this.version=new ti(e.info.application.version)}async connect(){if(this.canConnect){this.canConnect=!1,this.logger.debug("Connecting to Stream Deck.");const e=new Ft(`ws://127.0.0.1:${this.registrationParameters.port}`);e.on("error",(()=>this.resetConnection())),e.on("close",(()=>this.resetConnection())),e.on("message",(e=>this.tryEmit(e))),e.once("open",(()=>{e.send(JSON.stringify({event:this.registrationParameters.registerEvent,uuid:this.registrationParameters.pluginUUID})),this.logger.debug("Successfully connected to Stream Deck."),this.connection.setResult(e)}))}await this.connection.promise}async send(e){const t=await this.connection.promise,i=JSON.stringify(e);this.logger.trace(i),t.send(i)}resetConnection(){this.canConnect=!0,this.connection.setException(),this.connection=new ei}tryEmit(e){try{const t=JSON.parse(e.toString());t.event?(this.logger.trace(`${e}`),this.emit(t.event,t)):this.logger.warn(`Received unknown message: ${e}`)}catch(t){this.logger.error(`Failed to parse message: ${e}`,t)}}}var ni;!function(e){e[e.StreamDeck=0]="StreamDeck",e[e.StreamDeckMini=1]="StreamDeckMini",e[e.StreamDeckXL=2]="StreamDeckXL",e[e.StreamDeckMobile=3]="StreamDeckMobile",e[e.CorsairGKeys=4]="CorsairGKeys",e[e.StreamDeckPedal=5]="StreamDeckPedal",e[e.CorsairVoyager=6]="CorsairVoyager",e[e.StreamDeckPlus=7]="StreamDeckPlus"}(ni||(ni={}));const ri=["de","en","es","fr","ja","zh_CN"];var oi,si,ai;!function(e){e[e.Rectangle=0]="Rectangle",e[e.DoubleRectangle=1]="DoubleRectangle",e[e.Trapezoid=2]="Trapezoid",e[e.DoubleTrapezoid=3]="DoubleTrapezoid",e[e.Groove=4]="Groove"}(oi||(oi={})),function(e){e.Port="-port",e.Info="-info",e.PluginUUID="-pluginUUID",e.RegisterEvent="-registerEvent"}(si||(si={})),function(e){e[e.HardwareAndSoftware=0]="HardwareAndSoftware",e[e.Hardware=1]="Hardware",e[e.Software=2]="Software"}(ai||(ai={}));class li{info;pluginUUID;port;registerEvent;constructor(e,t){const i=t.createScope("RegistrationParameters");for(let t=0;t<e.length-1;t++){const n=e[t],r=e[++t];switch(n){case si.Port:i.debug(`port=${r}`),this.port=r;break;case si.PluginUUID:i.debug(`pluginUUID=${r}`),this.pluginUUID=r;break;case si.RegisterEvent:i.debug(`registerEvent=${r}`),this.registerEvent=r;break;case si.Info:i.debug(`info=${r}`),this.info=JSON.parse(r);break;default:t--}}const n=[],r=(e,t)=>{void 0===t&&n.push(e)};if(r(si.Port,this.port),r(si.PluginUUID,this.pluginUUID),r(si.RegisterEvent,this.registerEvent),r(si.Info,this.info),n.length>0)throw new Error(`Unable to establish a connection with Stream Deck, missing command line arguments: ${n.join(", ")}`)}}class ci{connection;devices=new Map;constructor(e){this.connection=e,e.registrationParameters.info.devices.forEach((e=>{this.devices.set(e.id,{...e,isConnected:!1})})),e.on("deviceDidConnect",(({device:e,deviceInfo:t})=>{this.devices.set(e,Object.assign(this.devices.get(e)||{},{id:e,isConnected:!0,...t}))})),e.on("deviceDidDisconnect",(({device:e})=>{const t=this.devices.get(e);void 0!==t&&(t.isConnected=!1)}))}get length(){return this.devices.size}[Symbol.iterator](){return this.devices.values()}forEach(e){this.devices.forEach((t=>e(t)))}getDeviceById(e){return this.devices.get(e)}onDeviceDidConnect(e){return this.connection.disposableOn("deviceDidConnect",(t=>e(new Vt(t,{...t.deviceInfo,id:t.device,isConnected:!0}))))}onDeviceDidDisconnect(e){return this.connection.disposableOn("deviceDidDisconnect",(t=>e(new Vt(t,{...this.devices.get(t.device),id:t.device,isConnected:!1}))))}}let hi;function di(e,t){return e.split(".").reduce(((e,t)=>e&&e[t]),t)}function ui(){return void 0===hi&&(hi=process.execArgv.some((e=>{const t=e.split("=")[0];return"--inspect"===t||"--inspect-brk"===t||"--inspect-port"===t}))),hi}function pi(){const e=d.basename(process.cwd()),t=e.lastIndexOf(".sdPlugin");return t<0?e:e.substring(0,t)}class fi{language;logMissingKey=!0;static DEFAULT_LANGUAGE="en";locales=new Map;logger;constructor(e,t,i){this.language=e,this.logger=i.createScope("I18nProvider"),this.loadLocales(t)}translate(e,t=this.language){const i=this.translateOrDefault(e,t);return void 0===i&&this.logMissingKey&&this.logger.warn(`Missing translation: ${e}`),i||""}loadLocales(e){for(const e of h.readdirSync(process.cwd())){const{ext:t,name:i}=d.parse(e),n=i;if(".json"==t.toLowerCase()&&ri.includes(n)){const t=this.readFile(e);void 0!==t&&this.locales.set(n,t)}}this.locales.set(fi.DEFAULT_LANGUAGE,{...e,...this.locales.get(fi.DEFAULT_LANGUAGE)||{}})}readFile(e){try{const t=h.readFileSync(e,{flag:"r"})?.toString();return JSON.parse(t)}catch(t){this.logger.error(`Failed to load translations from ${e}`,t)}}translateOrDefault(e,t=this.language){return t===fi.DEFAULT_LANGUAGE?di(e,this.locales.get(t))?.toString():di(e,this.locales.get(t))?.toString()||di(e,this.locales.get(fi.DEFAULT_LANGUAGE))?.toString()}}var gi;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.TRACE=4]="TRACE"}(gi||(gi={}));class mi{options;filePath;size=0;constructor(e){this.options=e,this.filePath=this.getLogFilePath(),this.reIndex()}write({level:e,message:t,error:i}){const n=h.openSync(this.filePath,"a"),r=e=>{h.writeSync(n,e),this.size+=e.length};try{r(`${(new Date).toISOString()} ${gi[e].padEnd(5)} ${t}${p.EOL}`),void 0!==i&&(i instanceof Object&&"message"in i&&i.message&&""!==i.message&&r(`${i.message}${p.EOL}`),i instanceof Object&&"stack"in i&&i.stack&&r(`${i.stack}${p.EOL}`))}finally{h.closeSync(n)}this.size>=this.options.maxSize&&(this.reIndex(),this.size=0)}getLogFilePath(e=0){return d.join(this.options.dest,`${this.options.fileName}.${e}.log`)}getLogFiles(){const e=/^\.(\d+)\.log$/;return h.readdirSync(this.options.dest,{withFileTypes:!0}).reduce(((t,i)=>{if(i.isDirectory()||i.name.indexOf(this.options.fileName)<0)return t;const n=i.name.substring(this.options.fileName.length).match(e);return 2!==n?.length||t.push({path:d.join(this.options.dest,i.name),index:parseInt(n[1])}),t}),[]).sort((({index:e},{index:t})=>e<t?-1:e>t?1:0))}reIndex(){if(!h.existsSync(this.options.dest))return void h.mkdirSync(this.options.dest);const e=this.getLogFiles();for(let t=e.length-1;t>=0;t--){const i=e[t];t>=this.options.maxFileCount-1?h.rmSync(i.path):h.renameSync(i.path,this.getLogFilePath(t+1))}}}class Ai{_level;options;scope;constructor(e){this.options={...e},this.scope=void 0===this.options.scope||""===this.options.scope.trim()?"":`${this.options.scope}: `,"function"!=typeof this.options.level&&this.setLevel(this.options.level)}get level(){return void 0!==this._level?this._level:"function"==typeof this.options.level?this.options.level():this.options.level}createScope(e){return""===(e=e.trim())?this:new Ai({...this.options,level:()=>this.level,scope:this.options.scope?`${this.options.scope}->${e}`:e})}debug(e,t){return this.log(gi.DEBUG,e,t)}error(e,t){return this.log(gi.ERROR,e,t)}info(e,t){return this.log(gi.INFO,e,t)}setLevel(e){return e!==gi.DEBUG&&e!==gi.TRACE||ui()?this._level=e:(this._level=gi.INFO,this.warn(`Log level cannot be set to ${gi[e]} whilst not in debug mode.`)),this}trace(e,t){return this.log(gi.TRACE,e,t)}warn(e,t){return this.log(gi.WARN,e,t)}log(e,t,i){return e<=this.level&&this.options.target.write({level:e,message:`${this.scope}${t}`,error:i}),this}}let bi,vi;function wi(){return bi??=function(){const e=d.join(process.cwd(),"manifest.json");if(!h.existsSync(e))throw new Error("Failed to read manifest.json as the file does not exist.");return JSON.parse(h.readFileSync(e,{encoding:"utf-8",flag:"r"}).toString())}()}function yi(e,t,i){const n={major:Math.floor(e),minor:e%1*10,patch:0,build:0};if(-1===t.compareTo(n))throw new Error(`[ERR_NOT_SUPPORTED]: ${i} requires Stream Deck version ${n.major}.${n.minor} or higher, but current version is ${t.major}.${t.minor}; please update Stream Deck and the "Software.MinimumVersion" in the plugin's manifest to "${n.major}.${n.minor}" or higher.`);if(-1===(vi??=new ti(wi().Software.MinimumVersion)).compareTo(n))throw new Error(`[ERR_NOT_SUPPORTED]: ${i} requires Stream Deck version ${n.major}.${n.minor} or higher; please update the "Software.MinimumVersion" in the plugin's manifest to "${n.major}.${n.minor}" or higher.`)}class Ii{connection;constructor(e){this.connection=e}switchToProfile(e,t,i){return void 0!==i&&yi(6.5,this.connection.version,"Switching to a profile page"),this.connection.send({event:"switchToProfile",context:this.connection.registrationParameters.pluginUUID,device:e,payload:{page:i,profile:t}})}}class Ei{connection;constructor(e){this.connection=e}getGlobalSettings(){return new Promise((e=>{this.connection.once("didReceiveGlobalSettings",(t=>e(t.payload.settings))),this.connection.send({event:"getGlobalSettings",context:this.connection.registrationParameters.pluginUUID})}))}onDidReceiveGlobalSettings(e){return this.connection.disposableOn("didReceiveGlobalSettings",(t=>e(new Xt(t))))}onDidReceiveSettings(e){return this.connection.disposableOn("didReceiveSettings",(t=>e(new Wt(new $t(this.connection,t),t))))}setGlobalSettings(e){return this.connection.send({event:"setGlobalSettings",context:this.connection.registrationParameters.pluginUUID,payload:e})}}class Ci{connection;constructor(e){this.connection=e}onApplicationDidLaunch(e){return this.connection.disposableOn("applicationDidLaunch",(t=>e(new Gt(t))))}onApplicationDidTerminate(e){return this.connection.disposableOn("applicationDidTerminate",(t=>e(new Gt(t))))}onDidReceiveDeepLink(e){return yi(6.5,this.connection.version,"Receiving deep-link messages"),this.connection.disposableOn("didReceiveDeepLink",(t=>e(new Ht(t))))}onSystemDidWakeUp(e){return this.connection.disposableOn("systemDidWakeUp",(t=>e(new Zt(t))))}openUrl(e){return this.connection.send({event:"openUrl",payload:{url:e}})}}class _i{connection;constructor(e){this.connection=e}onPropertyInspectorDidAppear(e){return this.connection.disposableOn("propertyInspectorDidAppear",(t=>e(new zt(new $t(this.connection,t),t))))}onPropertyInspectorDidDisappear(e){return this.connection.disposableOn("propertyInspectorDidDisappear",(t=>e(new zt(new $t(this.connection,t),t))))}onSendToPlugin(e){return this.connection.disposableOn("sendToPlugin",(t=>e(new Kt(new $t(this.connection,t),t))))}}function ki(e){const t=e.UUID;return function(e,i){return class extends e{manifestId=t}}}class Si{manifestId}const xi=new class{_actions;_connection;_devices;_i18n;_logger;_manifest;_profiles;_registrationParameters;_settings;_system;_ui;get actions(){return this._actions??=new Yt(this.connection,this.manifest,this.settings,this.ui,this.logger)}get devices(){return this._devices??=new ci(this.connection)}get i18n(){return this._i18n??=new fi(this.registrationParameters.info.application.language,this.manifest,this.logger)}get info(){return this.registrationParameters.info}get logger(){return this._logger??=function(){const e=new mi({dest:d.join(u.cwd(),"logs"),fileName:pi(),maxFileCount:10,maxSize:52428800}),t=new Ai({level:ui()?gi.DEBUG:gi.INFO,target:e});return process.once("uncaughtException",(e=>t.error("Process encountered uncaught exception",e))),t}()}get manifest(){return this._manifest??=wi()}get profiles(){return this._profiles??=new Ii(this.connection)}get settings(){return this._settings??=new Ei(this.connection)}get system(){return this._system??=new Ci(this.connection)}get ui(){return this._ui??=new _i(this.connection)}get connection(){return this._connection??=(e=this.registrationParameters,t=this.logger,new ii(e,t));var e,t}get registrationParameters(){return this._registrationParameters??=new li(process.argv,this.logger)}connect(){return void 0===this._devices&&(this._devices=new ci(this.connection)),this.connection.connect()}};function Di(e,t,i,n,r,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",h=!t&&e?n.static?e:e.prototype:null,d=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in n)f[g]="access"===g?{}:n[g];for(var g in n.access)f.access[g]=n.access[g];f.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=s(m.get))&&(d.get=a),(a=s(m.set))&&(d.set=a),(a=s(m.init))&&r.unshift(a)}else(a=s(m))&&("field"===l?r.unshift(a):d[c]=a)}h&&Object.defineProperty(h,n.name,d),u=!0}function Ri(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0}"function"==typeof SuppressedError&&SuppressedError;const Oi=Object.freeze({auto:"com.elgato.volume-controller.auto-detection",back:"com.elgato.volume-controller.back-to-profile",autoMute:"com.elgato.volume-controller.auto-detection.mute",autoVolDown:"com.elgato.volume-controller.auto-detection.volume-down",autoVolUp:"com.elgato.volume-controller.auto-detection.volume-up",autoNext:"com.elgato.volume-controller.auto-detection.next",autoPrev:"com.elgato.volume-controller.auto-detection.previous",autoVol:"com.elgato.volume-controller.auto-detection.volume",manual:"com.elgato.volume-controller.manual-detection",blank:"com.elgato.volume-controller.auto-detection.blank",inputDeviceControl:"com.elgato.volume-controller.input-device-control",outputDeviceControl:"com.elgato.volume-controller.output-device-control"}),Pi=Object.freeze({active:2,inactiveShort:3,inactiveLong:4}),Li=Object.freeze({applicationAdded:"applicationAdded",applicationRemoved:"applicationRemoved",applicationChanged:"applicationChanged",applicationsRefreshed:"applicationsRefreshed",applicationVolumeChanged:"applicationVolumeChanged",applicationMuteChanged:"applicationMuteChanged",applicationImageChanged:"applicationImageChanged",applicationActivityChanged:"applicationActivityChanged",defaultDeviceChanged:"defaultDeviceChanged"}),Ni=Object.freeze({togglePolling:"togglePolling",setPollingInterval:"setPollingInterval",getDeviceCount:"getDeviceCount",getSystemDefaultDevice:"getSystemDefaultDevice",getDevice:"getDevice",getApplicationInstanceAtIndex:"getApplicationInstanceAtIndex",getApplicationInstance:"getApplicationInstance",getApplicationInstanceImage:"getApplicationInstanceImage",getApplicationInstanceCount:"getApplicationInstanceCount",setApplicationInstanceVolume:"setApplicationInstanceVolume",setApplicationInstanceMute:"setApplicationInstanceMute",setSystemDefaultDeviceMute:"setSystemDefaultDeviceMute",setSystemDefaultDeviceVolume:"setSystemDefaultDeviceVolume"}),Mi=Object.freeze({mute:"mute",adjust:"adjust",set:"set"}),Bi=Object.freeze({empty:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDQtMDNUMTY6Mjk6MDMtMDQwMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDQtMDNUMTY6MzA6MzYtMDQ6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDQtMDNUMTY6MzA6MzYtMDQ6MDAiCiAgIHBob3Rvc2hvcDpEYXRlQ3JlYXRlZD0iMjAyNC0wNC0wM1QxNjoyOTowMy0wNDAwIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIxNDQiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIxNDQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSIxNDQiCiAgIHRpZmY6SW1hZ2VMZW5ndGg9IjE0NCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNzIvMSIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNzIvMSI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InByb2R1Y2VkIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZmZpbml0eSBQaG90byAyIDIuNC4wIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTA0LTAzVDE2OjMwOjM2LTA0OjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz6ctSbRAAABgGlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz9mRsSIMgvF4iWsxu+a2CgzCSVNY5TBZubNLzVv5vXeSLJVtlOU2Pi14C9gq6yVIlKynjWxQc95Zmokc27nns/93ntO954LjnBG1UzXAGjZvBGa9CsLkUWlrogLJx7a6Y+qpj4eDM5Q1d7vqbHjba9dq/q5f60xnjBVqKkXHlN1Iy88JTyzltdt3hH2qOloXPhM2GvIBYXvbD1W4qLNqRJ/2myEQwFwtAgrqV8c+8Vq2tCE5eV0aZlVtXwf+yXuRHZ+TmKneAcmISbxozDNBAF8DDIqs49ehuiTFVXyB37yZ8lJriqzzjoGK6RIk8cr6qpUT0hMip6QkWHd7v/fvprJ4aFSdbcfap8t67Ub6rbhq2BZH0eW9XUMzie4zFbyc4cw8iZ6oaJ1HUDzJpxfVbTYLlxsQdujHjWiP5JT3JFMwsspNEWg9QYalko9K+9z8gDhDfmqa9jbhx4537z8DVopZ+ACgBdaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZ0lEQVR4nO3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AZEnwABw82W6gAAAABJRU5ErkJggg==",blank:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgAQAAAAA8+JMtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAd2KE6QAAAAHdElNRQfmCBoAJgG3xB23AAAAIUlEQVRo3u3BMQEAAADCoPVPbQlPoAAAAAAAAAAAAAB4GimgAAFp3PnGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTI2VDAwOjM4OjAxKzAwOjAwgIJmlQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0yNlQwMDozODowMSswMDowMPHf3ikAAAAASUVORK5CYII=",down:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA4LTI1VDEyOjM3OjM3LTA0OjAwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA4LTI1VDEyOjM3OjM3LTA0OjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IERlc2lnbmVyIDEuMTAuNSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMi0wOC0yNVQxMjozNzozNy0wNDowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+T713EwAAAYBpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/M4j8iKJQFi9hNeRHTWwsZvKrsBhPGWzevPml5sfrvZEmW2WrKLHxa8FfwFZZK0WkZClrYoOe8+apkcy5nXs+93vvOd17LnjVlJ62ynshncmZobGAMheeVyqfqKKVBprxaLplTM2MqpS091s8TrzudmqVPvev1URjlg6eKuFh3TBzwuPCkys5w+Et4SY9qUWFT4R9plxQ+MbRIy4/O5xw+dNhUw0FwdsgrCR+ceQX60kzLSwvpyOdWtZ/7uO8pDaWmZ2R2C7ehkWIMQIoTDBCED99DMnsp5t+emRFifzeQv40WcnVZTbIY7JEgiQ5fKIuS/WYxLjoMRkp8k7///bVig/0u9VrA1DxaNuvnVC5CV8btv1xYNtfh1D2AOeZYn52HwbfRN8oah17UL8GpxdFLbINZ+vQcm9oplaQysS98Ti8HENdGBqvoHrB7dnPPkd3oK7KV13Czi50yfn6xW81GGfP3L9ZxAAAAAlwSFlzAAALEwAACxMBAJqcGAAACJNJREFUeJzt3M2KZVcZx+H3qKBgDK0SEJOAgpKx4CCToEM/UEJwkEEmXkKG6QtI4g04CCgIOlAzVbyEDJ3kAkI+FDQRMaImln8HdbpJdfrjVNVZ591r7+eBgoZuzl7v2mv/OKmqnCoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOi3614A80jyxar6TlV9v6qerKpP7v/qrKpeq6rfVdUfdrvduz0rBFYnycNJfprkLA92tv+3D3evG5hckh8meeuA8NzprSQ/6F4/MKkkz10hPHd6rnsOYDJJvp3kgyME6IMk3+qeB5hEkseS/O0I8bnlvSSPds/F8nyiewEs0vNVdeOIr/f5/WvCBX4MzwVJblTVm1X10JFf+h9V9fhut/v7kV+XiXkHxJ1+XMePT1XV5/avDbcJEHf65qSvzYQEiDt9fdLXZkICxJ2+NvC1BYgLfBOaC5Jk5Ovvdjtnjtu8AwLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGgjQEAbAQLaCBDQRoCANgIEtBEgoI0AAW0ECGjzqe4FjJTk0ar6XlU9uf96vKre23+9U1WvVtWru93u/bZFsllJHqqqH+2/vlxVX9h/vVlVr+2/fr/b7d5uWySXl+RGkp8k+Xce7P0kP0vySPe6l+CA/bqW7vmWIMkjSX6+P3sP8q8kLye50b1uDpDk6STvXuHZeCvJU93r73aFfbuU7vm6JXkqydtX2Lp3kzzdvX7uI8kzST68xvPx3yTPd8/R6Rp7d5Du+ToleT7J2TW278Mkz3TPwV3k/J3PdeLzUS90z9PlSPt3T93zdUnywpG28MN4J7QsOf+ez1X+s+t+NhmhI+/hx3TP1yHHi88tf43vCS1Hzr9JN8LmIjRoH2/rnu/Ucvz43PJS92xUVZLHcthPu65qUxEauI9JthWgjItPcv7TsUe7Z7yuNfwi4ner6tMDX//FbCxCXN/+zLw48BKfqfOzP7U1BOjJE1xDhDjYCeJzyynO/lACdDgR4oFOGJ8qAVqEx094LRHink4cn6rTnv0h1hCg9058PRHiYxriU3X6s390AnQ1IsRtTfGpEqBFeKfpuiJEZ3yqqv7UdN2jWUOAXm28tghtWHN8qqp+23jto9h1L+C6cv6ZKn+uqs82LuPmbrdbxW+mjv5lwd1uN/2Zq1pEfP5ZVV+a/bOspn8HtL8Bv2lehndCG7KA+FRV/Xr2+FSt4B1Q1fkHPFXVH+v8U+U6Tf9OyDug+1tIfN6uqm/sdru/NK/j2qZ/B1RVtb8Rz1bV/5qX4p3Qii0kPmdV9ewa4rM6Of/ApyWYNkKjN6Z7vqvK2P+x9DI2/YF5i5flHJQpIzR6U7rnu4o4U1xGHJgrG70h3fNdVpwlriIOzpWM3ozu+S4jzhDXEQfo0kZvRPd8h4qzwzHEQbqU0ZvQPd8h4sxwTHGgDjZ6A7rne5A4K4wQB+sgo4fvnu9+4owwUhywBxo9ePd89xJng1OIg3Zfo4funu9u4kxwSnHg7mn0wN3z3SnOAh3i4N3V6GG75/uoOAN0igP4MaMH7Z7vlrj3LEEcxAtGD9k9X5V7zsLEgfzoXgy1gPnca5YnDuatfRiqeTb3mOWKA7raAMW9ZQbZ+EEdPVTTTJu+p0wmGz6wowdqmGez95KJZaMHd/QwJ55lk/eQlcgGD/DoQU44x+buHSuUjR3k0UOcaIZN3TNWLhs60KMHOMH6N3Ov2JBs5GCPXvzgtW/iHrFR2cABH73wgete/b2B1R/00YsetOZV3xO4ICs+8KMXPGC9q70XcE9Z6cEfvdgjr3WV9wAOkhU+AKMXesR1rm7v4dKysgdh9CKPtMZV7TlcS1b0QIxeoL2GAbKSB2P04uwxDJIVPCCjF7blvYXhMvmDMnpRW9xTOKlM/MCMXtCW9hLaZNIHZ/RitrCHsAiZ8AEavZA17x0sTiZ7kEYvYo17BouWiR6o0QtY017BNDLJgzX64mvYI5hSJnjARl945r2B6WXhD9roi864J7AqWfADN/qCM+0FrFYW+uCNvtgMewCbkAU+gKMvtOTZYXOysAdx9EWWODNsWhb0QK7kGocQnwXYdS+Ac/sH4sXudWzEzd1u91L3IhCgRRGhkxCfBRGghRGhocRnYQRogURoCPFZIAFaKBE6KvFZKAFaMBE6CvFZMAFaOBG6FvFZOAGagAhdifhMQIAmIUKXIj6TEKCJiNBBxGciAjQZEbov8ZmMAE1IhO5KfCYkQJMSoQvEZ1ICNDERqirxmZoATW7jERIf6JblfMbOKfk8H1iKbCtC4gNLk21ESHxgqbLuCIkPLF3WGSHxgVlkXRESH5hN1hEh8YFZZe4IiQ/MLnNGSHxgLTJXhMQH1iZzREh8YK2y7AiJD6xdlhkh8YGtyLIiJD6wNVlGhMQHtiq9ERIf2LqmCIkPcO7EERIf4KITRUh8gLsbHCHxAe4vycsD4uPD44HDJHnliPF5pXseYDJJfnWE+Pyyew5gUkluJjm7QnjOktzsXj8wuSRPJHn9EvF5PckT3esGViTJV5P8IskbSf6zf5dztv/zG/u/+0r3OgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC7j/9TdWlm1MnqaAAAAAElFTkSuQmCC",left:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIy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",right:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIy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",up:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA4LTI1VDEyOjI5OjE0LTA0OjAwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA4LTI1VDEyOjI5OjE0LTA0OjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0icHJvZHVjZWQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFmZmluaXR5IERlc2lnbmVyIDEuMTAuNSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMi0wOC0yNVQxMjoyOToxNC0wNDowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+OVVKWAAAAYBpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/M4j8iKJQFi9hNeRHTWwsZvKrsBhPGWzevPml5sfrvZEmW2WrKLHxa8FfwFZZK0WkZClrYoOe8+apkcy5nXs+93vvOd17LnjVlJ62ynshncmZobGAMheeVyqfqKKVBprxaLplTM2MqpS091s8TrzudmqVPvev1URjlg6eKuFh3TBzwuPCkys5w+Et4SY9qUWFT4R9plxQ+MbRIy4/O5xw+dNhUw0FwdsgrCR+ceQX60kzLSwvpyOdWtZ/7uO8pDaWmZ2R2C7ehkWIMQIoTDBCED99DMnsp5t+emRFifzeQv40WcnVZTbIY7JEgiQ5fKIuS/WYxLjoMRkp8k7///bVig/0u9VrA1DxaNuvnVC5CV8btv1xYNtfh1D2AOeZYn52HwbfRN8oah17UL8GpxdFLbINZ+vQcm9oplaQysS98Ti8HENdGBqvoHrB7dnPPkd3oK7KV13Czi50yfn6xW81GGfP3L9ZxAAAAAlwSFlzAAALEwAACxMBAJqcGAAACIxJREFUeJzt3D+vHFcdx+EzoUwUrEAkgkmTJjUdSEQpEUKRogQqeBMpbXrbvAAaI5pI6aBE8A5IQUGTCirsICSIAWEUEsf6Utxd5L/Xe++ds785M88j3SaJds7vzJmPN7Z3WwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABhIkteSvJ/kz0k+S3J/9/PZ7p+9n+S16nUCK5Lk9SQf5XAfJXm9et3A4JL8ZPcu56zuJ7lavX5gUEk+OEd4HvVB9RzAYJL8fIb47N2sngcYRJIbM8Zn73r1XMDCJbnSIT57V6rnAxaqc3xECHiyI8VHhICHHTk+IgScKIqPCMHWFcdnT4Rga7KM+OyJEGxFlhWfPRGCtcsy47MnQrBWWXZ89kQI1iZjxGdPhGAtMlZ89kQIRpcx47MnQjCqjB2fPRGC0WQd8dkTIRhF1hWfPRGCpcs647MnQrBUWXd89kQIlibbiM+eCMFSZFvx2ROhFZiqF8DF7B7Ea9XrKHJ1miZfdj8wARrYxuOzJ0IDE6BBic9DRGhQAjQg8XkiERqQAA1GfE4lQoMRoIGIz0FEaCACNAjxORMRGoQADUB8zkWEBiBACyc+FyJCCydACyY+sxChBROghRKfWYnQQgnQAolPFyK0QAK0MOLTlQgtjAAtiPgchQgtiAAthPgclQgtxHPVC2BR8bm6kms8yzXfJwRtUV8mdmW3nq6WODNsUhb4IPa+0JJnh83IQh/A3hcbYQ9g1bLgB6/3BUfaC1idLPyB633REfcEViEDPGi9Lzzy3sCwMsgD1vvia9gjGEoGerB6L2BNewWLl8EeqN6LWOOewSJlwAep90LWvHewGBn0Aeq9mC3sIZTKwA9O7wVtaS/h6DL4A9N7UVvcUziKrOBB6b2wLe8tdJOVPCC9F2ePYWZZ0YPRe4H2GmaUlT0QvRc50xpXtedwLlnhg9B7oTOuc3V7DwfLSh+A3oudea2rvAdwqqz44PdecIf1rvZewGOy8gPfe9Gd1rzqewKttW0c9N4L77ju1d8bNiwbOeC9F9957Zu4R2xMNnSwew9whPVv5l6xAdnYge49xJFm2NQ9Y6WywYPce5AjzrG5e8eKZKMHuPcwR55lk/eQwWXDB7f3QAXzbPZeMqBs/MD2Hqpopk3fUwYRB3WVAdrNtfl7y4LFAd3vQ1fFs7nHLE8czAf3oqsFzOdesxxxIB/Se8jq+Vpzz1mIOIiP6T1o9Xx7ce+pFAfwiXoPWz3fg+IMUCEO3lP1Hrh6vkfFWeCY4sCdqvfQ1fM9SZwJjiEO2jP1Hrx6vqeJs0FPccAO0nv46vlOE2eEHuJgHaz3BlTP9yxxVphTHKgz6b0J1fMdIs4Mc4iDdGa9N6J6vkPF2eEi4gCdS+/NqJ7vLOIMcR5xcM6t94ZUz3dWcZY4izgwF9J7U6rnO484UxwiyXvVJ2Rn2IPSe2Oq5zuvLCdC71XvBU+Q5I0k96tPRwaOT2sCdJosI0JfJHmjei/mMlUvYA5JXm6t/aG19vXipVydpul68RouJOkbiWmahj5zOfkF5lrxMj5urX1zmqa/Fa/jwp6rXsBMftrEhyPY3eOrxcu43Fq7UbyGWQz9q1FrrSV5obX219ba84XLWE18vAM6zALeCf2ntfa1aZruFq7hwtbwDugHTXw4sgW8E3q+tfZu4fVnsZYAVRGfDVtAhH5YeO1ZrCFAVb/3Iz5UR+iVouvOZg0BeqngmuLD/xVGqOLsz0qAzk58eExRhARoAW4d8Vriw1MVROiYZ7+LNQTowyNdR3x4piNH6FhnvxsBOoz4cLAjRmj4AA0vyeUk/+342ZuhP9t1Vh33McnYnwU7q/T97NinSS5Xz0hrLcmNTjd5U/FpTYDmln4R8o58KZJcSvLJzDd4c/FpTYB6yPwR+nuSL1fPxQOSvJ3k3kw3eJPxaU2Aesl8EbqX5O3qeXiCJO/kYhH6Ihv/wqdZHpFTVM9XKSdfmHeR76y6l+Sd6jk4RU7eCZ3nf8duJ/lO9fqrXeDhOEj1fNVy8sV5t8+xdZ/EO58x5OT3hG7k5E8KnuVukl8k+Wr1upfgHA/GmVTPtwRJXt6dubsHbNmnSa4nuVS97h5W8d0sT5OTP6b8XmvtW7ufV1trd3Y/f2mt/bK19qvRv1NlTr0jsZbvA5pDTr7L6t128qn2V9rJRyteaid/w/nD3c9vpmn6uGyRnTkMPESAOKY1/E1oYFACBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQUEaAgDICBJQRIKCMAAFlBAgoI0BAGQECyggQj/rHoK/NgASIR/2p42v/seNrMyAB4lE9IyFAPESAeNTvB31tBjRVL4BlSXKptXartfbCzC/979baq9M0/Wvm12Vg3gHxkGma/tlau9nhpW+KD/BMSb6R5E7mcyfJ5eq5gEEkeTPJ5zPE5/Mkb1bPAwwmyY9nCNCPqucABpXkrSS3zxGeW0neql4/MLgkLyb5WZL7B4Tn/u6/fbF63SyfP4bnYEm+0lr7bmvt+621b7fWvrT7V/dba79rrf26tfbbaZru1KwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADg7P4HmPUoKqJXz8QAAAAASUVORK5CYII=",back:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIy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",slash:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAAEuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjI4OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI4OCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjI4OCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjg4IgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI3Mi8xIgogICB0aWZmOllSZXNvbHV0aW9uPSI3Mi8xIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIz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"}),ji=Object.freeze({enabled:"#FFFFFF",enabledAccent:"#C02335",disabled:"#454545",disabledAccent:"#5c4144"}),Ti=Object.freeze({default:"default",defaultCommunication:"default-communication"});var Ui=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")};const Fi=new WeakMap,Zi=new WeakMap;let zi=class{constructor(e,t,...i){if(arguments.length<2)throw new TypeError(`Failed to construct 'ImageData': 2 arguments required, but only ${arguments.length} present.`);if("object"==typeof e){if(!(e instanceof Uint8ClampedArray))throw new TypeError("Failed to construct 'ImageData': parameter 1 is not of type 'Uint8ClampedArray'.");if("number"!=typeof t||0===t)throw new Error("Failed to construct 'ImageData': The source width is zero or not a number.");if(4*(t>>>=0)>e.length)throw new Error("Failed to construct 'ImageData': The requested image size exceeds the supported range.");if(e.length%4!=0)throw new Error("Failed to construct 'ImageData': The input data length is not a multiple of 4.");if(e.length%(4*t)!=0)throw new Error("Failed to construct 'ImageData': The input data length is not a multiple of (4 * width).");if(void 0!==i[0]){if("number"!=typeof i[0]||0===i[0])throw new Error("Failed to construct 'ImageData': The source height is zero or not a number.");if(i[0]=i[0]>>>0,e.length%(4*t*i[0])!=0)throw new Error("Failed to construct 'ImageData': The input data length is not equal to (4 * width * height).")}Fi.set(this,t),Zi.set(this,void 0!==i[0]?i[0]:e.byteLength/t/4),Object.defineProperty(this,"data",{configurable:!0,enumerable:!0,value:e,writable:!1})}else{if("number"!=typeof e||0===e)throw new Error("Failed to construct 'ImageData': The source width is zero or not a number.");if(e>>>=0,"number"!=typeof t||0===t)throw new Error("Failed to construct 'ImageData': The source height is zero or not a number.");if(e*(t>>>=0)>=1<<30)throw new Error("Failed to construct 'ImageData': The requested image size exceeds the supported range.");Fi.set(this,e),Zi.set(this,t),Object.defineProperty(this,"data",{configurable:!0,enumerable:!0,value:new Uint8ClampedArray(e*t*4),writable:!1})}}};Object.defineProperty(zi.prototype,"width",{enumerable:!0,configurable:!0,get(){return Fi.get(this)}}),Object.defineProperty(zi.prototype,"height",{enumerable:!0,configurable:!0,get(){return Zi.get(this)}});var Wi=zi;const Gi=Ui,Vi=Wi;class Hi{constructor(e,t,{width:i,height:n,colorDepth:r,format:o}){if(this.format=o,this.offset=t,this.depth=r,this.stride=function(e){const t=e%4;return t?e+4-t:e}(i*this.depth/8),this.size=this.stride*n,this.data=e.slice(this.offset,this.offset+this.size),this.size!==this.data.byteLength)throw new Error("Truncated bitmap data")}get(e,t,i){const n=this.format.indexOf(i);if(1===this.depth){return(this.data[t*this.stride+(e/8|0)]&1<<7-e%8*1)>>7-e%8*1}if(2===this.depth){return(this.data[t*this.stride+(e/4|0)]&3<<6-e%4*2)>>>6-e%4*2}if(4===this.depth){return(this.data[t*this.stride+(e/2|0)]&15<<4-e%2*4)>>>4-e%2*4}return this.data[t*this.stride+e*(this.depth/8)+n]}}var Qi=function(e,{width:t=0,height:i=0,icon:n=!1}={}){const r=Gi(e);let o,s,a,l,c;n?(o=r.getUint32(0,!0),s=r.getUint32(4,!0)/1|0,a=r.getUint32(8,!0)/2|0,l=r.getUint16(14,!0),c=r.getUint32(32,!0)):(!function(e){if(19778!==e)throw new Error(`Invalid magic byte 0x${e.toString(16)}`)}(r.getUint16(0,!0)),o=14+r.getUint32(14,!0),s=r.getUint32(18,!0),a=r.getUint32(22,!0),l=r.getUint16(28,!0),c=r.getUint32(46,!0)),0===c&&l<=8&&(c=1<<l);const h=0===s?t:s,d=0===a?i:a,u=new Uint8Array(r.buffer,r.byteOffset+o,r.byteLength-o),p=c?function(e,{width:t,height:i,colorDepth:n,colorCount:r,icon:o}){if(8!==n&&4!==n&&2!==n&&1!==n)throw new Error(`A color depth of ${n} is not supported`);const s=new Hi(e,0,{width:r,height:1,colorDepth:32,format:"BGRA"}),a=new Hi(e,s.offset+s.size,{width:t,height:i,colorDepth:n,format:"C"}),l=o?new Hi(e,a.offset+a.size,{width:t,height:i,colorDepth:1,format:"A"}):null,c=new Uint8Array(t*i*4);let h=0;for(let e=0;e<i;e++)for(let n=0;n<t;n++){const t=a.get(n,i-e-1,"C");c[h++]=s.get(t,0,"R"),c[h++]=s.get(t,0,"G"),c[h++]=s.get(t,0,"B"),c[h++]=l&&l.get(n,i-e-1,"A")?0:255}return new Uint8ClampedArray(c.buffer,c.byteOffset,c.byteLength)}(u,{width:h,height:d,colorDepth:l,colorCount:c,icon:n}):function(e,{width:t,height:i,colorDepth:n,icon:r}){if(32!==n&&24!==n)throw new Error(`A color depth of ${n} is not supported`);const o=new Hi(e,0,{width:t,height:i,colorDepth:n,format:"BGRA"}),s=24===n&&r?new Hi(e,o.offset+o.size,{width:t,height:i,colorDepth:1,format:"A"}):null,a=new Uint8Array(t*i*4);let l=0;for(let e=0;e<i;e++)for(let r=0;r<t;r++)a[l++]=o.get(r,i-e-1,"R"),a[l++]=o.get(r,i-e-1,"G"),a[l++]=o.get(r,i-e-1,"B"),a[l++]=32===n?o.get(r,i-e-1,"A"):s&&s.get(r,i-e-1,"A")?0:255;return new Uint8ClampedArray(a.buffer,a.byteOffset,a.byteLength)}(u,{width:h,height:d,colorDepth:l,icon:n});return Object.assign(new Vi(p,h,d),{colorDepth:l})},Ji=C(Qi);const Ki=Ui,Xi=Qi,$i=Wi;function Yi(e,t){return 2303741511===e.getUint32(t+0)&&218765834===e.getUint32(t+4)}function qi(e,t){const i=e.getUint8(t+24),n=e.getUint8(t+25);if(0===n)return 1*i;if(2===n)return 3*i;if(3===n)return 1*i;if(4===n)return 2*i;if(6===n)return 4*i;throw new Error("Invalid PNG colorType")}function en(e,t){return e.getUint32(t+16,!1)}function tn(e,t){return e.getUint32(t+20,!1)}var nn=function(e){const t=Ki(e);if(t.byteLength<6)throw new Error("Truncated header");if(Yi(t,0))return[{bpp:qi(t,0),data:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),height:tn(t,0),hotspot:null,type:"png",width:en(t,0)}];if(0!==t.getUint16(0,!0))throw new Error("Invalid magic bytes");const i=t.getUint16(2,!0);if(1!==i&&2!==i)throw new Error("Invalid image type");const n=t.getUint16(4,!0);if(t.byteLength<6+16*n)throw new Error("Truncated image list");return Array.from({length:n},((e,n)=>{const r=t.getUint8(6+16*n+0),o=t.getUint8(6+16*n+1),s=t.getUint32(6+16*n+8,!0),a=t.getUint32(6+16*n+12,!0),l=2!==i?null:{x:t.getUint16(6+16*n+4,!0),y:t.getUint16(6+16*n+6,!0)};if(Yi(t,a))return{bpp:qi(t,a),data:new Uint8Array(t.buffer,t.byteOffset+a,s),height:tn(t,a),hotspot:l,type:"png",width:en(t,a)};const c=new Uint8Array(t.buffer,t.byteOffset+a,s),h=Xi(c,{width:r,height:o,icon:!0}),d={bpp:h.colorDepth,hotspot:l,type:"bmp"};return Object.assign(new $i(h.data,h.width,h.height),d)}))},rn=C(nn);function on(e,t="utf8"){return new g.TextDecoder(t).decode(e)}const sn=new g.TextEncoder;const an=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),ln={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cn{constructor(e=8192,t={}){let i=!1;"number"==typeof e?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,r=e.byteLength-n;let o=n;(ArrayBuffer.isView(e)||e instanceof cn)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+n),e=e.buffer),this.lastWrittenByte=i?r:0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,r),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),i=new Uint8Array(t);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=ln[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,r=this.buffer.slice(n,n+i);if(this.littleEndian===an&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(n,n+i));e.reverse();const r=new ln[t](e.buffer);return this.offset+=i,r.reverse(),r}const o=new ln[t](r);return this.offset+=i,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return on(this.readBytes(e))}decodeText(e=1,t="utf-8"){return on(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return sn.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function hn(e){let t=e.length;for(;--t>=0;)e[t]=0}const dn=256,un=286,pn=30,fn=15,gn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),An=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vn=new Array(576);hn(vn);const wn=new Array(60);hn(wn);const yn=new Array(512);hn(yn);const In=new Array(256);hn(In);const En=new Array(29);hn(En);const Cn=new Array(pn);function _n(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let kn,Sn,xn;function Dn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}hn(Cn);const Rn=e=>e<256?yn[e]:yn[256+(e>>>7)],On=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Pn=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,On(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},Ln=(e,t,i)=>{Pn(e,i[2*t],i[2*t+1])},Nn=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},Mn=(e,t,i)=>{const n=new Array(16);let r,o,s=0;for(r=1;r<=fn;r++)s=s+i[r-1]<<1,n[r]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=Nn(n[t]++,t))}},Bn=e=>{let t;for(t=0;t<un;t++)e.dyn_ltree[2*t]=0;for(t=0;t<pn;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},jn=e=>{e.bi_valid>8?On(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Tn=(e,t,i,n)=>{const r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]},Un=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&Tn(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Tn(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},Fn=(e,t,i)=>{let n,r,o,s,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?Ln(e,r,t):(o=In[r],Ln(e,o+dn+1,t),s=gn[o],0!==s&&(r-=En[o],Pn(e,r,s)),n--,o=Rn(n),Ln(e,o,i),s=mn[o],0!==s&&(n-=Cn[o],Pn(e,n,s)))}while(a<e.sym_next);Ln(e,256,t)},Zn=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==i[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):i[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,i[2*l]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=n[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Un(e,i,s);l=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Un(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,i[2*l]=i[2*s]+i[2*a],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,i[2*s+1]=i[2*a+1]=l,e.heap[1]=l++,Un(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,h,d,u,p,f,g=0;for(u=0;u<=fn;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)h=e.heap[c],u=i[2*i[2*h+1]+1]+1,u>l&&(u=l,g++),i[2*h+1]=u,h>n||(e.bl_count[u]++,p=0,h>=a&&(p=s[h-a]),f=i[2*h],e.opt_len+=f*(u+p),o&&(e.static_len+=f*(r[2*h+1]+p)));if(0!==g){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(u=l;0!==u;u--)for(h=e.bl_count[u];0!==h;)d=e.heap[--c],d>n||(i[2*d+1]!==u&&(e.opt_len+=(u-i[2*d+1])*i[2*d],i[2*d+1]=u),h--)}})(e,t),Mn(i,c,e.bl_count)},zn=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=t[2*(n+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))},Wn=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),n=0;n<=i;n++)if(r=s,s=t[2*(n+1)+1],!(++a<l&&r===s)){if(a<c)do{Ln(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(Ln(e,r,e.bl_tree),a--),Ln(e,16,e.bl_tree),Pn(e,a-3,2)):a<=10?(Ln(e,17,e.bl_tree),Pn(e,a-3,3)):(Ln(e,18,e.bl_tree),Pn(e,a-11,7));a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}};let Gn=!1;const Vn=(e,t,i,n)=>{Pn(e,0+(n?1:0),3),jn(e),On(e,i),On(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var Hn=(e,t,i,n)=>{let r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<dn;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Zn(e,e.l_desc),Zn(e,e.d_desc),s=(e=>{let t;for(zn(e,e.dyn_ltree,e.l_desc.max_code),zn(e,e.dyn_dtree,e.d_desc.max_code),Zn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*bn[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?Vn(e,t,i,n):4===e.strategy||o===r?(Pn(e,2+(n?1:0),3),Fn(e,vn,wn)):(Pn(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(Pn(e,t-257,5),Pn(e,i-1,5),Pn(e,n-4,4),r=0;r<n;r++)Pn(e,e.bl_tree[2*bn[r]+1],3);Wn(e,e.dyn_ltree,t-1),Wn(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Fn(e,e.dyn_ltree,e.dyn_dtree)),Bn(e),n&&jn(e)},Qn={_tr_init:e=>{Gn||((()=>{let e,t,i,n,r;const o=new Array(16);for(i=0,n=0;n<28;n++)for(En[n]=i,e=0;e<1<<gn[n];e++)In[i++]=n;for(In[i-1]=n,r=0,n=0;n<16;n++)for(Cn[n]=r,e=0;e<1<<mn[n];e++)yn[r++]=n;for(r>>=7;n<pn;n++)for(Cn[n]=r<<7,e=0;e<1<<mn[n]-7;e++)yn[256+r++]=n;for(t=0;t<=fn;t++)o[t]=0;for(e=0;e<=143;)vn[2*e+1]=8,e++,o[8]++;for(;e<=255;)vn[2*e+1]=9,e++,o[9]++;for(;e<=279;)vn[2*e+1]=7,e++,o[7]++;for(;e<=287;)vn[2*e+1]=8,e++,o[8]++;for(Mn(vn,287,o),e=0;e<pn;e++)wn[2*e+1]=5,wn[2*e]=Nn(e,5);kn=new _n(vn,gn,257,un,fn),Sn=new _n(wn,mn,0,pn,fn),xn=new _n(new Array(0),An,0,19,7)})(),Gn=!0),e.l_desc=new Dn(e.dyn_ltree,kn),e.d_desc=new Dn(e.dyn_dtree,Sn),e.bl_desc=new Dn(e.bl_tree,xn),e.bi_buf=0,e.bi_valid=0,Bn(e)},_tr_stored_block:Vn,_tr_flush_block:Hn,_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(In[i]+dn+1)]++,e.dyn_dtree[2*Rn(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{Pn(e,2,3),Ln(e,256,vn),(e=>{16===e.bi_valid?(On(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Jn=(e,t,i,n)=>{let r=65535&e,o=e>>>16&65535,s=0;for(;0!==i;){s=i>2e3?2e3:i,i-=s;do{r=r+t[n++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16};const Kn=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var Xn=(e,t,i,n)=>{const r=Kn,o=n+i;e^=-1;for(let i=n;i<o;i++)e=e>>>8^r[255&(e^t[i])];return~e},$n={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Yn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qn,_tr_stored_block:er,_tr_flush_block:tr,_tr_tally:ir,_tr_align:nr}=Qn,{Z_NO_FLUSH:rr,Z_PARTIAL_FLUSH:or,Z_FULL_FLUSH:sr,Z_FINISH:ar,Z_BLOCK:lr,Z_OK:cr,Z_STREAM_END:hr,Z_STREAM_ERROR:dr,Z_DATA_ERROR:ur,Z_BUF_ERROR:pr,Z_DEFAULT_COMPRESSION:fr,Z_FILTERED:gr,Z_HUFFMAN_ONLY:mr,Z_RLE:Ar,Z_FIXED:br,Z_DEFAULT_STRATEGY:vr,Z_UNKNOWN:wr,Z_DEFLATED:yr}=Yn,Ir=258,Er=262,Cr=42,_r=113,kr=666,Sr=(e,t)=>(e.msg=$n[t],t),xr=e=>2*e-(e>4?9:0),Dr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Rr=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let Or=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const Pr=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},Lr=(e,t)=>{tr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Pr(e.strm)},Nr=(e,t)=>{e.pending_buf[e.pending++]=t},Mr=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Br=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=Jn(e.adler,t,r,i):2===e.state.wrap&&(e.adler=Xn(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},jr=(e,t)=>{let i,n,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Er?e.strstart-(e.w_size-Er):0,c=e.window,h=e.w_mask,d=e.prev,u=e.strstart+Ir;let p=c[o+s-1],f=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,c[i+s]===f&&c[i+s-1]===p&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<u);if(n=Ir-(u-o),o=u-Ir,n>s){if(e.match_start=t,s=n,n>=a)break;p=c[o+s-1],f=c[o+s]}}}while((t=d[t&h])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead},Tr=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Er)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Rr(e),n+=t),0===e.strm.avail_in)break;if(i=Br(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=Or(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=Or(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Er&&0!==e.strm.avail_in)},Ur=(e,t)=>{let i,n,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<o&&(0===i&&t!==ar||t===rr||i!==n+e.strm.avail_in))break;s=t===ar&&i===n+e.strm.avail_in?1:0,er(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,Pr(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(Br(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==rr&&t!==ar&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(Br(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,o=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=o||(n||t===ar)&&t!==rr&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,s=t===ar&&0===e.strm.avail_in&&i===n?1:0,er(e,e.block_start,i,s),e.block_start+=i,Pr(e.strm)),s?3:1)},Fr=(e,t)=>{let i,n;for(;;){if(e.lookahead<Er){if(Tr(e),e.lookahead<Er&&t===rr)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Or(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-Er&&(e.match_length=jr(e,i)),e.match_length>=3)if(n=ir(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Or(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Or(e,e.ins_h,e.window[e.strstart+1]);else n=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ar?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2},Zr=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<Er){if(Tr(e),e.lookahead<Er&&t===rr)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Or(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Er&&(e.match_length=jr(e,i),e.match_length<=5&&(e.strategy===gr||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=ir(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Or(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Lr(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=ir(e,0,e.window[e.strstart-1]),n&&Lr(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=ir(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ar?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2};function zr(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const Wr=[new zr(0,0,0,0,Ur),new zr(4,4,8,4,Fr),new zr(4,5,16,8,Fr),new zr(4,6,32,32,Fr),new zr(4,4,16,16,Zr),new zr(8,16,32,32,Zr),new zr(8,16,128,128,Zr),new zr(8,32,128,256,Zr),new zr(32,128,258,1024,Zr),new zr(32,258,258,4096,Zr)];function Gr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Dr(this.dyn_ltree),Dr(this.dyn_dtree),Dr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Dr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Dr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Cr&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==_r&&t.status!==kr?1:0},Hr=e=>{if(Vr(e))return Sr(e,dr);e.total_in=e.total_out=0,e.data_type=wr;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Cr:_r,e.adler=2===t.wrap?0:1,t.last_flush=-2,qn(t),cr},Qr=e=>{const t=Hr(e);var i;return t===cr&&((i=e.state).window_size=2*i.w_size,Dr(i.head),i.max_lazy_match=Wr[i.level].max_lazy,i.good_match=Wr[i.level].good_length,i.nice_match=Wr[i.level].nice_length,i.max_chain_length=Wr[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},Jr=(e,t,i,n,r,o)=>{if(!e)return dr;let s=1;if(t===fr&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||i!==yr||n<8||n>15||t<0||t>9||o<0||o>br||8===n&&1!==s)return Sr(e,dr);8===n&&(n=9);const a=new Gr;return e.state=a,a.strm=e,a.status=Cr,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=i,Qr(e)};var Kr=(e,t)=>{let i=t.length;if(Vr(e))return dr;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==Cr||n.lookahead)return dr;if(1===r&&(e.adler=Jn(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(Dr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Tr(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=Or(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Tr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=r,cr},Xr={deflateInit:(e,t)=>Jr(e,t,yr,15,8,vr),deflateInit2:Jr,deflateReset:Qr,deflateResetKeep:Hr,deflateSetHeader:(e,t)=>Vr(e)||2!==e.state.wrap?dr:(e.state.gzhead=t,cr),deflate:(e,t)=>{if(Vr(e)||t>lr||t<0)return e?Sr(e,dr):dr;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===kr&&t!==ar)return Sr(e,0===e.avail_out?pr:dr);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(Pr(e),0===e.avail_out)return i.last_flush=-1,cr}else if(0===e.avail_in&&xr(t)<=xr(n)&&t!==ar)return Sr(e,pr);if(i.status===kr&&0!==e.avail_in)return Sr(e,pr);if(i.status===Cr&&0===i.wrap&&(i.status=_r),i.status===Cr){let t=yr+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=mr||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,Mr(i,t),0!==i.strstart&&(Mr(i,e.adler>>>16),Mr(i,65535&e.adler)),e.adler=1,i.status=_r,Pr(e),0!==i.pending)return i.last_flush=-1,cr}if(57===i.status)if(e.adler=0,Nr(i,31),Nr(i,139),Nr(i,8),i.gzhead)Nr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Nr(i,255&i.gzhead.time),Nr(i,i.gzhead.time>>8&255),Nr(i,i.gzhead.time>>16&255),Nr(i,i.gzhead.time>>24&255),Nr(i,9===i.level?2:i.strategy>=mr||i.level<2?4:0),Nr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Nr(i,255&i.gzhead.extra.length),Nr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Xn(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Nr(i,0),Nr(i,0),Nr(i,0),Nr(i,0),Nr(i,0),Nr(i,9===i.level?2:i.strategy>=mr||i.level<2?4:0),Nr(i,3),i.status=_r,Pr(e),0!==i.pending)return i.last_flush=-1,cr;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,Pr(e),0!==i.pending)return i.last_flush=-1,cr;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),Pr(e),0!==i.pending)return i.last_flush=-1,cr;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Nr(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),Pr(e),0!==i.pending)return i.last_flush=-1,cr;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Nr(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Pr(e),0!==i.pending))return i.last_flush=-1,cr;Nr(i,255&e.adler),Nr(i,e.adler>>8&255),e.adler=0}if(i.status=_r,Pr(e),0!==i.pending)return i.last_flush=-1,cr}if(0!==e.avail_in||0!==i.lookahead||t!==rr&&i.status!==kr){let n=0===i.level?Ur(i,t):i.strategy===mr?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Tr(e),0===e.lookahead)){if(t===rr)return 1;break}if(e.match_length=0,i=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ar?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Ar?((e,t)=>{let i,n,r,o;const s=e.window;for(;;){if(e.lookahead<=Ir){if(Tr(e),e.lookahead<=Ir&&t===rr)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){o=e.strstart+Ir;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=Ir-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=ir(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ar?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2})(i,t):Wr[i.level].func(i,t);if(3!==n&&4!==n||(i.status=kr),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),cr;if(2===n&&(t===or?nr(i):t!==lr&&(er(i,0,0,!1),t===sr&&(Dr(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Pr(e),0===e.avail_out))return i.last_flush=-1,cr}return t!==ar?cr:i.wrap<=0?hr:(2===i.wrap?(Nr(i,255&e.adler),Nr(i,e.adler>>8&255),Nr(i,e.adler>>16&255),Nr(i,e.adler>>24&255),Nr(i,255&e.total_in),Nr(i,e.total_in>>8&255),Nr(i,e.total_in>>16&255),Nr(i,e.total_in>>24&255)):(Mr(i,e.adler>>>16),Mr(i,65535&e.adler)),Pr(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?cr:hr)},deflateEnd:e=>{if(Vr(e))return dr;const t=e.state.status;return e.state=null,t===_r?Sr(e,ur):cr},deflateSetDictionary:Kr,deflateInfo:"pako deflate (from Nodeca project)"};const $r=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Yr={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)$r(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let qr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){qr=!1}const eo=new Uint8Array(256);for(let e=0;e<256;e++)eo[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;eo[254]=eo[254]=1;var to={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,o,s=e.length,a=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let s=eo[t];if(s>4)o[r++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<i;)t=t<<6|63&e[n++],s--;s>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&qr)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(o,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+eo[e[i]]>t?i:t}};var io=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const no=Object.prototype.toString,{Z_NO_FLUSH:ro,Z_SYNC_FLUSH:oo,Z_FULL_FLUSH:so,Z_FINISH:ao,Z_OK:lo,Z_STREAM_END:co,Z_DEFAULT_COMPRESSION:ho,Z_DEFAULT_STRATEGY:uo,Z_DEFLATED:po}=Yn;function fo(e){this.options=Yr.assign({level:ho,method:po,chunkSize:16384,windowBits:15,memLevel:8,strategy:uo},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new io,this.strm.avail_out=0;let i=Xr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==lo)throw new Error($n[i]);if(t.header&&Xr.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?to.string2buf(t.dictionary):"[object ArrayBuffer]"===no.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=Xr.deflateSetDictionary(this.strm,e),i!==lo)throw new Error($n[i]);this._dict_set=!0}}function go(e,t){const i=new fo(t);if(i.push(e,!0),i.err)throw i.msg||$n[i.err];return i.result}fo.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ao:ro,"string"==typeof e?i.input=to.string2buf(e):"[object ArrayBuffer]"===no.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(o===oo||o===so)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=Xr.deflate(i,o),r===co)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Xr.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===lo;if(0!==i.avail_out){if(o>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},fo.prototype.onData=function(e){this.chunks.push(e)},fo.prototype.onEnd=function(e){e===lo&&(this.result=Yr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mo=function(e,t){return(t=t||{}).raw=!0,go(e,t)},Ao=function(e,t){return(t=t||{}).gzip=!0,go(e,t)},bo={Deflate:fo,deflate:go,deflateRaw:mo,gzip:Ao,constants:Yn};const vo=16209;var wo=function(e,t){let i,n,r,o,s,a,l,c,h,d,u,p,f,g,m,A,b,v,w,y,I,E,C,_;const k=e.state;i=e.next_in,C=e.input,n=i+(e.avail_in-5),r=e.next_out,_=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),a=k.dmax,l=k.wsize,c=k.whave,h=k.wnext,d=k.window,u=k.hold,p=k.bits,f=k.lencode,g=k.distcode,m=(1<<k.lenbits)-1,A=(1<<k.distbits)-1;e:do{p<15&&(u+=C[i++]<<p,p+=8,u+=C[i++]<<p,p+=8),b=f[u&m];t:for(;;){if(v=b>>>24,u>>>=v,p-=v,v=b>>>16&255,0===v)_[r++]=65535&b;else{if(!(16&v)){if(64&v){if(32&v){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=vo;break e}b=f[(65535&b)+(u&(1<<v)-1)];continue t}for(w=65535&b,v&=15,v&&(p<v&&(u+=C[i++]<<p,p+=8),w+=u&(1<<v)-1,u>>>=v,p-=v),p<15&&(u+=C[i++]<<p,p+=8,u+=C[i++]<<p,p+=8),b=g[u&A];;){if(v=b>>>24,u>>>=v,p-=v,v=b>>>16&255,16&v){if(y=65535&b,v&=15,p<v&&(u+=C[i++]<<p,p+=8,p<v&&(u+=C[i++]<<p,p+=8)),y+=u&(1<<v)-1,y>a){e.msg="invalid distance too far back",k.mode=vo;break e}if(u>>>=v,p-=v,v=r-o,y>v){if(v=y-v,v>c&&k.sane){e.msg="invalid distance too far back",k.mode=vo;break e}if(I=0,E=d,0===h){if(I+=l-v,v<w){w-=v;do{_[r++]=d[I++]}while(--v);I=r-y,E=_}}else if(h<v){if(I+=l+h-v,v-=h,v<w){w-=v;do{_[r++]=d[I++]}while(--v);if(I=0,h<w){v=h,w-=v;do{_[r++]=d[I++]}while(--v);I=r-y,E=_}}}else if(I+=h-v,v<w){w-=v;do{_[r++]=d[I++]}while(--v);I=r-y,E=_}for(;w>2;)_[r++]=E[I++],_[r++]=E[I++],_[r++]=E[I++],w-=3;w&&(_[r++]=E[I++],w>1&&(_[r++]=E[I++]))}else{I=r-y;do{_[r++]=_[I++],_[r++]=_[I++],_[r++]=_[I++],w-=3}while(w>2);w&&(_[r++]=_[I++],w>1&&(_[r++]=_[I++]))}break}if(64&v){e.msg="invalid distance code",k.mode=vo;break e}b=g[(65535&b)+(u&(1<<v)-1)]}}break}}while(i<n&&r<s);w=p>>3,i-=w,p-=w<<3,u&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<s?s-r+257:257-(r-s),k.hold=u,k.bits=p};const yo=15,Io=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Eo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Co=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_o=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ko=(e,t,i,n,r,o,s,a)=>{const l=a.bits;let c,h,d,u,p,f,g=0,m=0,A=0,b=0,v=0,w=0,y=0,I=0,E=0,C=0,_=null;const k=new Uint16Array(16),S=new Uint16Array(16);let x,D,R,O=null;for(g=0;g<=yo;g++)k[g]=0;for(m=0;m<n;m++)k[t[i+m]]++;for(v=l,b=yo;b>=1&&0===k[b];b--);if(v>b&&(v=b),0===b)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(A=1;A<b&&0===k[A];A++);for(v<A&&(v=A),I=1,g=1;g<=yo;g++)if(I<<=1,I-=k[g],I<0)return-1;if(I>0&&(0===e||1!==b))return-1;for(S[1]=0,g=1;g<yo;g++)S[g+1]=S[g]+k[g];for(m=0;m<n;m++)0!==t[i+m]&&(s[S[t[i+m]]++]=m);if(0===e?(_=O=s,f=20):1===e?(_=Io,O=Eo,f=257):(_=Co,O=_o,f=0),C=0,m=0,g=A,p=o,w=v,y=0,d=-1,E=1<<v,u=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){x=g-y,s[m]+1<f?(D=0,R=s[m]):s[m]>=f?(D=O[s[m]-f],R=_[s[m]-f]):(D=96,R=0),c=1<<g-y,h=1<<w,A=h;do{h-=c,r[p+(C>>y)+h]=x<<24|D<<16|R}while(0!==h);for(c=1<<g-1;C&c;)c>>=1;if(0!==c?(C&=c-1,C+=c):C=0,m++,0==--k[g]){if(g===b)break;g=t[i+s[m]]}if(g>v&&(C&u)!==d){for(0===y&&(y=v),p+=A,w=g-y,I=1<<w;w+y<b&&(I-=k[w+y],!(I<=0));)w++,I<<=1;if(E+=1<<w,1===e&&E>852||2===e&&E>592)return 1;d=C&u,r[d]=v<<24|w<<16|p-o}}return 0!==C&&(r[p+C]=g-y<<24|64<<16),a.bits=v,0};const{Z_FINISH:So,Z_BLOCK:xo,Z_TREES:Do,Z_OK:Ro,Z_STREAM_END:Oo,Z_NEED_DICT:Po,Z_STREAM_ERROR:Lo,Z_DATA_ERROR:No,Z_MEM_ERROR:Mo,Z_BUF_ERROR:Bo,Z_DEFLATED:jo}=Yn,To=16180,Uo=16190,Fo=16191,Zo=16192,zo=16194,Wo=16199,Go=16200,Vo=16206,Ho=16209,Qo=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Jo(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ko=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<To||t.mode>16211?1:0},Xo=e=>{if(Ko(e))return Lo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=To,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ro},$o=e=>{if(Ko(e))return Lo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Xo(e)},Yo=(e,t)=>{let i;if(Ko(e))return Lo;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Lo:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,$o(e))},qo=(e,t)=>{if(!e)return Lo;const i=new Jo;e.state=i,i.strm=e,i.window=null,i.mode=To;const n=Yo(e,t);return n!==Ro&&(e.state=null),n};let es,ts,is=!0;const ns=e=>{if(is){es=new Int32Array(512),ts=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ko(1,e.lens,0,288,es,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ko(2,e.lens,0,32,ts,0,e.work,{bits:5}),is=!1}e.lencode=es,e.lenbits=9,e.distcode=ts,e.distbits=5},rs=(e,t,i,n)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(t.subarray(i-n,i-n+r),o.wnext),(n-=r)?(o.window.set(t.subarray(i-n,i),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var os=(e,t)=>{let i,n,r,o,s,a,l,c,h,d,u,p,f,g,m,A,b,v,w,y,I,E,C=0;const _=new Uint8Array(4);let k,S;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ko(e)||!e.output||!e.input&&0!==e.avail_in)return Lo;i=e.state,i.mode===Fo&&(i.mode=Zo),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,h=i.bits,d=a,u=l,E=Ro;e:for(;;)switch(i.mode){case To:if(0===i.wrap){i.mode=Zo;break}for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(2&i.wrap&&35615===c){0===i.wbits&&(i.wbits=15),i.check=0,_[0]=255&c,_[1]=c>>>8&255,i.check=Xn(i.check,_,2,0),c=0,h=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=Ho;break}if((15&c)!==jo){e.msg="unknown compression method",i.mode=Ho;break}if(c>>>=4,h-=4,I=8+(15&c),0===i.wbits&&(i.wbits=I),I>15||I>i.wbits){e.msg="invalid window size",i.mode=Ho;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&c?16189:Fo,c=0,h=0;break;case 16181:for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(i.flags=c,(255&i.flags)!==jo){e.msg="unknown compression method",i.mode=Ho;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Ho;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&4&i.wrap&&(_[0]=255&c,_[1]=c>>>8&255,i.check=Xn(i.check,_,2,0)),c=0,h=0,i.mode=16182;case 16182:for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.head&&(i.head.time=c),512&i.flags&&4&i.wrap&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,i.check=Xn(i.check,_,4,0)),c=0,h=0,i.mode=16183;case 16183:for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&4&i.wrap&&(_[0]=255&c,_[1]=c>>>8&255,i.check=Xn(i.check,_,2,0)),c=0,h=0,i.mode=16184;case 16184:if(1024&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&4&i.wrap&&(_[0]=255&c,_[1]=c>>>8&255,i.check=Xn(i.check,_,2,0)),c=0,h=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(p=i.length,p>a&&(p=a),p&&(i.head&&(I=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(o,o+p),I)),512&i.flags&&4&i.wrap&&(i.check=Xn(i.check,n,p,o)),a-=p,o+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break e;p=0;do{I=n[o+p++],i.head&&I&&i.length<65536&&(i.head.name+=String.fromCharCode(I))}while(I&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=Xn(i.check,n,p,o)),a-=p,o+=p,I)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break e;p=0;do{I=n[o+p++],i.head&&I&&i.length<65536&&(i.head.comment+=String.fromCharCode(I))}while(I&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=Xn(i.check,n,p,o)),a-=p,o+=p,I)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(4&i.wrap&&c!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Ho;break}c=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Fo;break;case 16189:for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}e.adler=i.check=Qo(c),c=0,h=0,i.mode=Uo;case Uo:if(0===i.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,Po;e.adler=i.check=1,i.mode=Fo;case Fo:if(t===xo||t===Do)break e;case Zo:if(i.last){c>>>=7&h,h-=7&h,i.mode=Vo;break}for(;h<3;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}switch(i.last=1&c,c>>>=1,h-=1,3&c){case 0:i.mode=16193;break;case 1:if(ns(i),i.mode=Wo,t===Do){c>>>=2,h-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=Ho}c>>>=2,h-=2;break;case 16193:for(c>>>=7&h,h-=7&h;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Ho;break}if(i.length=65535&c,c=0,h=0,i.mode=zo,t===Do)break e;case zo:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;r.set(n.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,i.length-=p;break}i.mode=Fo;break;case 16196:for(;h<14;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(i.nlen=257+(31&c),c>>>=5,h-=5,i.ndist=1+(31&c),c>>>=5,h-=5,i.ncode=4+(15&c),c>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Ho;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;h<3;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.lens[x[i.have++]]=7&c,c>>>=3,h-=3}for(;i.have<19;)i.lens[x[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,k={bits:i.lenbits},E=ko(0,i.lens,0,19,i.lencode,0,i.work,k),i.lenbits=k.bits,E){e.msg="invalid code lengths set",i.mode=Ho;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;C=i.lencode[c&(1<<i.lenbits)-1],m=C>>>24,A=C>>>16&255,b=65535&C,!(m<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(b<16)c>>>=m,h-=m,i.lens[i.have++]=b;else{if(16===b){for(S=m+2;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(c>>>=m,h-=m,0===i.have){e.msg="invalid bit length repeat",i.mode=Ho;break}I=i.lens[i.have-1],p=3+(3&c),c>>>=2,h-=2}else if(17===b){for(S=m+3;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=m,h-=m,I=0,p=3+(7&c),c>>>=3,h-=3}else{for(S=m+7;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=m,h-=m,I=0,p=11+(127&c),c>>>=7,h-=7}if(i.have+p>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Ho;break}for(;p--;)i.lens[i.have++]=I}}if(i.mode===Ho)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Ho;break}if(i.lenbits=9,k={bits:i.lenbits},E=ko(1,i.lens,0,i.nlen,i.lencode,0,i.work,k),i.lenbits=k.bits,E){e.msg="invalid literal/lengths set",i.mode=Ho;break}if(i.distbits=6,i.distcode=i.distdyn,k={bits:i.distbits},E=ko(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,k),i.distbits=k.bits,E){e.msg="invalid distances set",i.mode=Ho;break}if(i.mode=Wo,t===Do)break e;case Wo:i.mode=Go;case Go:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,wo(e,u),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,h=i.bits,i.mode===Fo&&(i.back=-1);break}for(i.back=0;C=i.lencode[c&(1<<i.lenbits)-1],m=C>>>24,A=C>>>16&255,b=65535&C,!(m<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(A&&!(240&A)){for(v=m,w=A,y=b;C=i.lencode[y+((c&(1<<v+w)-1)>>v)],m=C>>>24,A=C>>>16&255,b=65535&C,!(v+m<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=v,h-=v,i.back+=v}if(c>>>=m,h-=m,i.back+=m,i.length=b,0===A){i.mode=16205;break}if(32&A){i.back=-1,i.mode=Fo;break}if(64&A){e.msg="invalid literal/length code",i.mode=Ho;break}i.extra=15&A,i.mode=16201;case 16201:if(i.extra){for(S=i.extra;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;C=i.distcode[c&(1<<i.distbits)-1],m=C>>>24,A=C>>>16&255,b=65535&C,!(m<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(!(240&A)){for(v=m,w=A,y=b;C=i.distcode[y+((c&(1<<v+w)-1)>>v)],m=C>>>24,A=C>>>16&255,b=65535&C,!(v+m<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=v,h-=v,i.back+=v}if(c>>>=m,h-=m,i.back+=m,64&A){e.msg="invalid distance code",i.mode=Ho;break}i.offset=b,i.extra=15&A,i.mode=16203;case 16203:if(i.extra){for(S=i.extra;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Ho;break}i.mode=16204;case 16204:if(0===l)break e;if(p=u-l,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Ho;break}p>i.wnext?(p-=i.wnext,f=i.wsize-p):f=i.wnext-p,p>i.length&&(p=i.length),g=i.window}else g=r,f=s-i.offset,p=i.length;p>l&&(p=l),l-=p,i.length-=p;do{r[s++]=g[f++]}while(--p);0===i.length&&(i.mode=Go);break;case 16205:if(0===l)break e;r[s++]=i.length,l--,i.mode=Go;break;case Vo:if(i.wrap){for(;h<32;){if(0===a)break e;a--,c|=n[o++]<<h,h+=8}if(u-=l,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?Xn(i.check,r,u,s-u):Jn(i.check,r,u,s-u)),u=l,4&i.wrap&&(i.flags?c:Qo(c))!==i.check){e.msg="incorrect data check",i.mode=Ho;break}c=0,h=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(4&i.wrap&&c!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Ho;break}c=0,h=0}i.mode=16208;case 16208:E=Oo;break e;case Ho:E=No;break e;case 16210:return Mo;default:return Lo}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,(i.wsize||u!==e.avail_out&&i.mode<Ho&&(i.mode<Vo||t!==So))&&rs(e,e.output,e.next_out,u-e.avail_out),d-=e.avail_in,u-=e.avail_out,e.total_in+=d,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?Xn(i.check,r,u,e.next_out-u):Jn(i.check,r,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Fo?128:0)+(i.mode===Wo||i.mode===zo?256:0),(0===d&&0===u||t===So)&&E===Ro&&(E=Bo),E},ss={inflateReset:$o,inflateReset2:Yo,inflateResetKeep:Xo,inflateInit:e=>qo(e,15),inflateInit2:qo,inflate:os,inflateEnd:e=>{if(Ko(e))return Lo;let t=e.state;return t.window&&(t.window=null),e.state=null,Ro},inflateGetHeader:(e,t)=>{if(Ko(e))return Lo;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,Ro):Lo},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,o;return Ko(e)?Lo:(n=e.state,0!==n.wrap&&n.mode!==Uo?Lo:n.mode===Uo&&(r=1,r=Jn(r,t,i,0),r!==n.check)?No:(o=rs(e,t,i,i),o?(n.mode=16210,Mo):(n.havedict=1,Ro)))},inflateInfo:"pako inflate (from Nodeca project)"};var as=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ls=Object.prototype.toString,{Z_NO_FLUSH:cs,Z_FINISH:hs,Z_OK:ds,Z_STREAM_END:us,Z_NEED_DICT:ps,Z_STREAM_ERROR:fs,Z_DATA_ERROR:gs,Z_MEM_ERROR:ms}=Yn;function As(e){this.options=Yr.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new io,this.strm.avail_out=0;let i=ss.inflateInit2(this.strm,t.windowBits);if(i!==ds)throw new Error($n[i]);if(this.header=new as,ss.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=to.string2buf(t.dictionary):"[object ArrayBuffer]"===ls.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=ss.inflateSetDictionary(this.strm,t.dictionary),i!==ds)))throw new Error($n[i])}As.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?hs:cs,"[object ArrayBuffer]"===ls.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),o=ss.inflate(i,s),o===ps&&r&&(o=ss.inflateSetDictionary(i,r),o===ds?o=ss.inflate(i,s):o===gs&&(o=ps));i.avail_in>0&&o===us&&i.state.wrap>0&&0!==e[i.next_in];)ss.inflateReset(i),o=ss.inflate(i,s);switch(o){case fs:case gs:case ps:case ms:return this.onEnd(o),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||o===us))if("string"===this.options.to){let e=to.utf8border(i.output,i.next_out),t=i.next_out-e,r=to.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(o!==ds||0!==a){if(o===us)return o=ss.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},As.prototype.onData=function(e){this.chunks.push(e)},As.prototype.onEnd=function(e){e===ds&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Yr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const{Deflate:bs,deflate:vs,deflateRaw:ws,gzip:ys}=bo;var Is=vs;const Es=[137,80,78,71,13,10,26,10],Cs=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;Cs[e]=t}const _s=4294967295;function ks(e,t){return(function(e,t,i){let n=e;for(let e=0;e<i;e++)n=Cs[255&(n^t[e])]^n>>>8;return n}(_s,e,t)^_s)>>>0}var Ss,xs,Ds,Rs;!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.GREYSCALE=0]="GREYSCALE",e[e.TRUECOLOUR=2]="TRUECOLOUR",e[e.INDEXED_COLOUR=3]="INDEXED_COLOUR",e[e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",e[e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(Ss||(Ss={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.DEFLATE=0]="DEFLATE"}(xs||(xs={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.ADAPTIVE=0]="ADAPTIVE"}(Ds||(Ds={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.NO_INTERLACE=0]="NO_INTERLACE",e[e.ADAM7=1]="ADAM7"}(Rs||(Rs={}));const Os=new Uint16Array([255]);new Uint8Array(Os.buffer)[0];const Ps={level:3};class Ls extends cn{constructor(e,t={}){super(),this._colorType=Ss.UNKNOWN,this._zlibOptions={...Ps,...t.zlib},this._png=this._checkData(e),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(Es)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(xs.DEFLATE),this.writeByte(Ds.ADAPTIVE),this.writeByte(Rs.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(e){this.writeUint32(e.length),this.writeChars("IDAT"),this.writeBytes(e),this.writeCrc(e.length+4)}encodeData(){const{width:e,height:t,channels:i,depth:n,data:r}=this._png,o=i*e,s=(new cn).setBigEndian();let a=0;for(let e=0;e<t;e++)if(s.writeByte(0),8===n)a=Ms(r,s,o,a);else{if(16!==n)throw new Error("unreachable");a=Bs(r,s,o,a)}const l=s.toArray(),c=Is(l,this._zlibOptions);this.encodeIDAT(c)}_checkData(e){const{colorType:t,channels:i,depth:n}=function(e){const{channels:t=4,depth:i=8}=e;if(4!==t&&3!==t&&2!==t&&1!==t)throw new RangeError(`unsupported number of channels: ${t}`);if(8!==i&&16!==i)throw new RangeError(`unsupported bit depth: ${i}`);const n={channels:t,depth:i,colorType:Ss.UNKNOWN};switch(t){case 4:n.colorType=Ss.TRUECOLOUR_ALPHA;break;case 3:n.colorType=Ss.TRUECOLOUR;break;case 1:n.colorType=Ss.GREYSCALE;break;case 2:n.colorType=Ss.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return n}(e),r={width:Ns(e.width,"width"),height:Ns(e.height,"height"),channels:i,data:e.data,depth:n,text:{}};this._colorType=t;const o=r.width*r.height*i;if(r.data.length!==o)throw new RangeError(`wrong data size. Found ${r.data.length}, expected ${o}`);return r}writeCrc(e){this.writeUint32(ks(new Uint8Array(this.buffer,this.byteOffset+this.offset-e,e),e))}}function Ns(e,t){if(Number.isInteger(e)&&e>0)return e;throw new TypeError(`${t} must be a positive integer`)}function Ms(e,t,i,n){for(let r=0;r<i;r++)t.writeByte(e[n++]);return n}function Bs(e,t,i,n){for(let r=0;r<i;r++)t.writeUint16(e[n++]);return n}var js;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(js||(js={}));const Ts=function(e){return null!=e};var Us={defined:Ts,object:function(e){return"object"==typeof e},plainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fn:function(e){return"function"==typeof e},bool:function(e){return"boolean"==typeof e},buffer:function(e){return e instanceof Buffer},typedArray:function(e){if(Ts(e))switch(e.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},arrayBuffer:function(e){return e instanceof ArrayBuffer},string:function(e){return"string"==typeof e&&e.length>0},number:function(e){return"number"==typeof e&&!Number.isNaN(e)},integer:function(e){return Number.isInteger(e)},inRange:function(e,t,i){return e>=t&&e<=i},inArray:function(e,t){return t.includes(e)},invalidParameterError:function(e,t,i){return new Error(`Expected ${t} for ${e} but received ${i} of type ${typeof i}`)},nativeError:function(e,t){return t.message=e.message,t}},Fs={exports:{}};const Zs=()=>"linux"===process.platform;let zs=null;var Ws={isLinux:Zs,getReport:()=>{if(!zs)if(Zs()&&process.report){const e=process.report.excludeNetwork;process.report.excludeNetwork=!0,zs=process.report.getReport(),process.report.excludeNetwork=e}else zs={};return zs}};const Gs=v;var Vs={LDD_PATH:"/usr/bin/ldd",readFileSync:e=>Gs.readFileSync(e,"utf-8"),readFile:e=>new Promise(((t,i)=>{Gs.readFile(e,"utf-8",((e,n)=>{e?i(e):t(n)}))}))};const Hs=b,{isLinux:Qs,getReport:Js}=Ws,{LDD_PATH:Ks,readFile:Xs,readFileSync:$s}=Vs;let Ys,qs;const ea="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true";let ta="";const ia=()=>ta||new Promise((e=>{Hs.exec(ea,((t,i)=>{ta=t?" ":i,e(ta)}))})),na=()=>{if(!ta)try{ta=Hs.execSync(ea,{encoding:"utf8"})}catch(e){ta=" "}return ta},ra="glibc",oa=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,sa="musl",aa=e=>e.includes("libc.musl-")||e.includes("ld-musl-"),la=()=>{const e=Js();return e.header&&e.header.glibcVersionRuntime?ra:Array.isArray(e.sharedObjects)&&e.sharedObjects.some(aa)?sa:null},ca=e=>{const[t,i]=e.split(/[\r\n]+/);return t&&t.includes(ra)?ra:i&&i.includes(sa)?sa:null},ha=e=>e.includes("musl")?sa:e.includes("GNU C Library")?ra:null,da=async()=>{let e=null;if(Qs()&&(e=await(async()=>{if(void 0!==Ys)return Ys;Ys=null;try{const e=await Xs(Ks);Ys=ha(e)}catch(e){}return Ys})(),e||(e=la()),!e)){const t=await ia();e=ca(t)}return e},ua=()=>{let e=null;if(Qs()&&(e=(()=>{if(void 0!==Ys)return Ys;Ys=null;try{const e=$s(Ks);Ys=ha(e)}catch(e){}return Ys})(),e||(e=la()),!e)){const t=na();e=ca(t)}return e},pa=()=>{const e=Js();return e.header&&e.header.glibcVersionRuntime?e.header.glibcVersionRuntime:null},fa=e=>e.trim().split(/\s+/)[1],ga=e=>{const[t,i,n]=e.split(/[\r\n]+/);return t&&t.includes(ra)?fa(t):i&&n&&i.includes(sa)?fa(n):null};var ma={GLIBC:ra,MUSL:sa,family:da,familySync:ua,isNonGlibcLinux:async()=>Qs()&&await da()!==ra,isNonGlibcLinuxSync:()=>Qs()&&ua()!==ra,version:async()=>{let e=null;if(Qs()&&(e=await(async()=>{if(void 0!==qs)return qs;qs=null;try{const e=(await Xs(Ks)).match(oa);e&&(qs=e[1])}catch(e){}return qs})(),e||(e=pa()),!e)){const t=await ia();e=ga(t)}return e},versionSync:()=>{let e=null;if(Qs()&&(e=(()=>{if(void 0!==qs)return qs;qs=null;try{const e=$s(Ks).match(oa);e&&(qs=e[1])}catch(e){}return qs})(),e||(e=pa()),!e)){const t=na();e=ga(t)}return e}};var Aa="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ba={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},va={exports:{}};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:r}=ba,o=Aa,s=(t=e.exports={}).re=[],a=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],h=t.t={};let d=0;const u="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[u,n]],f=(e,t,i)=>{const n=(e=>{for(const[t,i]of p)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e})(t),r=d++;o(e,r,t),h[e]=r,l[r]=t,c[r]=n,s[r]=new RegExp(t,i?"g":void 0),a[r]=new RegExp(n,i?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),f("MAINVERSION",`(${l[h.NUMERICIDENTIFIER]})\\.(${l[h.NUMERICIDENTIFIER]})\\.(${l[h.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[h.NUMERICIDENTIFIERLOOSE]})\\.(${l[h.NUMERICIDENTIFIERLOOSE]})\\.(${l[h.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[h.NUMERICIDENTIFIER]}|${l[h.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[h.NUMERICIDENTIFIERLOOSE]}|${l[h.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[h.PRERELEASEIDENTIFIER]}(?:\\.${l[h.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[h.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${u}+`),f("BUILD",`(?:\\+(${l[h.BUILDIDENTIFIER]}(?:\\.${l[h.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[h.MAINVERSION]}${l[h.PRERELEASE]}?${l[h.BUILD]}?`),f("FULL",`^${l[h.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[h.MAINVERSIONLOOSE]}${l[h.PRERELEASELOOSE]}?${l[h.BUILD]}?`),f("LOOSE",`^${l[h.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[h.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[h.XRANGEIDENTIFIER]})(?:\\.(${l[h.XRANGEIDENTIFIER]})(?:\\.(${l[h.XRANGEIDENTIFIER]})(?:${l[h.PRERELEASE]})?${l[h.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})(?:${l[h.PRERELEASELOOSE]})?${l[h.BUILD]}?)?)?`),f("XRANGE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),f("COERCE",`${l[h.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[h.COERCEPLAIN]+`(?:${l[h.PRERELEASE]})?`+`(?:${l[h.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[h.COERCE],!0),f("COERCERTLFULL",l[h.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[h.LONECARET]}${l[h.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[h.LONECARET]}${l[h.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[h.GTLT]}\\s*(${l[h.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]}|${l[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[h.XRANGEPLAIN]})\\s+-\\s+(${l[h.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[h.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(va,va.exports);var wa=va.exports;const ya=Object.freeze({loose:!0}),Ia=Object.freeze({});var Ea=e=>e?"object"!=typeof e?ya:e:Ia;const Ca=/^[0-9]+$/,_a=(e,t)=>{const i=Ca.test(e),n=Ca.test(t);return i&&n&&(e=+e,t=+t),e===t?0:i&&!n?-1:n&&!i?1:e<t?-1:1};var ka={compareIdentifiers:_a,rcompareIdentifiers:(e,t)=>_a(t,e)};const Sa=Aa,{MAX_LENGTH:xa,MAX_SAFE_INTEGER:Da}=ba,{safeRe:Ra,safeSrc:Oa,t:Pa}=wa,La=Ea,{compareIdentifiers:Na}=ka;var Ma=class e{constructor(t,i){if(i=La(i),t instanceof e){if(t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xa)throw new TypeError(`version is longer than ${xa} characters`);Sa("SemVer",t,i),this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease;const n=t.trim().match(i.loose?Ra[Pa.LOOSE]:Ra[Pa.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Da||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Da||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Da||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Da)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Sa("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Na(this.major,t.major)||Na(this.minor,t.minor)||Na(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let i=0;do{const e=this.prerelease[i],n=t.prerelease[i];if(Sa("prerelease compare",i,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return Na(e,n)}while(++i)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let i=0;do{const e=this.build[i],n=t.build[i];if(Sa("build compare",i,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return Na(e,n)}while(++i)}inc(e,t,i){if(e.startsWith("pre")){if(!t&&!1===i)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?Oa[Pa.PRERELEASELOOSE]:Oa[Pa.PRERELEASE]}$`),i=`-${t}`.match(e);if(!i||i[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(i)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===Na(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Ba=Ma;var ja=(e,t,i=!1)=>{if(e instanceof Ba)return e;try{return new Ba(e,t)}catch(e){if(!i)return null;throw e}};const Ta=Ma,Ua=ja,{safeRe:Fa,t:Za}=wa;var za=(e,t)=>{if(e instanceof Ta)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){const n=t.includePrerelease?Fa[Za.COERCERTLFULL]:Fa[Za.COERCERTL];let r;for(;(r=n.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&r.index+r[0].length===i.index+i[0].length||(i=r),n.lastIndex=r.index+r[1].length+r[2].length;n.lastIndex=-1}else i=e.match(t.includePrerelease?Fa[Za.COERCEFULL]:Fa[Za.COERCE]);if(null===i)return null;const n=i[2],r=i[3]||"0",o=i[4]||"0",s=t.includePrerelease&&i[5]?`-${i[5]}`:"",a=t.includePrerelease&&i[6]?`+${i[6]}`:"";return Ua(`${n}.${r}.${o}${s}${a}`,t)};const Wa=Ma;var Ga=(e,t,i)=>new Wa(e,i).compare(new Wa(t,i));const Va=Ga;var Ha=(e,t,i)=>Va(e,t,i)>=0;var Qa=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}};const Ja=Ga;const Ka=Ga;const Xa=Ga;const $a=Ga;const Ya=Ga;const qa=(e,t,i)=>0===Ja(e,t,i),el=(e,t,i)=>0!==Ka(e,t,i),tl=(e,t,i)=>Xa(e,t,i)>0,il=Ha,nl=(e,t,i)=>$a(e,t,i)<0,rl=(e,t,i)=>Ya(e,t,i)<=0;var ol,sl,al,ll,cl=(e,t,i,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return qa(e,i,n);case"!=":return el(e,i,n);case">":return tl(e,i,n);case">=":return il(e,i,n);case"<":return nl(e,i,n);case"<=":return rl(e,i,n);default:throw new TypeError(`Invalid operator: ${t}`)}};function hl(){if(ll)return al;ll=1;const e=/\s+/g;class t{constructor(i,o){if(o=n(o),i instanceof t)return i.loose===!!o.loose&&i.includePrerelease===!!o.includePrerelease?i:new t(i.raw,o);if(i instanceof r)return this.raw=i.value,this.set=[[i]],this.formatted=void 0,this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=i.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&u)|(this.options.loose&&p))+":"+e,n=i.get(t);if(n)return n;const s=this.options.loose,g=s?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];e=e.replace(g,S(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(a[l.COMPARATORTRIM],c),o("comparator trim",e),e=e.replace(a[l.TILDETRIM],h),o("tilde trim",e),e=e.replace(a[l.CARETTRIM],d),o("caret trim",e);let m=e.split(" ").map((e=>A(e,this.options))).join(" ").split(/\s+/).map((e=>k(e,this.options)));s&&(m=m.filter((e=>(o("loose invalid filter",e,this.options),!!e.match(a[l.COMPARATORLOOSE]))))),o("range list",m);const b=new Map,v=m.map((e=>new r(e,this.options)));for(const e of v){if(f(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const w=[...b.values()];return i.set(t,w),w}intersects(e,i){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>m(t,i)&&e.set.some((e=>m(e,i)&&t.every((t=>e.every((e=>t.intersects(e,i)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(x(this.set[t],e,this.options))return!0;return!1}}al=t;const i=new Qa,n=Ea,r=function(){if(sl)return ol;sl=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(n,r){if(r=i(r),n instanceof t){if(n.loose===!!r.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,r),this.options=r,this.loose=!!r.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(t){const i=this.options.loose?n[r.COMPARATORLOOSE]:n[r.COMPARATOR],o=t.match(i);if(!o)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new a(o[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(s("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch(e){return!1}return o(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(e.value,n).test(this.value):""===e.operator?""===e.value||new l(this.value,n).test(e.semver):!((n=i(n)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(o(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(o(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}ol=t;const i=Ea,{safeRe:n,t:r}=wa,o=cl,s=Aa,a=Ma,l=hl();return ol}(),o=Aa,s=Ma,{safeRe:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:h,caretTrimReplace:d}=wa,{FLAG_INCLUDE_PRERELEASE:u,FLAG_LOOSE:p}=ba,f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let i=!0;const n=e.slice();let r=n.pop();for(;i&&n.length;)i=n.every((e=>r.intersects(e,t))),r=n.pop();return i},A=(e,t)=>(o("comp",e,t),e=y(e,t),o("caret",e),e=v(e,t),o("tildes",e),e=E(e,t),o("xrange",e),e=_(e,t),o("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const i=t.loose?a[l.TILDELOOSE]:a[l.TILDE];return e.replace(i,((t,i,n,r,s)=>{let a;return o("tilde",e,t,i,n,r,s),b(i)?a="":b(n)?a=`>=${i}.0.0 <${+i+1}.0.0-0`:b(r)?a=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:s?(o("replaceTilde pr",s),a=`>=${i}.${n}.${r}-${s} <${i}.${+n+1}.0-0`):a=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,o("tilde return",a),a}))},y=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{o("caret",e,t);const i=t.loose?a[l.CARETLOOSE]:a[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,((t,i,r,s,a)=>{let l;return o("caret",e,t,i,r,s,a),b(i)?l="":b(r)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:b(s)?l="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:a?(o("replaceCaret pr",a),l="0"===i?"0"===r?`>=${i}.${r}.${s}-${a} <${i}.${r}.${+s+1}-0`:`>=${i}.${r}.${s}-${a} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${s}-${a} <${+i+1}.0.0-0`):(o("no pr"),l="0"===i?"0"===r?`>=${i}.${r}.${s}${n} <${i}.${r}.${+s+1}-0`:`>=${i}.${r}.${s}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${s} <${+i+1}.0.0-0`),o("caret return",l),l}))},E=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map((e=>C(e,t))).join(" ")),C=(e,t)=>{e=e.trim();const i=t.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return e.replace(i,((i,n,r,s,a,l)=>{o("xRange",e,i,n,r,s,a,l);const c=b(r),h=c||b(s),d=h||b(a),u=d;return"="===n&&u&&(n=""),l=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&u?(h&&(s=0),a=0,">"===n?(n=">=",h?(r=+r+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",h?r=+r+1:s=+s+1),"<"===n&&(l="-0"),i=`${n+r}.${s}.${a}${l}`):h?i=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${s}.0${l} <${r}.${+s+1}.0-0`),o("xRange return",i),i}))},_=(e,t)=>(o("replaceStars",e,t),e.trim().replace(a[l.STAR],"")),k=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),S=e=>(t,i,n,r,o,s,a,l,c,h,d,u)=>`${i=b(n)?"":b(r)?`>=${n}.0.0${e?"-0":""}`:b(o)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`} ${l=b(c)?"":b(h)?`<${+c+1}.0.0-0`:b(d)?`<${c}.${+h+1}.0-0`:u?`<=${c}.${h}.${d}-${u}`:e?`<${c}.${h}.${+d+1}-0`:`<=${l}`}`.trim(),x=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==r.ANY&&e[i].semver.prerelease.length>0){const n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return al}const dl=hl();var ul=(e,t,i)=>{try{t=new dl(t,i)}catch(e){return!1}return t.test(e)},pl={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.33.5",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://sharp.pixelplumbing.com",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unnebck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix Bnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","Jrmy Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kotovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Choucio <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>","Don Denton <don@happycollision.com>"],scripts:{install:"node install/check",clean:"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT"',"test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build","package-from-github-release":"node npm/from-github-release","docs-build":"node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},type:"commonjs",main:"lib/index.js",types:"lib/index.d.ts",files:["install","lib","src/*.{cc,h,gyp}"],repository:{type:"git",url:"git://github.com/lovell/sharp.git"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{color:"^4.2.3","detect-libc":"^2.0.3",semver:"^7.6.3"},optionalDependencies:{"@img/sharp-darwin-arm64":"0.33.5","@img/sharp-darwin-x64":"0.33.5","@img/sharp-libvips-darwin-arm64":"1.0.4","@img/sharp-libvips-darwin-x64":"1.0.4","@img/sharp-libvips-linux-arm":"1.0.5","@img/sharp-libvips-linux-arm64":"1.0.4","@img/sharp-libvips-linux-s390x":"1.0.4","@img/sharp-libvips-linux-x64":"1.0.4","@img/sharp-libvips-linuxmusl-arm64":"1.0.4","@img/sharp-libvips-linuxmusl-x64":"1.0.4","@img/sharp-linux-arm":"0.33.5","@img/sharp-linux-arm64":"0.33.5","@img/sharp-linux-s390x":"0.33.5","@img/sharp-linux-x64":"0.33.5","@img/sharp-linuxmusl-arm64":"0.33.5","@img/sharp-linuxmusl-x64":"0.33.5","@img/sharp-wasm32":"0.33.5","@img/sharp-win32-ia32":"0.33.5","@img/sharp-win32-x64":"0.33.5"},devDependencies:{"@emnapi/runtime":"^1.2.0","@img/sharp-libvips-dev":"1.0.4","@img/sharp-libvips-dev-wasm32":"1.0.5","@img/sharp-libvips-win32-ia32":"1.0.4","@img/sharp-libvips-win32-x64":"1.0.4","@types/node":"*",async:"^3.2.5",cc:"^3.0.1",emnapi:"^1.2.0","exif-reader":"^2.0.1","extract-zip":"^2.0.1",icc:"^3.0.0","jsdoc-to-markdown":"^8.0.3","license-checker":"^25.0.1",mocha:"^10.7.3","node-addon-api":"^8.1.0",nyc:"^17.0.0",prebuild:"^13.0.1",semistandard:"^17.0.0","tar-fs":"^3.0.6",tsd:"^0.31.1"},license:"Apache-2.0",engines:{node:"^18.17.0 || ^20.3.0 || >=21.0.0"},config:{libvips:">=8.15.3"},funding:{url:"https://opencollective.com/libvips"},binary:{napi_versions:[9]},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]},nyc:{include:["lib"]},tsd:{directory:"test/types/"}};const{spawnSync:fl}=w,{createHash:gl}=y,ml=za,Al=Ha,bl=ul,vl=ma,{config:wl,engines:yl,optionalDependencies:Il}=pl,El=process.env.npm_package_config_libvips||wl.libvips,Cl=ml(El).version,_l={encoding:"utf8",shell:!0},kl=()=>vl.isNonGlibcLinuxSync()?vl.familySync():"",Sl=()=>{if(xl())return"wasm32";const{npm_config_arch:e,npm_config_platform:t,npm_config_libc:i}=process.env,n="string"==typeof i?i:kl();return`${t||process.platform}${n}-${e||process.arch}`},xl=()=>{const{CC:e}=process.env;return Boolean(e&&e.endsWith("/emcc"))},Dl=e=>gl("sha512").update(e).digest("hex"),Rl=()=>{if("win32"!==process.platform){return(fl("pkg-config --modversion vips-cpp",{..._l,env:{...process.env,PKG_CONFIG_PATH:Ol()}}).stdout||"").trim()}return""},Ol=()=>{if("win32"!==process.platform){return[(fl('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',_l).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":")}return""},Pl=(e,t,i)=>(i&&i(`Detected ${t}, skipping search for globally-installed libvips`),e);var Ll={minimumLibvipsVersion:Cl,prebuiltPlatforms:["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-ia32","win32-x64"],buildPlatformArch:Sl,buildSharpLibvipsIncludeDir:()=>{try{return require(`@img/sharp-libvips-dev-${Sl()}/include`)}catch{try{return require("@img/sharp-libvips-dev/include")}catch{}}return""},buildSharpLibvipsCPlusPlusDir:()=>{try{return require("@img/sharp-libvips-dev/cplusplus")}catch{}return""},buildSharpLibvipsLibDir:()=>{try{return require(`@img/sharp-libvips-dev-${Sl()}/lib`)}catch{try{return require(`@img/sharp-libvips-${Sl()}/lib`)}catch{}}return""},isUnsupportedNodeRuntime:()=>{if("node"===process.release?.name&&process.versions&&!bl(process.versions.node,yl.node))return{found:process.versions.node,expected:yl.node}},runtimePlatformArch:()=>`${process.platform}${kl()}-${process.arch}`,log:e=>{e instanceof Error?console.error(`sharp: Installation error: ${e.message}`):console.log(`sharp: ${e}`)},yarnLocator:()=>{try{const e=Dl(`imgsharp-libvips-${Sl()}`),t=ml(Il[`@img/sharp-libvips-${Sl()}`]).version;return Dl(`${e}npm:${t}`).slice(0,10)}catch{}return""},spawnRebuild:()=>fl("node-gyp rebuild --directory=src "+(xl()?"--nodedir=emscripten":""),{..._l,stdio:"inherit"}).status,globalLibvipsVersion:Rl,pkgConfigPath:Ol,useGlobalLibvips:e=>{if(!0===Boolean(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS))return Pl(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS",e);if(!0===Boolean(process.env.SHARP_FORCE_GLOBAL_LIBVIPS))return Pl(!0,"SHARP_FORCE_GLOBAL_LIBVIPS",e);if((()=>{if("darwin"===process.platform&&"x64"===process.arch)return"sysctl.proc_translated: 1"===(fl("sysctl sysctl.proc_translated",_l).stdout||"").trim();return!1})())return Pl(!1,"Rosetta",e);const t=Rl();return!!t&&Al(t,Cl)}};const{familySync:Nl,versionSync:Ml}=ma,{runtimePlatformArch:Bl,isUnsupportedNodeRuntime:jl,prebuiltPlatforms:Tl,minimumLibvipsVersion:Ul}=Ll,Fl=Bl(),Zl=[`../src/build/Release/sharp-${Fl}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${Fl}/sharp.node`,"@img/sharp-wasm32/sharp.node"];let zl;const Wl=[];for(const e of Zl)try{zl=require(e);break}catch(Sr){Wl.push(Sr)}if(!zl){const[e,t,i]=["linux","darwin","win32"].map((e=>Fl.startsWith(e))),n=[`Could not load the "sharp" module using the ${Fl} runtime`];Wl.forEach((e=>{"MODULE_NOT_FOUND"!==e.code&&n.push(`${e.code}: ${e.message}`)}));const r=Wl.map((e=>e.message)).join(" ");if(n.push("Possible solutions:"),jl()){const{found:e,expected:t}=jl();n.push("- Please upgrade Node.js:",`    Found ${e}`,`    Requires ${t}`)}else if(Tl.includes(Fl)){const[e,t]=Fl.split("-"),i=e.endsWith("musl")?" --libc=musl":"";n.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${e.replace("musl","")}${i} --cpu=${t} sharp`)}else n.push(`- Manually install libvips >= ${Ul}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(e&&/(symbol not found|CXXABI_)/i.test(r))try{const{config:e}=require(`@img/sharp-libvips-${Fl}/package`),t=`${Nl()} ${Ml()}`,i=`${e.musl?"musl":"glibc"} ${e.musl||e.glibc}`;n.push("- Update your OS:",`    Found ${t}`,`    Requires ${i}`)}catch(e){}throw e&&/\/snap\/core[0-9]{2}/.test(r)&&n.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node"),t&&/Incompatible library version/.test(r)&&n.push("- Update Homebrew:","    brew update && brew upgrade vips"),Wl.some((e=>"ERR_DLOPEN_DISABLED"===e.code))&&n.push("- Run Node.js without using the --no-addons flag"),i&&/The specified procedure could not be found/.test(r)&&n.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp"),n.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),new Error(n.join("\n"))}Fs.exports=zl;var Gl=Fs.exports;const Vl=A,Hl=Us,Ql=m.debuglog("sharp"),Jl=function(e,t){if(1===arguments.length&&!Hl.defined(e))throw new Error("Invalid input");return this instanceof Jl?(Vl.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],useExifOrientation:!1,angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBeforePreExtract:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],extendWith:"background",withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tint:[-1,0,0,0],flatten:!1,flattenBackground:[0,0,0],unflatten:!1,negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,precision:"integer",minAmpl:.2,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimBackground:[],trimThreshold:-1,trimLineArt:!1,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,normaliseLower:1,normaliseUpper:99,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspacePipeline:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,keepMetadata:0,withMetadataOrientation:-1,withMetadataDensity:0,withIccProfile:"",withExif:{},withExifMerge:!0,resolveWithObject:!1,jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpPreset:"default",webpEffort:4,webpMinSize:!1,webpMixed:!1,gifBitdepth:8,gifEffort:7,gifDither:1,gifInterFrameMaxError:0,gifInterPaletteMaxError:3,gifReuse:!0,gifProgressive:!1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffMiniswhite:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",heifBitdepth:8,jxlDistance:1,jxlDecodingTier:0,jxlEffort:7,jxlLossless:!1,rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",tileBasename:"",timeoutSeconds:0,linearA:[],linearB:[],debuglog:e=>{this.emit("warning",e),Ql(e)},queueListener:function(e){Jl.queue.emit("change",e)}},this.options.input=this._createInputDescriptor(e,t,{allowStream:!0}),this):new Jl(e,t)};Object.setPrototypeOf(Jl.prototype,Vl.Duplex.prototype),Object.setPrototypeOf(Jl,Vl.Duplex),Object.assign(Jl.prototype,{clone:function(){const e=this.constructor.call(),{debuglog:t,queueListener:i,...n}=this.options;return e.options=structuredClone(n),e.options.debuglog=t,e.options.queueListener=i,this._isStreamInput()&&this.on("finish",(()=>{this._flattenBufferIn(),e.options.input.buffer=this.options.input.buffer,e.emit("finish")})),e}});var Kl=Jl,Xl={exports:{}},$l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Yl={exports:{}},ql=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))},ec=Array.prototype.concat,tc=Array.prototype.slice,ic=Yl.exports=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i];ql(r)?t=ec.call(t,tc.call(r)):t.push(r)}return t};ic.wrap=function(e){return function(){return e(ic(arguments))}};var nc=Yl.exports,rc=$l,oc=nc,sc=Object.hasOwnProperty,ac=Object.create(null);for(var lc in rc)sc.call(rc,lc)&&(ac[rc[lc]]=lc);var cc=Xl.exports={to:{},get:{}};function hc(e,t,i){return Math.min(Math.max(t,e),i)}function dc(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}cc.get=function(e){var t,i;switch(e.substring(0,3).toLowerCase()){case"hsl":t=cc.get.hsl(e),i="hsl";break;case"hwb":t=cc.get.hwb(e),i="hwb";break;default:t=cc.get.rgb(e),i="rgb"}return t?{model:i,value:t}:null},cc.get.rgb=function(e){if(!e)return null;var t,i,n,r=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],i=0;i<3;i++){var o=2*i;r[i]=parseInt(t.slice(o,o+2),16)}n&&(r[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],i=0;i<3;i++)r[i]=parseInt(t[i]+t[i],16);n&&(r[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(i=0;i<3;i++)r[i]=parseInt(t[i+1],0);t[4]&&(t[5]?r[3]=.01*parseFloat(t[4]):r[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:sc.call(rc,t[1])?((r=rc[t[1]])[3]=1,r):null:null;for(i=0;i<3;i++)r[i]=Math.round(2.55*parseFloat(t[i+1]));t[4]&&(t[5]?r[3]=.01*parseFloat(t[4]):r[3]=parseFloat(t[4]))}for(i=0;i<3;i++)r[i]=hc(r[i],0,255);return r[3]=hc(r[3],0,1),r},cc.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,hc(parseFloat(t[2]),0,100),hc(parseFloat(t[3]),0,100),hc(isNaN(i)?1:i,0,1)]}return null},cc.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,hc(parseFloat(t[2]),0,100),hc(parseFloat(t[3]),0,100),hc(isNaN(i)?1:i,0,1)]}return null},cc.to.hex=function(){var e=oc(arguments);return"#"+dc(e[0])+dc(e[1])+dc(e[2])+(e[3]<1?dc(Math.round(255*e[3])):"")},cc.to.rgb=function(){var e=oc(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},cc.to.rgb.percent=function(){var e=oc(arguments),t=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+i+"%, "+n+"%)":"rgba("+t+"%, "+i+"%, "+n+"%, "+e[3]+")"},cc.to.hsl=function(){var e=oc(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},cc.to.hwb=function(){var e=oc(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},cc.to.keyword=function(e){return ac[e.slice(0,3)]};var uc=Xl.exports;const pc=$l,fc={};for(const e of Object.keys(pc))fc[pc[e]]=e;const gc={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var mc=gc;for(const e of Object.keys(gc)){if(!("channels"in gc[e]))throw new Error("missing channels property: "+e);if(!("labels"in gc[e]))throw new Error("missing channel labels property: "+e);if(gc[e].labels.length!==gc[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=gc[e];delete gc[e].channels,delete gc[e].labels,Object.defineProperty(gc[e],"channels",{value:t}),Object.defineProperty(gc[e],"labels",{value:i})}gc.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(t,i,n),o=Math.max(t,i,n),s=o-r;let a,l;o===r?a=0:t===o?a=(i-n)/s:i===o?a=2+(n-t)/s:n===o&&(a=4+(t-i)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(r+o)/2;return l=o===r?0:c<=.5?s/(o+r):s/(2-o-r),[a,100*l,100*c]},gc.rgb.hsv=function(e){let t,i,n,r,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),h=c-Math.min(s,a,l),d=function(e){return(c-e)/6/h+.5};return 0===h?(r=0,o=0):(o=h/c,t=d(s),i=d(a),n=d(l),s===c?r=n-i:a===c?r=1/3+t-n:l===c&&(r=2/3+i-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*c]},gc.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const r=gc.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[r,100*o,100*n]},gc.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(1-t,1-i,1-n);return[100*((1-t-r)/(1-r)||0),100*((1-i-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*r]},gc.rgb.keyword=function(e){const t=fc[e];if(t)return t;let i,n=1/0;for(const t of Object.keys(pc)){const s=(o=pc[t],((r=e)[0]-o[0])**2+(r[1]-o[1])**2+(r[2]-o[2])**2);s<n&&(n=s,i=t)}var r,o;return i},gc.keyword.rgb=function(e){return pc[e]},gc.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*i+.1805*n),100*(.2126*t+.7152*i+.0722*n),100*(.0193*t+.1192*i+.9505*n)]},gc.rgb.lab=function(e){const t=gc.rgb.xyz(e);let i=t[0],n=t[1],r=t[2];i/=95.047,n/=100,r/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(i-n),200*(n-r)]},gc.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let r,o,s;if(0===i)return s=255*n,[s,s,s];r=n<.5?n*(1+i):n+i-n*i;const a=2*n-r,l=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a,l[e]=255*s;return l},gc.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,r=i;const o=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,r*=o<=1?o:2-o;return[t,100*(0===n?2*r/(o+r):2*i/(n+i)),100*((n+i)/2)]},gc.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const r=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-i),a=255*n*(1-i*o),l=255*n*(1-i*(1-o));switch(n*=255,r){case 0:return[n,l,s];case 1:return[a,n,s];case 2:return[s,n,l];case 3:return[s,a,n];case 4:return[l,s,n];case 5:return[n,s,a]}},gc.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,r=Math.max(n,.01);let o,s;s=(2-i)*n;const a=(2-i)*r;return o=i*r,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},gc.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const r=i+n;let o;r>1&&(i/=r,n/=r);const s=Math.floor(6*t),a=1-n;o=6*t-s,1&s&&(o=1-o);const l=i+o*(a-i);let c,h,d;switch(s){default:case 6:case 0:c=a,h=l,d=i;break;case 1:c=l,h=a,d=i;break;case 2:c=i,h=a,d=l;break;case 3:c=i,h=l,d=a;break;case 4:c=l,h=i,d=a;break;case 5:c=a,h=i,d=l}return[255*c,255*h,255*d]},gc.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},gc.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let r,o,s;return r=3.2406*t+-1.5372*i+-.4986*n,o=-.9689*t+1.8758*i+.0415*n,s=.0557*t+-.204*i+1.057*n,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*r,255*o,255*s]},gc.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*i-16,500*(t-i),200*(i-n)]},gc.lab.xyz=function(e){let t,i,n;i=(e[0]+16)/116,t=e[1]/500+i,n=i-e[2]/200;const r=i**3,o=t**3,s=n**3;return i=r>.008856?r:(i-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,t*=95.047,i*=100,n*=108.883,[t,i,n]},gc.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let r;r=360*Math.atan2(n,i)/2/Math.PI,r<0&&(r+=360);return[t,Math.sqrt(i*i+n*n),r]},gc.lch.lab=function(e){const t=e[0],i=e[1],n=e[2]/360*2*Math.PI;return[t,i*Math.cos(n),i*Math.sin(n)]},gc.rgb.ansi16=function(e,t=null){const[i,n,r]=e;let o=null===t?gc.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),0===o)return 30;let s=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===o&&(s+=60),s},gc.hsv.ansi16=function(e){return gc.rgb.ansi16(gc.hsv.rgb(e),e[2])},gc.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];if(t===i&&i===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},gc.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=.5*(1+~~(e>50));return[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255]},gc.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},gc.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},gc.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];3===t[0].length&&(i=i.split("").map((e=>e+e)).join(""));const n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},gc.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.max(Math.max(t,i),n),o=Math.min(Math.min(t,i),n),s=r-o;let a,l;return a=s<1?o/(1-s):0,l=s<=0?0:r===t?(i-n)/s%6:r===i?2+(n-t)/s:4+(t-i)/s,l/=6,l%=1,[360*l,100*s,100*a]},gc.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let r=0;return n<1&&(r=(i-.5*n)/(1-n)),[e[0],100*n,100*r]},gc.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let r=0;return n<1&&(r=(i-n)/(1-n)),[e[0],100*n,100*r]},gc.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(0===i)return[255*n,255*n,255*n];const r=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return l=(1-i)*n,[255*(i*r[0]+l),255*(i*r[1]+l),255*(i*r[2]+l)]},gc.hcg.hsv=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);let n=0;return i>0&&(n=t/i),[e[0],100*n,100*i]},gc.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let n=0;return i>0&&i<.5?n=t/(2*i):i>=.5&&i<1&&(n=t/(2*(1-i))),[e[0],100*n,100*i]},gc.hcg.hwb=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);return[e[0],100*(i-t),100*(1-i)]},gc.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,n=i-t;let r=0;return n<1&&(r=(i-n)/(1-n)),[e[0],100*n,100*r]},gc.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},gc.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},gc.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},gc.gray.hsl=function(e){return[0,0,e[0]]},gc.gray.hsv=gc.gray.hsl,gc.gray.hwb=function(e){return[0,100,e[0]]},gc.gray.cmyk=function(e){return[0,0,0,e[0]]},gc.gray.lab=function(e){return[e[0],0,0]},gc.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i},gc.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Ac=mc;function bc(e){const t=function(){const e={},t=Object.keys(Ac);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;){const e=i.pop(),n=Object.keys(Ac[e]);for(let r=n.length,o=0;o<r;o++){const r=n[o],s=t[r];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,i.unshift(r))}}return t}function vc(e,t){return function(i){return t(e(i))}}function wc(e,t){const i=[t[e].parent,e];let n=Ac[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)i.unshift(t[r].parent),n=vc(Ac[t[r].parent][r],n),r=t[r].parent;return n.conversion=i,n}const yc=mc,Ic=function(e){const t=bc(e),i={},n=Object.keys(t);for(let e=n.length,r=0;r<e;r++){const e=n[r];null!==t[e].parent&&(i[e]=wc(e,t))}return i},Ec={};Object.keys(yc).forEach((e=>{Ec[e]={},Object.defineProperty(Ec[e],"channels",{value:yc[e].channels}),Object.defineProperty(Ec[e],"labels",{value:yc[e].labels});const t=Ic(e);Object.keys(t).forEach((i=>{const n=t[i];Ec[e][i]=function(e){const t=function(...t){const i=t[0];if(null==i)return i;i.length>1&&(t=i);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),Ec[e][i].raw=function(e){const t=function(...t){const i=t[0];return null==i?i:(i.length>1&&(t=i),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))}));const Cc=uc,_c=Ec,kc=["keyword","gray","hex"],Sc={};for(const e of Object.keys(_c))Sc[[..._c[e].labels].sort().join("")]=e;const xc={};function Dc(e,t){if(!(this instanceof Dc))return new Dc(e,t);if(t&&t in kc&&(t=null),t&&!(t in _c))throw new Error("Unknown model: "+t);let i,n;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Dc)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=Cc.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,n=_c[this.model].channels,this.color=t.value.slice(0,n),this.valpha="number"==typeof t.value[n]?t.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=_c[this.model].channels;const i=Array.prototype.slice.call(e,0,n);this.color=Lc(i,n),this.valpha="number"==typeof e[n]?e[n]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const n=t.sort().join("");if(!(n in Sc))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=Sc[n];const{labels:r}=_c[this.model],o=[];for(i=0;i<r.length;i++)o.push(e[r[i]]);this.color=Lc(o)}if(xc[this.model])for(n=_c[this.model].channels,i=0;i<n;i++){const e=xc[this.model][i];e&&(this.color[i]=e(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Dc.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Cc.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const i=1===t.valpha?t.color:[...t.color,this.valpha];return Cc.to[t.model](i)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),i=1===t.valpha?t.color:[...t.color,this.valpha];return Cc.to.rgb.percent(i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=_c[this.model],{labels:i}=_c[this.model];for(let n=0;n<t;n++)e[i[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Dc([...this.color.map(Rc(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new Dc([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:Oc("rgb",0,Pc(255)),green:Oc("rgb",1,Pc(255)),blue:Oc("rgb",2,Pc(255)),hue:Oc(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:Oc("hsl",1,Pc(100)),lightness:Oc("hsl",2,Pc(100)),saturationv:Oc("hsv",1,Pc(100)),value:Oc("hsv",2,Pc(100)),chroma:Oc("hcg",1,Pc(100)),gray:Oc("hcg",2,Pc(100)),white:Oc("hwb",1,Pc(100)),wblack:Oc("hwb",2,Pc(100)),cyan:Oc("cmyk",0,Pc(100)),magenta:Oc("cmyk",1,Pc(100)),yellow:Oc("cmyk",2,Pc(100)),black:Oc("cmyk",3,Pc(100)),x:Oc("xyz",0,Pc(95.047)),y:Oc("xyz",1,Pc(100)),z:Oc("xyz",2,Pc(108.833)),l:Oc("lab",0,Pc(100)),a:Oc("lab",1),b:Oc("lab",2),keyword(e){return void 0!==e?new Dc(e):_c[this.model].keyword(this.color)},hex(e){return void 0!==e?new Dc(e):Cc.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new Dc(e);const t=this.rgb().round().color;let i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),Cc.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[i,n]of e.entries()){const e=n/255;t[i]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return Dc.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),n=this.rgb(),r=void 0===t?.5:t,o=2*r-1,s=i.alpha()-n.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,l=1-a;return Dc.rgb(a*i.red()+l*n.red(),a*i.green()+l*n.green(),a*i.blue()+l*n.blue(),i.alpha()*r+n.alpha()*(1-r))}};for(const e of Object.keys(_c)){if(kc.includes(e))continue;const{channels:t}=_c[e];Dc.prototype[e]=function(...t){return this.model===e?new Dc(this):t.length>0?new Dc(t,e):new Dc([...(i=_c[this.model][e].raw(this.color),Array.isArray(i)?i:[i]),this.valpha],e);var i},Dc[e]=function(...i){let n=i[0];return"number"==typeof n&&(n=Lc(i,t)),new Dc(n,e)}}function Rc(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function Oc(e,t,i){e=Array.isArray(e)?e:[e];for(const n of e)(xc[n]||(xc[n]=[]))[t]=i;return e=e[0],function(n){let r;return void 0!==n?(i&&(n=i(n)),r=this[e](),r.color[t]=n,r):(r=this[e]().color[t],i&&(r=i(r)),r)}}function Pc(e){return function(t){return Math.max(0,Math.min(e,t))}}function Lc(e,t){for(let i=0;i<t;i++)"number"!=typeof e[i]&&(e[i]=0);return e}const Nc=Dc,Mc=Us,Bc=Gl,jc={left:"low",center:"centre",centre:"centre",right:"high"};function Tc(e){const{raw:t,density:i,limitInputPixels:n,ignoreIcc:r,unlimited:o,sequentialRead:s,failOn:a,failOnError:l,animated:c,page:h,pages:d,subifd:u}=e;return[t,i,n,r,o,s,a,l,c,h,d,u].some(Mc.defined)?{raw:t,density:i,limitInputPixels:n,ignoreIcc:r,unlimited:o,sequentialRead:s,failOn:a,failOnError:l,animated:c,page:h,pages:d,subifd:u}:void 0}function Uc(e,t,i){const n={failOn:"warning",limitInputPixels:Math.pow(16383,2),ignoreIcc:!1,unlimited:!1,sequentialRead:!0};if(Mc.string(e))n.file=e;else if(Mc.buffer(e)){if(0===e.length)throw Error("Input Buffer is empty");n.buffer=e}else if(Mc.arrayBuffer(e)){if(0===e.byteLength)throw Error("Input bit Array is empty");n.buffer=Buffer.from(e,0,e.byteLength)}else if(Mc.typedArray(e)){if(0===e.length)throw Error("Input Bit Array is empty");n.buffer=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(Mc.plainObject(e)&&!Mc.defined(t))Tc(t=e)&&(n.buffer=[]);else{if(Mc.defined(e)||Mc.defined(t)||!Mc.object(i)||!i.allowStream)throw new Error(`Unsupported input '${e}' of type ${typeof e}${Mc.defined(t)?" when also providing options of type "+typeof t:""}`);n.buffer=[]}if(Mc.object(t)){if(Mc.defined(t.failOnError)){if(!Mc.bool(t.failOnError))throw Mc.invalidParameterError("failOnError","boolean",t.failOnError);n.failOn=t.failOnError?"warning":"none"}if(Mc.defined(t.failOn)){if(!Mc.string(t.failOn)||!Mc.inArray(t.failOn,["none","truncated","error","warning"]))throw Mc.invalidParameterError("failOn","one of: none, truncated, error, warning",t.failOn);n.failOn=t.failOn}if(Mc.defined(t.density)){if(!Mc.inRange(t.density,1,1e5))throw Mc.invalidParameterError("density","number between 1 and 100000",t.density);n.density=t.density}if(Mc.defined(t.ignoreIcc)){if(!Mc.bool(t.ignoreIcc))throw Mc.invalidParameterError("ignoreIcc","boolean",t.ignoreIcc);n.ignoreIcc=t.ignoreIcc}if(Mc.defined(t.limitInputPixels))if(Mc.bool(t.limitInputPixels))n.limitInputPixels=t.limitInputPixels?Math.pow(16383,2):0;else{if(!Mc.integer(t.limitInputPixels)||!Mc.inRange(t.limitInputPixels,0,Number.MAX_SAFE_INTEGER))throw Mc.invalidParameterError("limitInputPixels","positive integer",t.limitInputPixels);n.limitInputPixels=t.limitInputPixels}if(Mc.defined(t.unlimited)){if(!Mc.bool(t.unlimited))throw Mc.invalidParameterError("unlimited","boolean",t.unlimited);n.unlimited=t.unlimited}if(Mc.defined(t.sequentialRead)){if(!Mc.bool(t.sequentialRead))throw Mc.invalidParameterError("sequentialRead","boolean",t.sequentialRead);n.sequentialRead=t.sequentialRead}if(Mc.defined(t.raw)){if(!(Mc.object(t.raw)&&Mc.integer(t.raw.width)&&t.raw.width>0&&Mc.integer(t.raw.height)&&t.raw.height>0&&Mc.integer(t.raw.channels)&&Mc.inRange(t.raw.channels,1,4)))throw new Error("Expected width, height and channels for raw pixel input");switch(n.rawWidth=t.raw.width,n.rawHeight=t.raw.height,n.rawChannels=t.raw.channels,n.rawPremultiplied=!!t.raw.premultiplied,e.constructor){case Uint8Array:case Uint8ClampedArray:n.rawDepth="uchar";break;case Int8Array:n.rawDepth="char";break;case Uint16Array:n.rawDepth="ushort";break;case Int16Array:n.rawDepth="short";break;case Uint32Array:n.rawDepth="uint";break;case Int32Array:n.rawDepth="int";break;case Float32Array:n.rawDepth="float";break;case Float64Array:n.rawDepth="double";break;default:n.rawDepth="uchar"}}if(Mc.defined(t.animated)){if(!Mc.bool(t.animated))throw Mc.invalidParameterError("animated","boolean",t.animated);n.pages=t.animated?-1:1}if(Mc.defined(t.pages)){if(!Mc.integer(t.pages)||!Mc.inRange(t.pages,-1,1e5))throw Mc.invalidParameterError("pages","integer between -1 and 100000",t.pages);n.pages=t.pages}if(Mc.defined(t.page)){if(!Mc.integer(t.page)||!Mc.inRange(t.page,0,1e5))throw Mc.invalidParameterError("page","integer between 0 and 100000",t.page);n.page=t.page}if(Mc.defined(t.level)){if(!Mc.integer(t.level)||!Mc.inRange(t.level,0,256))throw Mc.invalidParameterError("level","integer between 0 and 256",t.level);n.level=t.level}if(Mc.defined(t.subifd)){if(!Mc.integer(t.subifd)||!Mc.inRange(t.subifd,-1,1e5))throw Mc.invalidParameterError("subifd","integer between -1 and 100000",t.subifd);n.subifd=t.subifd}if(Mc.defined(t.create)){if(!(Mc.object(t.create)&&Mc.integer(t.create.width)&&t.create.width>0&&Mc.integer(t.create.height)&&t.create.height>0&&Mc.integer(t.create.channels)))throw new Error("Expected valid width, height and channels to create a new input image");if(n.createWidth=t.create.width,n.createHeight=t.create.height,n.createChannels=t.create.channels,Mc.defined(t.create.noise)){if(!Mc.object(t.create.noise))throw new Error("Expected noise to be an object");if(!Mc.inArray(t.create.noise.type,["gaussian"]))throw new Error("Only gaussian noise is supported at the moment");if(!Mc.inRange(t.create.channels,1,4))throw Mc.invalidParameterError("create.channels","number between 1 and 4",t.create.channels);if(n.createNoiseType=t.create.noise.type,!Mc.number(t.create.noise.mean)||!Mc.inRange(t.create.noise.mean,0,1e4))throw Mc.invalidParameterError("create.noise.mean","number between 0 and 10000",t.create.noise.mean);if(n.createNoiseMean=t.create.noise.mean,!Mc.number(t.create.noise.sigma)||!Mc.inRange(t.create.noise.sigma,0,1e4))throw Mc.invalidParameterError("create.noise.sigma","number between 0 and 10000",t.create.noise.sigma);n.createNoiseSigma=t.create.noise.sigma}else{if(!Mc.defined(t.create.background))throw new Error("Expected valid noise or background to create a new input image");{if(!Mc.inRange(t.create.channels,3,4))throw Mc.invalidParameterError("create.channels","number between 3 and 4",t.create.channels);const e=Nc(t.create.background);n.createBackground=[e.red(),e.green(),e.blue(),Math.round(255*e.alpha())]}}delete n.buffer}if(Mc.defined(t.text)){if(!Mc.object(t.text)||!Mc.string(t.text.text))throw new Error("Expected a valid string to create an image with text.");if(n.textValue=t.text.text,Mc.defined(t.text.height)&&Mc.defined(t.text.dpi))throw new Error("Expected only one of dpi or height");if(Mc.defined(t.text.font)){if(!Mc.string(t.text.font))throw Mc.invalidParameterError("text.font","string",t.text.font);n.textFont=t.text.font}if(Mc.defined(t.text.fontfile)){if(!Mc.string(t.text.fontfile))throw Mc.invalidParameterError("text.fontfile","string",t.text.fontfile);n.textFontfile=t.text.fontfile}if(Mc.defined(t.text.width)){if(!(Mc.integer(t.text.width)&&t.text.width>0))throw Mc.invalidParameterError("text.width","positive integer",t.text.width);n.textWidth=t.text.width}if(Mc.defined(t.text.height)){if(!(Mc.integer(t.text.height)&&t.text.height>0))throw Mc.invalidParameterError("text.height","positive integer",t.text.height);n.textHeight=t.text.height}if(Mc.defined(t.text.align)){if(!Mc.string(t.text.align)||!Mc.string(this.constructor.align[t.text.align]))throw Mc.invalidParameterError("text.align","valid alignment",t.text.align);n.textAlign=this.constructor.align[t.text.align]}if(Mc.defined(t.text.justify)){if(!Mc.bool(t.text.justify))throw Mc.invalidParameterError("text.justify","boolean",t.text.justify);n.textJustify=t.text.justify}if(Mc.defined(t.text.dpi)){if(!Mc.integer(t.text.dpi)||!Mc.inRange(t.text.dpi,1,1e6))throw Mc.invalidParameterError("text.dpi","integer between 1 and 1000000",t.text.dpi);n.textDpi=t.text.dpi}if(Mc.defined(t.text.rgba)){if(!Mc.bool(t.text.rgba))throw Mc.invalidParameterError("text.rgba","bool",t.text.rgba);n.textRgba=t.text.rgba}if(Mc.defined(t.text.spacing)){if(!Mc.integer(t.text.spacing)||!Mc.inRange(t.text.spacing,-1e6,1e6))throw Mc.invalidParameterError("text.spacing","integer between -1000000 and 1000000",t.text.spacing);n.textSpacing=t.text.spacing}if(Mc.defined(t.text.wrap)){if(!Mc.string(t.text.wrap)||!Mc.inArray(t.text.wrap,["word","char","word-char","none"]))throw Mc.invalidParameterError("text.wrap","one of: word, char, word-char, none",t.text.wrap);n.textWrap=t.text.wrap}delete n.buffer}}else if(Mc.defined(t))throw new Error("Invalid input options "+t);return n}function Fc(e,t,i){Array.isArray(this.options.input.buffer)?Mc.buffer(e)?(0===this.options.input.buffer.length&&this.on("finish",(()=>{this.streamInFinished=!0})),this.options.input.buffer.push(e),i()):i(new Error("Non-Buffer data on Writable Stream")):i(new Error("Unexpected data on Writable Stream"))}function Zc(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function zc(){return Array.isArray(this.options.input.buffer)}function Wc(e){const t=Error();return Mc.fn(e)?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),Bc.metadata(this.options,((i,n)=>{i?e(Mc.nativeError(i,t)):e(null,n)}))})):Bc.metadata(this.options,((i,n)=>{i?e(Mc.nativeError(i,t)):e(null,n)})),this):this._isStreamInput()?new Promise(((e,i)=>{const n=()=>{this._flattenBufferIn(),Bc.metadata(this.options,((n,r)=>{n?i(Mc.nativeError(n,t)):e(r)}))};this.writableFinished?n():this.once("finish",n)})):new Promise(((e,i)=>{Bc.metadata(this.options,((n,r)=>{n?i(Mc.nativeError(n,t)):e(r)}))}))}function Gc(e){const t=Error();return Mc.fn(e)?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),Bc.stats(this.options,((i,n)=>{i?e(Mc.nativeError(i,t)):e(null,n)}))})):Bc.stats(this.options,((i,n)=>{i?e(Mc.nativeError(i,t)):e(null,n)})),this):this._isStreamInput()?new Promise(((e,i)=>{this.on("finish",(function(){this._flattenBufferIn(),Bc.stats(this.options,((n,r)=>{n?i(Mc.nativeError(n,t)):e(r)}))}))})):new Promise(((e,i)=>{Bc.stats(this.options,((n,r)=>{n?i(Mc.nativeError(n,t)):e(r)}))}))}const Vc=Us,Hc={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},Qc={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},Jc={background:"background",copy:"copy",repeat:"repeat",mirror:"mirror"},Kc={entropy:16,attention:17},Xc={nearest:"nearest",linear:"linear",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3"},$c={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},Yc={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function qc(e){return e.angle%360!=0||!0===e.useExifOrientation||0!==e.rotationAngle}function eh(e){return-1!==e.width||-1!==e.height}function th(e,t,i){if(eh(this.options)&&this.options.debuglog("ignoring previous resize options"),-1!==this.options.widthPost&&this.options.debuglog("operation order will be: extract, resize, extract"),Vc.defined(e))if(Vc.object(e)&&!Vc.defined(i))i=e;else{if(!(Vc.integer(e)&&e>0))throw Vc.invalidParameterError("width","positive integer",e);this.options.width=e}else this.options.width=-1;if(Vc.defined(t)){if(!(Vc.integer(t)&&t>0))throw Vc.invalidParameterError("height","positive integer",t);this.options.height=t}else this.options.height=-1;if(Vc.object(i)){if(Vc.defined(i.width)){if(!(Vc.integer(i.width)&&i.width>0))throw Vc.invalidParameterError("width","positive integer",i.width);this.options.width=i.width}if(Vc.defined(i.height)){if(!(Vc.integer(i.height)&&i.height>0))throw Vc.invalidParameterError("height","positive integer",i.height);this.options.height=i.height}if(Vc.defined(i.fit)){const e=Yc[i.fit];if(!Vc.string(e))throw Vc.invalidParameterError("fit","valid fit",i.fit);this.options.canvas=e}if(Vc.defined(i.position)){const e=Vc.integer(i.position)?i.position:Kc[i.position]||Qc[i.position]||Hc[i.position];if(!Vc.integer(e)||!Vc.inRange(e,0,8)&&!Vc.inRange(e,16,17))throw Vc.invalidParameterError("position","valid position/gravity/strategy",i.position);this.options.position=e}if(this._setBackgroundColourOption("resizeBackground",i.background),Vc.defined(i.kernel)){if(!Vc.string(Xc[i.kernel]))throw Vc.invalidParameterError("kernel","valid kernel name",i.kernel);this.options.kernel=Xc[i.kernel]}Vc.defined(i.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",i.withoutEnlargement),Vc.defined(i.withoutReduction)&&this._setBooleanOption("withoutReduction",i.withoutReduction),Vc.defined(i.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",i.fastShrinkOnLoad)}return qc(this.options)&&eh(this.options)&&(this.options.rotateBeforePreExtract=!0),this}function ih(e){if(Vc.integer(e)&&e>0)this.options.extendTop=e,this.options.extendBottom=e,this.options.extendLeft=e,this.options.extendRight=e;else{if(!Vc.object(e))throw Vc.invalidParameterError("extend","integer or object",e);if(Vc.defined(e.top)){if(!(Vc.integer(e.top)&&e.top>=0))throw Vc.invalidParameterError("top","positive integer",e.top);this.options.extendTop=e.top}if(Vc.defined(e.bottom)){if(!(Vc.integer(e.bottom)&&e.bottom>=0))throw Vc.invalidParameterError("bottom","positive integer",e.bottom);this.options.extendBottom=e.bottom}if(Vc.defined(e.left)){if(!(Vc.integer(e.left)&&e.left>=0))throw Vc.invalidParameterError("left","positive integer",e.left);this.options.extendLeft=e.left}if(Vc.defined(e.right)){if(!(Vc.integer(e.right)&&e.right>=0))throw Vc.invalidParameterError("right","positive integer",e.right);this.options.extendRight=e.right}if(this._setBackgroundColourOption("extendBackground",e.background),Vc.defined(e.extendWith)){if(!Vc.string(Jc[e.extendWith]))throw Vc.invalidParameterError("extendWith","one of: background, copy, repeat, mirror",e.extendWith);this.options.extendWith=Jc[e.extendWith]}}return this}function nh(e){const t=eh(this.options)||-1!==this.options.widthPre?"Post":"Pre";return-1!==this.options[`width${t}`]&&this.options.debuglog("ignoring previous extract options"),["left","top","width","height"].forEach((function(i){const n=e[i];if(!(Vc.integer(n)&&n>=0))throw Vc.invalidParameterError(i,"integer",n);this.options[i+("left"===i||"top"===i?"Offset":"")+t]=n}),this),qc(this.options)&&!eh(this.options)&&(-1!==this.options.widthPre&&-1!==this.options.widthPost||(this.options.rotateBeforePreExtract=!0)),this}function rh(e){if(this.options.trimThreshold=10,Vc.defined(e)){if(!Vc.object(e))throw Vc.invalidParameterError("trim","object",e);if(Vc.defined(e.background)&&this._setBackgroundColourOption("trimBackground",e.background),Vc.defined(e.threshold)){if(!(Vc.number(e.threshold)&&e.threshold>=0))throw Vc.invalidParameterError("threshold","positive number",e.threshold);this.options.trimThreshold=e.threshold}Vc.defined(e.lineArt)&&this._setBooleanOption("trimLineArt",e.lineArt)}return qc(this.options)&&(this.options.rotateBeforePreExtract=!0),this}const oh=Us,sh={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function ah(e){if(!Array.isArray(e))throw oh.invalidParameterError("images to composite","array",e);return this.options.composite=e.map((e=>{if(!oh.object(e))throw oh.invalidParameterError("image to composite","object",e);const t=this._inputOptionsFromObject(e),i={input:this._createInputDescriptor(e.input,t,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(oh.defined(e.blend)){if(!oh.string(sh[e.blend]))throw oh.invalidParameterError("blend","valid blend name",e.blend);i.blend=sh[e.blend]}if(oh.defined(e.tile)){if(!oh.bool(e.tile))throw oh.invalidParameterError("tile","boolean",e.tile);i.tile=e.tile}if(oh.defined(e.left)){if(!oh.integer(e.left))throw oh.invalidParameterError("left","integer",e.left);i.left=e.left}if(oh.defined(e.top)){if(!oh.integer(e.top))throw oh.invalidParameterError("top","integer",e.top);i.top=e.top}if(oh.defined(e.top)!==oh.defined(e.left))throw new Error("Expected both left and top to be set");if(i.hasOffset=oh.integer(e.top)&&oh.integer(e.left),oh.defined(e.gravity))if(oh.integer(e.gravity)&&oh.inRange(e.gravity,0,8))i.gravity=e.gravity;else{if(!oh.string(e.gravity)||!oh.integer(this.constructor.gravity[e.gravity]))throw oh.invalidParameterError("gravity","valid gravity",e.gravity);i.gravity=this.constructor.gravity[e.gravity]}if(oh.defined(e.premultiplied)){if(!oh.bool(e.premultiplied))throw oh.invalidParameterError("premultiplied","boolean",e.premultiplied);i.premultiplied=e.premultiplied}return i})),this}const lh=Dc,ch=Us,hh={integer:"integer",float:"float",approximate:"approximate"};function dh(e,t){if((this.options.useExifOrientation||this.options.angle||this.options.rotationAngle)&&this.options.debuglog("ignoring previous rotate options"),ch.defined(e))if(!ch.integer(e)||e%90){if(!ch.number(e))throw ch.invalidParameterError("angle","numeric",e);if(this.options.rotationAngle=e,ch.object(t)&&t.background){const e=lh(t.background);this.options.rotationBackground=[e.red(),e.green(),e.blue(),Math.round(255*e.alpha())]}}else this.options.angle=e;else this.options.useExifOrientation=!0;return this}function uh(e){return this.options.flip=!ch.bool(e)||e,this}function ph(e){return this.options.flop=!ch.bool(e)||e,this}function fh(e,t){const i=[].concat(...e);if(4!==i.length||!i.every(ch.number))throw ch.invalidParameterError("matrix","1x4 or 2x2 array",e);if(this.options.affineMatrix=i,ch.defined(t)){if(!ch.object(t))throw ch.invalidParameterError("options","object",t);if(this._setBackgroundColourOption("affineBackground",t.background),ch.defined(t.idx)){if(!ch.number(t.idx))throw ch.invalidParameterError("options.idx","number",t.idx);this.options.affineIdx=t.idx}if(ch.defined(t.idy)){if(!ch.number(t.idy))throw ch.invalidParameterError("options.idy","number",t.idy);this.options.affineIdy=t.idy}if(ch.defined(t.odx)){if(!ch.number(t.odx))throw ch.invalidParameterError("options.odx","number",t.odx);this.options.affineOdx=t.odx}if(ch.defined(t.ody)){if(!ch.number(t.ody))throw ch.invalidParameterError("options.ody","number",t.ody);this.options.affineOdy=t.ody}if(ch.defined(t.interpolator)){if(!ch.inArray(t.interpolator,Object.values(this.constructor.interpolators)))throw ch.invalidParameterError("options.interpolator","valid interpolator name",t.interpolator);this.options.affineInterpolator=t.interpolator}}return this}function gh(e,t,i){if(ch.defined(e))if(ch.bool(e))this.options.sharpenSigma=e?-1:0;else if(ch.number(e)&&ch.inRange(e,.01,1e4)){if(this.options.sharpenSigma=e,ch.defined(t)){if(!ch.number(t)||!ch.inRange(t,0,1e4))throw ch.invalidParameterError("flat","number between 0 and 10000",t);this.options.sharpenM1=t}if(ch.defined(i)){if(!ch.number(i)||!ch.inRange(i,0,1e4))throw ch.invalidParameterError("jagged","number between 0 and 10000",i);this.options.sharpenM2=i}}else{if(!ch.plainObject(e))throw ch.invalidParameterError("sigma","number between 0.01 and 10000",e);if(!ch.number(e.sigma)||!ch.inRange(e.sigma,1e-6,10))throw ch.invalidParameterError("options.sigma","number between 0.000001 and 10",e.sigma);if(this.options.sharpenSigma=e.sigma,ch.defined(e.m1)){if(!ch.number(e.m1)||!ch.inRange(e.m1,0,1e6))throw ch.invalidParameterError("options.m1","number between 0 and 1000000",e.m1);this.options.sharpenM1=e.m1}if(ch.defined(e.m2)){if(!ch.number(e.m2)||!ch.inRange(e.m2,0,1e6))throw ch.invalidParameterError("options.m2","number between 0 and 1000000",e.m2);this.options.sharpenM2=e.m2}if(ch.defined(e.x1)){if(!ch.number(e.x1)||!ch.inRange(e.x1,0,1e6))throw ch.invalidParameterError("options.x1","number between 0 and 1000000",e.x1);this.options.sharpenX1=e.x1}if(ch.defined(e.y2)){if(!ch.number(e.y2)||!ch.inRange(e.y2,0,1e6))throw ch.invalidParameterError("options.y2","number between 0 and 1000000",e.y2);this.options.sharpenY2=e.y2}if(ch.defined(e.y3)){if(!ch.number(e.y3)||!ch.inRange(e.y3,0,1e6))throw ch.invalidParameterError("options.y3","number between 0 and 1000000",e.y3);this.options.sharpenY3=e.y3}}else this.options.sharpenSigma=-1;return this}function mh(e){if(ch.defined(e)){if(!ch.integer(e)||!ch.inRange(e,1,1e3))throw ch.invalidParameterError("size","integer between 1 and 1000",e);this.options.medianSize=e}else this.options.medianSize=3;return this}function Ah(e){let t;if(ch.number(e))t=e;else if(ch.plainObject(e)){if(!ch.number(e.sigma))throw ch.invalidParameterError("options.sigma","number between 0.3 and 1000",t);if(t=e.sigma,"precision"in e){if(!ch.string(hh[e.precision]))throw ch.invalidParameterError("precision","one of: integer, float, approximate",e.precision);this.options.precision=hh[e.precision]}if("minAmplitude"in e){if(!ch.number(e.minAmplitude)||!ch.inRange(e.minAmplitude,.001,1))throw ch.invalidParameterError("minAmplitude","number between 0.001 and 1",e.minAmplitude);this.options.minAmpl=e.minAmplitude}}if(ch.defined(e))if(ch.bool(e))this.options.blurSigma=e?-1:0;else{if(!ch.number(t)||!ch.inRange(t,.3,1e3))throw ch.invalidParameterError("sigma","number between 0.3 and 1000",t);this.options.blurSigma=t}else this.options.blurSigma=-1;return this}function bh(e){return this.options.flatten=!ch.bool(e)||e,ch.object(e)&&this._setBackgroundColourOption("flattenBackground",e.background),this}function vh(){return this.options.unflatten=!0,this}function wh(e,t){if(ch.defined(e)){if(!ch.number(e)||!ch.inRange(e,1,3))throw ch.invalidParameterError("gamma","number between 1.0 and 3.0",e);this.options.gamma=e}else this.options.gamma=2.2;if(ch.defined(t)){if(!ch.number(t)||!ch.inRange(t,1,3))throw ch.invalidParameterError("gammaOut","number between 1.0 and 3.0",t);this.options.gammaOut=t}else this.options.gammaOut=this.options.gamma;return this}function yh(e){if(this.options.negate=!ch.bool(e)||e,ch.plainObject(e)&&"alpha"in e){if(!ch.bool(e.alpha))throw ch.invalidParameterError("alpha","should be boolean value",e.alpha);this.options.negateAlpha=e.alpha}return this}function Ih(e){if(ch.plainObject(e)){if(ch.defined(e.lower)){if(!ch.number(e.lower)||!ch.inRange(e.lower,0,99))throw ch.invalidParameterError("lower","number between 0 and 99",e.lower);this.options.normaliseLower=e.lower}if(ch.defined(e.upper)){if(!ch.number(e.upper)||!ch.inRange(e.upper,1,100))throw ch.invalidParameterError("upper","number between 1 and 100",e.upper);this.options.normaliseUpper=e.upper}}if(this.options.normaliseLower>=this.options.normaliseUpper)throw ch.invalidParameterError("range","lower to be less than upper",`${this.options.normaliseLower} >= ${this.options.normaliseUpper}`);return this.options.normalise=!0,this}function Eh(e){return this.normalise(e)}function Ch(e){if(!ch.plainObject(e))throw ch.invalidParameterError("options","plain object",e);if(!(ch.integer(e.width)&&e.width>0))throw ch.invalidParameterError("width","integer greater than zero",e.width);if(this.options.claheWidth=e.width,!(ch.integer(e.height)&&e.height>0))throw ch.invalidParameterError("height","integer greater than zero",e.height);if(this.options.claheHeight=e.height,ch.defined(e.maxSlope)){if(!ch.integer(e.maxSlope)||!ch.inRange(e.maxSlope,0,100))throw ch.invalidParameterError("maxSlope","integer between 0 and 100",e.maxSlope);this.options.claheMaxSlope=e.maxSlope}return this}function _h(e){if(!(ch.object(e)&&Array.isArray(e.kernel)&&ch.integer(e.width)&&ch.integer(e.height)&&ch.inRange(e.width,3,1001)&&ch.inRange(e.height,3,1001)&&e.height*e.width===e.kernel.length))throw new Error("Invalid convolution kernel");return ch.integer(e.scale)||(e.scale=e.kernel.reduce((function(e,t){return e+t}),0)),e.scale<1&&(e.scale=1),ch.integer(e.offset)||(e.offset=0),this.options.convKernel=e,this}function kh(e,t){if(ch.defined(e))if(ch.bool(e))this.options.threshold=e?128:0;else{if(!ch.integer(e)||!ch.inRange(e,0,255))throw ch.invalidParameterError("threshold","integer between 0 and 255",e);this.options.threshold=e}else this.options.threshold=128;return ch.object(t)&&!0!==t.greyscale&&!0!==t.grayscale?this.options.thresholdGrayscale=!1:this.options.thresholdGrayscale=!0,this}function Sh(e,t,i){if(this.options.boolean=this._createInputDescriptor(e,i),!ch.string(t)||!ch.inArray(t,["and","or","eor"]))throw ch.invalidParameterError("operator","one of: and, or, eor",t);return this.options.booleanOp=t,this}function xh(e,t){if(!ch.defined(e)&&ch.number(t)?e=1:ch.number(e)&&!ch.defined(t)&&(t=0),ch.defined(e))if(ch.number(e))this.options.linearA=[e];else{if(!(Array.isArray(e)&&e.length&&e.every(ch.number)))throw ch.invalidParameterError("a","number or array of numbers",e);this.options.linearA=e}else this.options.linearA=[];if(ch.defined(t))if(ch.number(t))this.options.linearB=[t];else{if(!(Array.isArray(t)&&t.length&&t.every(ch.number)))throw ch.invalidParameterError("b","number or array of numbers",t);this.options.linearB=t}else this.options.linearB=[];if(this.options.linearA.length!==this.options.linearB.length)throw new Error("Expected a and b to be arrays of the same length");return this}function Dh(e){if(!Array.isArray(e))throw ch.invalidParameterError("inputMatrix","array",e);if(3!==e.length&&4!==e.length)throw ch.invalidParameterError("inputMatrix","3x3 or 4x4 array",e.length);const t=e.flat().map(Number);if(9!==t.length&&16!==t.length)throw ch.invalidParameterError("inputMatrix","cardinality of 9 or 16",t.length);return this.options.recombMatrix=t,this}function Rh(e){if(!ch.plainObject(e))throw ch.invalidParameterError("options","plain object",e);if("brightness"in e){if(!(ch.number(e.brightness)&&e.brightness>=0))throw ch.invalidParameterError("brightness","number above zero",e.brightness);this.options.brightness=e.brightness}if("saturation"in e){if(!(ch.number(e.saturation)&&e.saturation>=0))throw ch.invalidParameterError("saturation","number above zero",e.saturation);this.options.saturation=e.saturation}if("hue"in e){if(!ch.integer(e.hue))throw ch.invalidParameterError("hue","number",e.hue);this.options.hue=e.hue%360}if("lightness"in e){if(!ch.number(e.lightness))throw ch.invalidParameterError("lightness","number",e.lightness);this.options.lightness=e.lightness}return this}const Oh=Dc,Ph=Us,Lh={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function Nh(e){return this._setBackgroundColourOption("tint",e),this}function Mh(e){return this.options.greyscale=!Ph.bool(e)||e,this}function Bh(e){return this.greyscale(e)}function jh(e){if(!Ph.string(e))throw Ph.invalidParameterError("colourspace","string",e);return this.options.colourspacePipeline=e,this}function Th(e){return this.pipelineColourspace(e)}function Uh(e){if(!Ph.string(e))throw Ph.invalidParameterError("colourspace","string",e);return this.options.colourspace=e,this}function Fh(e){return this.toColourspace(e)}function Zh(e,t){if(Ph.defined(t)){if(!Ph.object(t)&&!Ph.string(t))throw Ph.invalidParameterError("background","object or string",t);{const i=Oh(t);this.options[e]=[i.red(),i.green(),i.blue(),Math.round(255*i.alpha())]}}}const zh=Us,Wh={and:"and",or:"or",eor:"eor"};function Gh(){return this.options.removeAlpha=!0,this}function Vh(e){if(zh.defined(e)){if(!zh.number(e)||!zh.inRange(e,0,1))throw zh.invalidParameterError("alpha","number between 0 and 1",e);this.options.ensureAlpha=e}else this.options.ensureAlpha=1;return this}function Hh(e){const t={red:0,green:1,blue:2,alpha:3};if(Object.keys(t).includes(e)&&(e=t[e]),!zh.integer(e)||!zh.inRange(e,0,4))throw zh.invalidParameterError("channel","integer or one of: red, green, blue, alpha",e);return this.options.extractChannel=e,this}function Qh(e,t){return Array.isArray(e)?e.forEach((function(e){this.options.joinChannelIn.push(this._createInputDescriptor(e,t))}),this):this.options.joinChannelIn.push(this._createInputDescriptor(e,t)),this}function Jh(e){if(!zh.string(e)||!zh.inArray(e,["and","or","eor"]))throw zh.invalidParameterError("boolOp","one of: and, or, eor",e);return this.options.bandBoolOp=e,this}const Kh=d,Xh=Us,$h=Gl,Yh=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["jpe","jpeg"],["tile","tile"],["dz","tile"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"],["jxl","jxl"]]),qh=/\.(jp[2x]|j2[kc])$/i,ed=()=>new Error("JP2 output requires libvips with support for OpenJPEG"),td=e=>1<<31-Math.clz32(Math.ceil(Math.log2(e)));function id(e,t){let i;if(Xh.string(e)?Xh.string(this.options.input.file)&&Kh.resolve(this.options.input.file)===Kh.resolve(e)?i=new Error("Cannot use same file for input and output"):qh.test(Kh.extname(e))&&!this.constructor.format.jp2k.output.file&&(i=ed()):i=new Error("Missing output file path"),!i){this.options.fileOut=e;const i=Error();return this._pipeline(t,i)}return Xh.fn(t)?(t(i),this):Promise.reject(i)}function nd(e,t){Xh.object(e)?this._setBooleanOption("resolveWithObject",e.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="";const i=Error();return this._pipeline(Xh.fn(e)?e:t,i)}function rd(){return this.options.keepMetadata|=1,this}function od(e){if(!Xh.object(e))throw Xh.invalidParameterError("exif","object",e);for(const[t,i]of Object.entries(e)){if(!Xh.object(i))throw Xh.invalidParameterError(t,"object",i);for(const[e,n]of Object.entries(i)){if(!Xh.string(n))throw Xh.invalidParameterError(`${t}.${e}`,"string",n);this.options.withExif[`exif-${t.toLowerCase()}-${e}`]=n}}return this.options.withExifMerge=!1,this.keepExif()}function sd(e){return this.withExif(e),this.options.withExifMerge=!0,this}function ad(){return this.options.keepMetadata|=8,this}function ld(e,t){if(!Xh.string(e))throw Xh.invalidParameterError("icc","string",e);if(this.options.withIccProfile=e,this.keepIccProfile(),Xh.object(t)&&Xh.defined(t.attach)){if(!Xh.bool(t.attach))throw Xh.invalidParameterError("attach","boolean",t.attach);t.attach||(this.options.keepMetadata&=-9)}return this}function cd(){return this.options.keepMetadata=31,this}function hd(e){if(this.keepMetadata(),this.withIccProfile("srgb"),Xh.object(e)){if(Xh.defined(e.orientation)){if(!Xh.integer(e.orientation)||!Xh.inRange(e.orientation,1,8))throw Xh.invalidParameterError("orientation","integer between 1 and 8",e.orientation);this.options.withMetadataOrientation=e.orientation}if(Xh.defined(e.density)){if(!(Xh.number(e.density)&&e.density>0))throw Xh.invalidParameterError("density","positive number",e.density);this.options.withMetadataDensity=e.density}Xh.defined(e.icc)&&this.withIccProfile(e.icc),Xh.defined(e.exif)&&this.withExifMerge(e.exif)}return this}function dd(e,t){const i=Yh.get((Xh.object(e)&&Xh.string(e.id)?e.id:e).toLowerCase());if(!i)throw Xh.invalidParameterError("format",`one of: ${[...Yh.keys()].join(", ")}`,e);return this[i](t)}function ud(e){if(Xh.object(e)){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jpegQuality=e.quality}if(Xh.defined(e.progressive)&&this._setBooleanOption("jpegProgressive",e.progressive),Xh.defined(e.chromaSubsampling)){if(!Xh.string(e.chromaSubsampling)||!Xh.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw Xh.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.jpegChromaSubsampling=e.chromaSubsampling}const t=Xh.bool(e.optimizeCoding)?e.optimizeCoding:e.optimiseCoding;if(Xh.defined(t)&&this._setBooleanOption("jpegOptimiseCoding",t),Xh.defined(e.mozjpeg)){if(!Xh.bool(e.mozjpeg))throw Xh.invalidParameterError("mozjpeg","boolean",e.mozjpeg);e.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3)}const i=Xh.bool(e.trellisQuantization)?e.trellisQuantization:e.trellisQuantisation;Xh.defined(i)&&this._setBooleanOption("jpegTrellisQuantisation",i),Xh.defined(e.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",e.overshootDeringing);const n=Xh.bool(e.optimizeScans)?e.optimizeScans:e.optimiseScans;Xh.defined(n)&&(this._setBooleanOption("jpegOptimiseScans",n),n&&(this.options.jpegProgressive=!0));const r=Xh.number(e.quantizationTable)?e.quantizationTable:e.quantisationTable;if(Xh.defined(r)){if(!Xh.integer(r)||!Xh.inRange(r,0,8))throw Xh.invalidParameterError("quantisationTable","integer between 0 and 8",r);this.options.jpegQuantisationTable=r}}return this._updateFormatOut("jpeg",e)}function pd(e){if(Xh.object(e)){if(Xh.defined(e.progressive)&&this._setBooleanOption("pngProgressive",e.progressive),Xh.defined(e.compressionLevel)){if(!Xh.integer(e.compressionLevel)||!Xh.inRange(e.compressionLevel,0,9))throw Xh.invalidParameterError("compressionLevel","integer between 0 and 9",e.compressionLevel);this.options.pngCompressionLevel=e.compressionLevel}Xh.defined(e.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",e.adaptiveFiltering);const t=e.colours||e.colors;if(Xh.defined(t)){if(!Xh.integer(t)||!Xh.inRange(t,2,256))throw Xh.invalidParameterError("colours","integer between 2 and 256",t);this.options.pngBitdepth=td(t)}if(Xh.defined(e.palette)?this._setBooleanOption("pngPalette",e.palette):[e.quality,e.effort,e.colours,e.colors,e.dither].some(Xh.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,0,100))throw Xh.invalidParameterError("quality","integer between 0 and 100",e.quality);this.options.pngQuality=e.quality}if(Xh.defined(e.effort)){if(!Xh.integer(e.effort)||!Xh.inRange(e.effort,1,10))throw Xh.invalidParameterError("effort","integer between 1 and 10",e.effort);this.options.pngEffort=e.effort}if(Xh.defined(e.dither)){if(!Xh.number(e.dither)||!Xh.inRange(e.dither,0,1))throw Xh.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);this.options.pngDither=e.dither}}}return this._updateFormatOut("png",e)}function fd(e){if(Xh.object(e)){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.webpQuality=e.quality}if(Xh.defined(e.alphaQuality)){if(!Xh.integer(e.alphaQuality)||!Xh.inRange(e.alphaQuality,0,100))throw Xh.invalidParameterError("alphaQuality","integer between 0 and 100",e.alphaQuality);this.options.webpAlphaQuality=e.alphaQuality}if(Xh.defined(e.lossless)&&this._setBooleanOption("webpLossless",e.lossless),Xh.defined(e.nearLossless)&&this._setBooleanOption("webpNearLossless",e.nearLossless),Xh.defined(e.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",e.smartSubsample),Xh.defined(e.preset)){if(!Xh.string(e.preset)||!Xh.inArray(e.preset,["default","photo","picture","drawing","icon","text"]))throw Xh.invalidParameterError("preset","one of: default, photo, picture, drawing, icon, text",e.preset);this.options.webpPreset=e.preset}if(Xh.defined(e.effort)){if(!Xh.integer(e.effort)||!Xh.inRange(e.effort,0,6))throw Xh.invalidParameterError("effort","integer between 0 and 6",e.effort);this.options.webpEffort=e.effort}Xh.defined(e.minSize)&&this._setBooleanOption("webpMinSize",e.minSize),Xh.defined(e.mixed)&&this._setBooleanOption("webpMixed",e.mixed)}return Ad(e,this.options),this._updateFormatOut("webp",e)}function gd(e){if(Xh.object(e)){Xh.defined(e.reuse)&&this._setBooleanOption("gifReuse",e.reuse),Xh.defined(e.progressive)&&this._setBooleanOption("gifProgressive",e.progressive);const t=e.colours||e.colors;if(Xh.defined(t)){if(!Xh.integer(t)||!Xh.inRange(t,2,256))throw Xh.invalidParameterError("colours","integer between 2 and 256",t);this.options.gifBitdepth=td(t)}if(Xh.defined(e.effort)){if(!Xh.number(e.effort)||!Xh.inRange(e.effort,1,10))throw Xh.invalidParameterError("effort","integer between 1 and 10",e.effort);this.options.gifEffort=e.effort}if(Xh.defined(e.dither)){if(!Xh.number(e.dither)||!Xh.inRange(e.dither,0,1))throw Xh.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);this.options.gifDither=e.dither}if(Xh.defined(e.interFrameMaxError)){if(!Xh.number(e.interFrameMaxError)||!Xh.inRange(e.interFrameMaxError,0,32))throw Xh.invalidParameterError("interFrameMaxError","number between 0.0 and 32.0",e.interFrameMaxError);this.options.gifInterFrameMaxError=e.interFrameMaxError}if(Xh.defined(e.interPaletteMaxError)){if(!Xh.number(e.interPaletteMaxError)||!Xh.inRange(e.interPaletteMaxError,0,256))throw Xh.invalidParameterError("interPaletteMaxError","number between 0.0 and 256.0",e.interPaletteMaxError);this.options.gifInterPaletteMaxError=e.interPaletteMaxError}}return Ad(e,this.options),this._updateFormatOut("gif",e)}function md(e){if(!this.constructor.format.jp2k.output.buffer)throw ed();if(Xh.object(e)){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jp2Quality=e.quality}if(Xh.defined(e.lossless)){if(!Xh.bool(e.lossless))throw Xh.invalidParameterError("lossless","boolean",e.lossless);this.options.jp2Lossless=e.lossless}if(Xh.defined(e.tileWidth)){if(!Xh.integer(e.tileWidth)||!Xh.inRange(e.tileWidth,1,32768))throw Xh.invalidParameterError("tileWidth","integer between 1 and 32768",e.tileWidth);this.options.jp2TileWidth=e.tileWidth}if(Xh.defined(e.tileHeight)){if(!Xh.integer(e.tileHeight)||!Xh.inRange(e.tileHeight,1,32768))throw Xh.invalidParameterError("tileHeight","integer between 1 and 32768",e.tileHeight);this.options.jp2TileHeight=e.tileHeight}if(Xh.defined(e.chromaSubsampling)){if(!Xh.string(e.chromaSubsampling)||!Xh.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw Xh.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.jp2ChromaSubsampling=e.chromaSubsampling}}return this._updateFormatOut("jp2",e)}function Ad(e,t){if(Xh.object(e)&&Xh.defined(e.loop)){if(!Xh.integer(e.loop)||!Xh.inRange(e.loop,0,65535))throw Xh.invalidParameterError("loop","integer between 0 and 65535",e.loop);t.loop=e.loop}if(Xh.object(e)&&Xh.defined(e.delay))if(Xh.integer(e.delay)&&Xh.inRange(e.delay,0,65535))t.delay=[e.delay];else{if(!(Array.isArray(e.delay)&&e.delay.every(Xh.integer)&&e.delay.every((e=>Xh.inRange(e,0,65535)))))throw Xh.invalidParameterError("delay","integer or an array of integers between 0 and 65535",e.delay);t.delay=e.delay}}function bd(e){if(Xh.object(e)){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.tiffQuality=e.quality}if(Xh.defined(e.bitdepth)){if(!Xh.integer(e.bitdepth)||!Xh.inArray(e.bitdepth,[1,2,4,8]))throw Xh.invalidParameterError("bitdepth","1, 2, 4 or 8",e.bitdepth);this.options.tiffBitdepth=e.bitdepth}if(Xh.defined(e.tile)&&this._setBooleanOption("tiffTile",e.tile),Xh.defined(e.tileWidth)){if(!(Xh.integer(e.tileWidth)&&e.tileWidth>0))throw Xh.invalidParameterError("tileWidth","integer greater than zero",e.tileWidth);this.options.tiffTileWidth=e.tileWidth}if(Xh.defined(e.tileHeight)){if(!(Xh.integer(e.tileHeight)&&e.tileHeight>0))throw Xh.invalidParameterError("tileHeight","integer greater than zero",e.tileHeight);this.options.tiffTileHeight=e.tileHeight}if(Xh.defined(e.miniswhite)&&this._setBooleanOption("tiffMiniswhite",e.miniswhite),Xh.defined(e.pyramid)&&this._setBooleanOption("tiffPyramid",e.pyramid),Xh.defined(e.xres)){if(!(Xh.number(e.xres)&&e.xres>0))throw Xh.invalidParameterError("xres","number greater than zero",e.xres);this.options.tiffXres=e.xres}if(Xh.defined(e.yres)){if(!(Xh.number(e.yres)&&e.yres>0))throw Xh.invalidParameterError("yres","number greater than zero",e.yres);this.options.tiffYres=e.yres}if(Xh.defined(e.compression)){if(!Xh.string(e.compression)||!Xh.inArray(e.compression,["none","jpeg","deflate","packbits","ccittfax4","lzw","webp","zstd","jp2k"]))throw Xh.invalidParameterError("compression","one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k",e.compression);this.options.tiffCompression=e.compression}if(Xh.defined(e.predictor)){if(!Xh.string(e.predictor)||!Xh.inArray(e.predictor,["none","horizontal","float"]))throw Xh.invalidParameterError("predictor","one of: none, horizontal, float",e.predictor);this.options.tiffPredictor=e.predictor}if(Xh.defined(e.resolutionUnit)){if(!Xh.string(e.resolutionUnit)||!Xh.inArray(e.resolutionUnit,["inch","cm"]))throw Xh.invalidParameterError("resolutionUnit","one of: inch, cm",e.resolutionUnit);this.options.tiffResolutionUnit=e.resolutionUnit}}return this._updateFormatOut("tiff",e)}function vd(e){return this.heif({...e,compression:"av1"})}function wd(e){if(!Xh.object(e))throw Xh.invalidParameterError("options","Object",e);if(!Xh.string(e.compression)||!Xh.inArray(e.compression,["av1","hevc"]))throw Xh.invalidParameterError("compression","one of: av1, hevc",e.compression);if(this.options.heifCompression=e.compression,Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.heifQuality=e.quality}if(Xh.defined(e.lossless)){if(!Xh.bool(e.lossless))throw Xh.invalidParameterError("lossless","boolean",e.lossless);this.options.heifLossless=e.lossless}if(Xh.defined(e.effort)){if(!Xh.integer(e.effort)||!Xh.inRange(e.effort,0,9))throw Xh.invalidParameterError("effort","integer between 0 and 9",e.effort);this.options.heifEffort=e.effort}if(Xh.defined(e.chromaSubsampling)){if(!Xh.string(e.chromaSubsampling)||!Xh.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw Xh.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.heifChromaSubsampling=e.chromaSubsampling}if(Xh.defined(e.bitdepth)){if(!Xh.integer(e.bitdepth)||!Xh.inArray(e.bitdepth,[8,10,12]))throw Xh.invalidParameterError("bitdepth","8, 10 or 12",e.bitdepth);if(8!==e.bitdepth&&this.constructor.versions.heif)throw Xh.invalidParameterError("bitdepth when using prebuilt binaries",8,e.bitdepth);this.options.heifBitdepth=e.bitdepth}return this._updateFormatOut("heif",e)}function yd(e){if(Xh.object(e)){if(Xh.defined(e.quality)){if(!Xh.integer(e.quality)||!Xh.inRange(e.quality,1,100))throw Xh.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jxlDistance=e.quality>=30?.1+.09*(100-e.quality):53/3e3*e.quality*e.quality-1.15*e.quality+25}else if(Xh.defined(e.distance)){if(!Xh.number(e.distance)||!Xh.inRange(e.distance,0,15))throw Xh.invalidParameterError("distance","number between 0.0 and 15.0",e.distance);this.options.jxlDistance=e.distance}if(Xh.defined(e.decodingTier)){if(!Xh.integer(e.decodingTier)||!Xh.inRange(e.decodingTier,0,4))throw Xh.invalidParameterError("decodingTier","integer between 0 and 4",e.decodingTier);this.options.jxlDecodingTier=e.decodingTier}if(Xh.defined(e.lossless)){if(!Xh.bool(e.lossless))throw Xh.invalidParameterError("lossless","boolean",e.lossless);this.options.jxlLossless=e.lossless}if(Xh.defined(e.effort)){if(!Xh.integer(e.effort)||!Xh.inRange(e.effort,3,9))throw Xh.invalidParameterError("effort","integer between 3 and 9",e.effort);this.options.jxlEffort=e.effort}}return this._updateFormatOut("jxl",e)}function Id(e){if(Xh.object(e)&&Xh.defined(e.depth)){if(!Xh.string(e.depth)||!Xh.inArray(e.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))throw Xh.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",e.depth);this.options.rawDepth=e.depth}return this._updateFormatOut("raw")}function Ed(e){if(Xh.object(e)){if(Xh.defined(e.size)){if(!Xh.integer(e.size)||!Xh.inRange(e.size,1,8192))throw Xh.invalidParameterError("size","integer between 1 and 8192",e.size);this.options.tileSize=e.size}if(Xh.defined(e.overlap)){if(!Xh.integer(e.overlap)||!Xh.inRange(e.overlap,0,8192))throw Xh.invalidParameterError("overlap","integer between 0 and 8192",e.overlap);if(e.overlap>this.options.tileSize)throw Xh.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,e.overlap);this.options.tileOverlap=e.overlap}if(Xh.defined(e.container)){if(!Xh.string(e.container)||!Xh.inArray(e.container,["fs","zip"]))throw Xh.invalidParameterError("container","one of: fs, zip",e.container);this.options.tileContainer=e.container}if(Xh.defined(e.layout)){if(!Xh.string(e.layout)||!Xh.inArray(e.layout,["dz","google","iiif","iiif3","zoomify"]))throw Xh.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",e.layout);this.options.tileLayout=e.layout}if(Xh.defined(e.angle)){if(!Xh.integer(e.angle)||e.angle%90)throw Xh.invalidParameterError("angle","positive/negative multiple of 90",e.angle);this.options.tileAngle=e.angle}if(this._setBackgroundColourOption("tileBackground",e.background),Xh.defined(e.depth)){if(!Xh.string(e.depth)||!Xh.inArray(e.depth,["onepixel","onetile","one"]))throw Xh.invalidParameterError("depth","one of: onepixel, onetile, one",e.depth);this.options.tileDepth=e.depth}if(Xh.defined(e.skipBlanks)){if(!Xh.integer(e.skipBlanks)||!Xh.inRange(e.skipBlanks,-1,65535))throw Xh.invalidParameterError("skipBlanks","integer between -1 and 255/65535",e.skipBlanks);this.options.tileSkipBlanks=e.skipBlanks}else Xh.defined(e.layout)&&"google"===e.layout&&(this.options.tileSkipBlanks=5);const t=Xh.bool(e.center)?e.center:e.centre;if(Xh.defined(t)&&this._setBooleanOption("tileCentre",t),Xh.defined(e.id)){if(!Xh.string(e.id))throw Xh.invalidParameterError("id","string",e.id);this.options.tileId=e.id}if(Xh.defined(e.basename)){if(!Xh.string(e.basename))throw Xh.invalidParameterError("basename","string",e.basename);this.options.tileBasename=e.basename}}if(Xh.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if("input"!==this.options.formatOut)throw Xh.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function Cd(e){if(!Xh.plainObject(e))throw Xh.invalidParameterError("options","object",e);if(!Xh.integer(e.seconds)||!Xh.inRange(e.seconds,0,3600))throw Xh.invalidParameterError("seconds","integer between 0 and 3600",e.seconds);return this.options.timeoutSeconds=e.seconds,this}function _d(e,t){return Xh.object(t)&&!1===t.force||(this.options.formatOut=e),this}function kd(e,t){if(!Xh.bool(t))throw Xh.invalidParameterError(e,"boolean",t);this.options[e]=t}function Sd(){if(!this.options.streamOut){this.options.streamOut=!0;const e=Error();this._pipeline(void 0,e)}}function xd(e,t){return"function"==typeof e?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),$h.pipeline(this.options,((i,n,r)=>{i?e(Xh.nativeError(i,t)):e(null,n,r)}))})):$h.pipeline(this.options,((i,n,r)=>{i?e(Xh.nativeError(i,t)):e(null,n,r)})),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",(()=>{this._flattenBufferIn(),$h.pipeline(this.options,((e,i,n)=>{e?this.emit("error",Xh.nativeError(e,t)):(this.emit("info",n),this.push(i)),this.push(null),this.on("end",(()=>this.emit("close")))}))})),this.streamInFinished&&this.emit("finish")):$h.pipeline(this.options,((e,i,n)=>{e?this.emit("error",Xh.nativeError(e,t)):(this.emit("info",n),this.push(i)),this.push(null),this.on("end",(()=>this.emit("close")))})),this):this._isStreamInput()?new Promise(((e,i)=>{this.once("finish",(()=>{this._flattenBufferIn(),$h.pipeline(this.options,((n,r,o)=>{n?i(Xh.nativeError(n,t)):this.options.resolveWithObject?e({data:r,info:o}):e(r)}))}))})):new Promise(((e,i)=>{$h.pipeline(this.options,((n,r,o)=>{n?i(Xh.nativeError(n,t)):this.options.resolveWithObject?e({data:r,info:o}):e(r)}))}))}const Dd=f,Rd=ma,Od=Us,{runtimePlatformArch:Pd}=Ll,Ld=Gl,Nd=Pd(),Md=Ld.libvipsVersion(),Bd=Ld.format();Bd.heif.output.alias=["avif","heic"],Bd.jpeg.output.alias=["jpe","jpg"],Bd.tiff.output.alias=["tif"],Bd.jp2k.output.alias=["j2c","j2k","jp2","jpx"];const jd={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"};let Td={vips:Md.semver};if(!Md.isGlobal)if(Md.isWasm)try{Td=require("@img/sharp-wasm32/versions")}catch(e){}else try{Td=require(`@img/sharp-${Nd}/versions`)}catch(e){try{Td=require(`@img/sharp-libvips-${Nd}/versions`)}catch(e){}}function Ud(e){return Od.bool(e)?e?Ld.cache(50,20,100):Ld.cache(0,0,0):Od.object(e)?Ld.cache(e.memory,e.files,e.items):Ld.cache()}function Fd(e){return Ld.concurrency(Od.integer(e)?e:null)}Td.sharp=pl.version,Td.heif&&Bd.heif&&(Bd.heif.input.fileSuffix=[".avif"],Bd.heif.output.alias=["avif"]),Ud(!0),Rd.familySync()!==Rd.GLIBC||Ld._isUsingJemalloc()?Rd.familySync()===Rd.MUSL&&1024===Ld.concurrency()&&Ld.concurrency(p.availableParallelism()):Ld.concurrency(1);const Zd=new Dd.EventEmitter;function zd(){return Ld.counters()}function Wd(e){return Ld.simd(Od.bool(e)?e:null)}function Gd(e){if(!Od.object(e))throw Od.invalidParameterError("options","object",e);if(!Array.isArray(e.operation)||!e.operation.every(Od.string))throw Od.invalidParameterError("operation","Array<string>",e.operation);Ld.block(e.operation,!0)}function Vd(e){if(!Od.object(e))throw Od.invalidParameterError("options","object",e);if(!Array.isArray(e.operation)||!e.operation.every(Od.string))throw Od.invalidParameterError("operation","Array<string>",e.operation);Ld.block(e.operation,!1)}const Hd=Kl;!function(e){Object.assign(e.prototype,{_inputOptionsFromObject:Tc,_createInputDescriptor:Uc,_write:Fc,_flattenBufferIn:Zc,_isStreamInput:zc,metadata:Wc,stats:Gc}),e.align=jc}(Hd),function(e){Object.assign(e.prototype,{resize:th,extend:ih,extract:nh,trim:rh}),e.gravity=Hc,e.strategy=Kc,e.kernel=Xc,e.fit=$c,e.position=Qc}(Hd),function(e){e.prototype.composite=ah,e.blend=sh}(Hd),function(e){Object.assign(e.prototype,{rotate:dh,flip:uh,flop:ph,affine:fh,sharpen:gh,median:mh,blur:Ah,flatten:bh,unflatten:vh,gamma:wh,negate:yh,normalise:Ih,normalize:Eh,clahe:Ch,convolve:_h,threshold:kh,boolean:Sh,linear:xh,recomb:Dh,modulate:Rh})}(Hd),function(e){Object.assign(e.prototype,{tint:Nh,greyscale:Mh,grayscale:Bh,pipelineColourspace:jh,pipelineColorspace:Th,toColourspace:Uh,toColorspace:Fh,_setBackgroundColourOption:Zh}),e.colourspace=Lh,e.colorspace=Lh}(Hd),function(e){Object.assign(e.prototype,{removeAlpha:Gh,ensureAlpha:Vh,extractChannel:Hh,joinChannel:Qh,bandbool:Jh}),e.bool=Wh}(Hd),function(e){Object.assign(e.prototype,{toFile:id,toBuffer:nd,keepExif:rd,withExif:od,withExifMerge:sd,keepIccProfile:ad,withIccProfile:ld,keepMetadata:cd,withMetadata:hd,toFormat:dd,jpeg:ud,jp2:md,png:pd,webp:fd,tiff:bd,avif:vd,heif:wd,jxl:yd,gif:gd,raw:Id,tile:Ed,timeout:Cd,_updateFormatOut:_d,_setBooleanOption:kd,_read:Sd,_pipeline:xd})}(Hd),function(e){e.cache=Ud,e.concurrency=Fd,e.counters=zd,e.simd=Wd,e.format=Bd,e.interpolators=jd,e.versions=Td,e.queue=Zd,e.block=Gd,e.unblock=Vd}(Hd);var Qd=C(Hd);const Jd=async e=>{let t,i,n;const r=Buffer.from(e,"base64");try{const e=rn(r)[0];t=e.data,i=e.height,n=e.width}catch(e){const o=Ji(r);t=o.data,i=o.height,n=o.width}const o=function(e,t){return new Ls(e,t).encode()}({data:t,height:i,width:n}),s=await $d(o);return Kd(s)},Kd=async e=>(await e.toBuffer()).toString("base64"),Xd=async e=>`data:image/png;base64,${await Kd(e)}`,$d=async e=>{const t="string"==typeof e?Buffer.from(e,"base64"):Buffer.from(e);return Qd(t)},Yd=()=>Qd({create:{width:288,height:288,background:{r:0,g:0,b:0,alpha:0},channels:4}}).png(),qd=async e=>{try{const t=await(async e=>{const[,t]=e.split(",");return Qd(Buffer.from(t,"base64"))})(e);return Xd(t.grayscale())}catch(e){console.error(e)}return e},eu=async(e,t=!1,i=!1)=>{if(e)try{const[,n]=e.split(","),[,r]=Bi.slash.split(","),o=Qd(Buffer.from(n,"base64")),s=Qd(Buffer.from(r,"base64"));let a;if(i)a=o.composite([{input:await s.resize(180,180).toBuffer(),gravity:"center"}]);else if(t)a=o.composite([{input:await s.resize(180,180).toBuffer(),left:44,top:20}]);else{a=Yd().composite([{input:await o.resize(288,288).toBuffer(),gravity:"center"},{input:await s.resize(288,288).toBuffer(),gravity:"center"}])}return Xd(a)}catch(e){console.error(e)}},tu=async(e,t)=>{const i=Yd(),n=Qd({text:{text:`<span font_desc="system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" weight="700" color="white">${e}</span>`,width:270,height:54,wrap:"none",align:"center"}}).png();let r;if(t){const[e,o]=t.split(","),s=Qd(Buffer.from(o,"base64")).resize(160,160),a=288-((await n.metadata()).width??0);r=i.composite([{input:await s.toBuffer(),left:64,top:22},{input:await n.toBuffer(),left:Math.floor(a/2),top:220}])}else r=i.composite([{input:await n.toBuffer(),gravity:"center"}]);return Xd(r)},iu=(e,t,i=!1,n=!0)=>{const r="#000000",o=Math.abs((t??0)-1),s=244*o,a=n?"#FFF":"#222222";return nu(`<svg transform="${i?"rotate(90 50 50) translate(0 -42)":""}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="144" height="144" viewBox="0 0 144 144">\n\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t<path id="path-3" d="M14,0 C21.7319865,0 28,6.2680135 28,14 L28,230 C28,237.731986 21.7319865,244 14,244 C6.2680135,244 0,237.731986 0,230 L0,14 C0,6.2680135 6.2680135,0 14,0 Z M14,6 C11.790861,6 9.790861,6.8954305 8.34314575,8.34314575 C6.8954305,9.790861 6,11.790861 6,14 L6,230 C6,232.209139 6.8954305,234.209139 8.34314575,235.656854 C9.790861,237.104569 11.790861,238 14,238 C16.209139,238 18.209139,237.104569 19.6568542,235.656854 C21.1045695,234.209139 22,232.209139 22,230 L22,14 C22,11.790861 21.1045695,9.790861 19.6568542,8.34314575 C18.209139,6.8954305 16.209139,6 14,6 Z"/>            \n\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t${`<g id="slider" transform="${e?"translate(0)":"translate(0,-144)"}">`}\n\t\t\t\t\t\t\t\t<polygon id="background" fill="${r}" fill-rule="nonzero" points="-72 72 216 72 216 216 -72 216" transform="rotate(-90 72 144)"/>\n\t\t\t\t\t\t\t\t<g id="back" transform="translate(58 22)">\n\t\t\t\t\t\t\t\t\t<use xlink:href="#path-3" id="slider" fill="${a}"/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t${`<rect id="bar" x="64" y="${29+s}" rx="8" width="16" height="${232-s}" fill="${n?"#FFF":"#454545"}"></rect>`}\n\t\t\t\t\t\t\t\t${void 0!==t?`<g transform="translate(0 ${232*o-44})">\n\t\t\t\t\t\t\t<circle id="cut" cx="72" cy="74" r="26" fill="${r}" mask="url(#mask-2)"/>\n\t\t\t\t\t\t\t<path id="ring" fill="${a}" d="M72,54 C83.045695,54 92,62.954305 92,74 C92,85.045695 83.045695,94 72,94 C60.954305,94 52,85.045695 52,74 C52,62.954305 60.954305,54 72,54 Z M72,60 C64.2680135,60 58,66.2680135 58,74 C58,81.7319865 64.2680135,88 72,88 C79.7319865,88 86,81.7319865 86,74 C86,66.2680135 79.7319865,60 72,60 Z"/>\n\t\t\t\t\t\t</g>`:""}\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>`)},nu=e=>`data:image/svg+xml;base64,${Buffer.from(e,"utf8").toString("base64")}`,ru=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<g clip-path="url(#clip0_573_5483)">\n\t\t\t\t\t\t\t\t<path d="M109 72L93 72" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M62 44V72C62 75.3137 59.3137 78 56 78C52.6863 78 50 75.3137 50 72V44C50 40.6863 52.6863 38 56 38C59.3137 38 62 40.6863 62 44ZM44 44C44 37.3726 49.3726 32 56 32C62.6274 32 68 37.3726 68 44V72C68 78.6274 62.6274 84 56 84C49.3726 84 44 78.6274 44 72V44ZM38 72C38 70.3431 36.6569 69 35 69C33.3431 69 32 70.3431 32 72C32 78.3652 34.5286 84.4697 39.0294 88.9706C42.8173 92.7584 47.741 95.1494 53 95.8119V106H47C45.3431 106 44 107.343 44 109C44 110.657 45.3431 112 47 112H65C66.6569 112 68 110.657 68 109C68 107.343 66.6569 106 65 106H59V95.8119C64.259 95.1494 69.1827 92.7584 72.9706 88.9706C77.4714 84.4697 80 78.3652 80 72C80 70.3432 78.6569 69 77 69C75.3431 69 74 70.3431 74 72C74 76.7739 72.1036 81.3523 68.7279 84.7279C65.3523 88.1036 60.7739 90 56 90C51.2261 90 46.6477 88.1036 43.2721 84.7279C39.8964 81.3523 38 76.7739 38 72Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<clipPath id="clip0_573_5483">\n\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}" transform="translate(24 24)"/>\n\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t</svg>\n\t`),ou=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<g clip-path="url(#clip0_573_5479)">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M62 44V72C62 75.3137 59.3137 78 56 78C52.6863 78 50 75.3137 50 72V44C50 40.6863 52.6863 38 56 38C59.3137 38 62 40.6863 62 44ZM44 44C44 37.3726 49.3726 32 56 32C62.6274 32 68 37.3726 68 44V72C68 78.6274 62.6274 84 56 84C49.3726 84 44 78.6274 44 72V44ZM38 72C38 70.3431 36.6569 69 35 69C33.3431 69 32 70.3431 32 72C32 78.3652 34.5286 84.4697 39.0294 88.9706C42.8173 92.7584 47.741 95.1494 53 95.8119V106H47C45.3431 106 44 107.343 44 109C44 110.657 45.3431 112 47 112H65C66.6569 112 68 110.657 68 109C68 107.343 66.6569 106 65 106H59V95.8119C64.259 95.1494 69.1827 92.7584 72.9706 88.9706C77.4714 84.4697 80 78.3652 80 72C80 70.3432 78.6569 69 77 69C75.3431 69 74 70.3431 74 72C74 76.7739 72.1036 81.3523 68.7279 84.7279C65.3523 88.1036 60.7739 90 56 90C51.2261 90 46.6477 88.1036 43.2721 84.7279C39.8964 81.3523 38 76.7739 38 72Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M109 72L93 72" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t<path d="M101 64V80" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<clipPath id="clip0_573_5479">\n\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}" transform="translate(24 24)"/>\n\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t</svg>`),su=(e,t)=>nu(t?`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<g clip-path="url(#clip0_2_13)">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M78 44V65.2721L84 71.2721V44C84 37.3726 78.6274 32 72 32C65.3726 32 60 37.3726 60 44V47.2721L66 53.2721V44C66 40.6863 68.6863 38 72 38C75.3137 38 78 40.6863 78 44ZM66 72V67.0601L60 61.1298V72C60 78.6274 65.3726 84 72 84C75.0855 84 77.899 82.8355 80.025 80.922L75.7429 76.6897C74.7168 77.5097 73.4157 78 72 78C68.6863 78 66 75.3137 66 72ZM72 90C76.5738 90 80.9682 88.2592 84.2972 85.1445L88.5671 89.3647C84.8362 92.9244 80.0742 95.1727 75 95.8119V106H81C82.6569 106 84 107.343 84 109C84 110.657 82.6569 112 81 112H63C61.3431 112 60 110.657 60 109C60 107.343 61.3431 106 63 106H69V95.8119C63.741 95.1494 58.8173 92.7584 55.0294 88.9706C50.5286 84.4697 48 78.3652 48 72C48 70.3431 49.3431 69 51 69C52.6569 69 54 70.3431 54 72C54 76.7739 55.8964 81.3523 59.2721 84.7279C62.6477 88.1036 67.2261 90 72 90ZM96 72C96 75.2503 95.3407 78.4327 94.0961 81.3682L89.3867 76.6588C89.7905 75.1521 90 73.5869 90 72C90 70.3431 91.3431 69 93 69C94.6569 69 96 70.3432 96 72Z" \n\t\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t\t<path d="M43 43L101 101" stroke="${e?ji.enabledAccent:ji.disabledAccent}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t<clipPath id="clip0_2_13">\n\t\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}" transform="translate(24 24)"/>\n\t\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t`:`<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<g clip-path="url(#clip0_0_66)">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M54 20V41.2721L60 47.2721V20C60 13.3726 54.6274 8 48 8C41.3726 8 36 13.3726 36 20V23.2721L42 29.2721V20C42 16.6863 44.6863 14 48 14C51.3137 14 54 16.6863 54 20ZM42 48V43.0601L36 37.1298V48C36 54.6274 41.3726 60 48 60C51.0855 60 53.899 58.8355 56.025 56.922L51.7429 52.6897C50.7168 53.5097 49.4157 54 48 54C44.6863 54 42 51.3137 42 48ZM48 66C52.5738 66 56.9682 64.2592 60.2972 61.1445L64.5671 65.3647C60.8362 68.9244 56.0742 71.1727 51 71.8119V82H57C58.6569 82 60 83.3431 60 85C60 86.6569 58.6569 88 57 88H39C37.3431 88 36 86.6569 36 85C36 83.3431 37.3431 82 39 82H45V71.8119C39.741 71.1494 34.8173 68.7584 31.0294 64.9706C26.5286 60.4697 24 54.3652 24 48C24 46.3431 25.3431 45 27 45C28.6569 45 30 46.3431 30 48C30 52.7739 31.8964 57.3523 35.2721 60.7279C38.6477 64.1036 43.2261 66 48 66ZM72 48C72 51.2503 71.3407 54.4327 70.0961 57.3682L65.3867 52.6588C65.7905 51.1521 66 49.5869 66 48C66 46.3431 67.3431 45 69 45C70.6569 45 72 46.3432 72 48Z" \n\t\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t\t<path d="M19 19L77 77" stroke="${e?ji.enabledAccent:ji.disabledAccent}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t<clipPath id="clip0_0_66">\n\t\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t`),au=(e,t)=>nu(t?`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M78 44V72C78 75.3137 75.3137 78 72 78C68.6863 78 66 75.3137 66 72V44C66 40.6863 68.6863 38 72 38C75.3137 38 78 40.6863 78 44ZM60 44C60 37.3726 65.3726 32 72 32C78.6274 32 84 37.3726 84 44V72C84 78.6274 78.6274 84 72 84C65.3726 84 60 78.6274 60 72V44ZM54 72C54 70.3431 52.6569 69 51 69C49.3431 69 48 70.3431 48 72C48 78.3652 50.5286 84.4697 55.0294 88.9706C58.8173 92.7584 63.741 95.1494 69 95.8119V106H63C61.3431 106 60 107.343 60 109C60 110.657 61.3431 112 63 112H81C82.6569 112 84 110.657 84 109C84 107.343 82.6569 106 81 106H75V95.8119C80.259 95.1494 85.1827 92.7584 88.9706 88.9706C93.4714 84.4697 96 78.3652 96 72C96 70.3432 94.6569 69 93 69C91.3431 69 90 70.3431 90 72C90 76.7739 88.1036 81.3523 84.7279 84.7279C81.3523 88.1036 76.7739 90 72 90C67.2261 90 62.6477 88.1036 59.2721 84.7279C55.8964 81.3523 54 76.7739 54 72Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t`:`\n\t\t<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M54 20V48C54 51.3137 51.3137 54 48 54C44.6863 54 42 51.3137 42 48V20C42 16.6863 44.6863 14 48 14C51.3137 14 54 16.6863 54 20ZM36 20C36 13.3726 41.3726 8 48 8C54.6274 8 60 13.3726 60 20V48C60 54.6274 54.6274 60 48 60C41.3726 60 36 54.6274 36 48V20ZM30 48C30 46.3431 28.6569 45 27 45C25.3431 45 24 46.3431 24 48C24 54.3652 26.5286 60.4697 31.0294 64.9706C34.8173 68.7584 39.741 71.1494 45 71.8119V82H39C37.3431 82 36 83.3431 36 85C36 86.6569 37.3431 88 39 88H57C58.6569 88 60 86.6569 60 85C60 83.3431 58.6569 82 57 82H51V71.8119C56.259 71.1494 61.1827 68.7584 64.9706 64.9706C69.4714 60.4697 72 54.3652 72 48C72 46.3432 70.6569 45 69 45C67.3431 45 66 46.3431 66 48C66 52.7739 64.1036 57.3523 60.7279 60.7279C57.3523 64.1036 52.7739 66 48 66C43.2261 66 38.6477 64.1036 35.2721 60.7279C31.8964 57.3523 30 52.7739 30 48Z" \n\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t</svg>`),lu=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M78 44V72C78 72.5895 77.915 73.1591 77.7566 73.6973C79.6407 72.1879 81.7396 70.9353 84 69.9927V44C84 37.3726 78.6274 32 72 32C65.3726 32 60 37.3726 60 44V72C60 77.9664 64.3543 82.9158 70.0584 83.8437C70.9932 81.6428 72.2227 79.5973 73.6973 77.7566C73.1591 77.915 72.5895 78 72 78C68.6863 78 66 75.3137 66 72V44C66 40.6863 68.6863 38 72 38C75.3137 38 78 40.6863 78 44ZM59.2721 84.7279C61.7779 87.2337 64.9465 88.9244 68.3658 89.6294C68.1252 91.0504 68 92.5106 68 94C68 94.5621 68.0178 95.1201 68.053 95.6733C63.1516 94.8561 58.589 92.5302 55.0294 88.9706C50.5286 84.4697 48 78.3652 48 72C48 70.3431 49.3431 69 51 69C52.6569 69 54 70.3431 54 72C54 76.7739 55.8964 81.3523 59.2721 84.7279ZM75.2383 112C72.3502 108.99 70.1792 105.288 69 101.166V106H63C61.3431 106 60 107.343 60 109C60 110.657 61.3431 112 63 112H75.2383ZM116 94C116 106.15 106.15 116 94 116C81.8497 116 72 106.15 72 94C72 81.8497 81.8497 72 94 72C106.15 72 116 81.8497 116 94ZM85 86C85 84.3431 86.3431 83 88 83H102C103.657 83 105 84.3431 105 86V100C105 101.657 103.657 103 102 103C100.343 103 99 101.657 99 100V93.2426L88.1213 104.121C86.9497 105.293 85.0503 105.293 83.8787 104.121C82.7071 102.95 82.7071 101.05 83.8787 99.8787L94.7574 89H88C86.3431 89 85 87.6569 85 86Z" \n\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t</svg>`),cu=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<g clip-path="url(#clip0_573_5483)">\n\t\t\t\t\t\t\t\t<path d="M109 72L93 72" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M62 44V72C62 75.3137 59.3137 78 56 78C52.6863 78 50 75.3137 50 72V44C50 40.6863 52.6863 38 56 38C59.3137 38 62 40.6863 62 44ZM44 44C44 37.3726 49.3726 32 56 32C62.6274 32 68 37.3726 68 44V72C68 78.6274 62.6274 84 56 84C49.3726 84 44 78.6274 44 72V44ZM38 72C38 70.3431 36.6569 69 35 69C33.3431 69 32 70.3431 32 72C32 78.3652 34.5286 84.4697 39.0294 88.9706C42.8173 92.7584 47.741 95.1494 53 95.8119V106H47C45.3431 106 44 107.343 44 109C44 110.657 45.3431 112 47 112H65C66.6569 112 68 110.657 68 109C68 107.343 66.6569 106 65 106H59V95.8119C64.259 95.1494 69.1827 92.7584 72.9706 88.9706C77.4714 84.4697 80 78.3652 80 72C80 70.3432 78.6569 69 77 69C75.3431 69 74 70.3431 74 72C74 76.7739 72.1036 81.3523 68.7279 84.7279C65.3523 88.1036 60.7739 90 56 90C51.2261 90 46.6477 88.1036 43.2721 84.7279C39.8964 81.3523 38 76.7739 38 72Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<clipPath id="clip0_573_5483">\n\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}" transform="translate(24 24)"/>\n\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t</svg>`),hu=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<g clip-path="url(#clip0_573_5479)">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M62 44V72C62 75.3137 59.3137 78 56 78C52.6863 78 50 75.3137 50 72V44C50 40.6863 52.6863 38 56 38C59.3137 38 62 40.6863 62 44ZM44 44C44 37.3726 49.3726 32 56 32C62.6274 32 68 37.3726 68 44V72C68 78.6274 62.6274 84 56 84C49.3726 84 44 78.6274 44 72V44ZM38 72C38 70.3431 36.6569 69 35 69C33.3431 69 32 70.3431 32 72C32 78.3652 34.5286 84.4697 39.0294 88.9706C42.8173 92.7584 47.741 95.1494 53 95.8119V106H47C45.3431 106 44 107.343 44 109C44 110.657 45.3431 112 47 112H65C66.6569 112 68 110.657 68 109C68 107.343 66.6569 106 65 106H59V95.8119C64.259 95.1494 69.1827 92.7584 72.9706 88.9706C77.4714 84.4697 80 78.3652 80 72C80 70.3432 78.6569 69 77 69C75.3431 69 74 70.3431 74 72C74 76.7739 72.1036 81.3523 68.7279 84.7279C65.3523 88.1036 60.7739 90 56 90C51.2261 90 46.6477 88.1036 43.2721 84.7279C39.8964 81.3523 38 76.7739 38 72Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M109 72L93 72" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t<path d="M101 64V80" stroke="${e?ji.enabled:ji.disabled}" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<clipPath id="clip0_573_5479">\n\t\t\t\t\t\t\t\t\t<rect width="96" height="96" fill="${e?ji.enabled:ji.disabled}" transform="translate(24 24)"/>\n\t\t\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t</svg>`),du=(e,t)=>nu(t?`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="M99.1127 40.8875C97.9411 39.7159 96.0416 39.7159 94.8701 40.8875C93.6985 42.059 93.6985 43.9585 94.8701 45.1301C98.3987 48.6587 101.198 52.8478 103.107 57.4582C105.017 62.0686 106 67.0099 106 72.0002C106 76.9904 105.017 81.9318 103.107 86.5421C101.198 91.1525 98.3987 95.3416 94.8701 98.8702C93.6985 100.042 93.6985 101.941 94.8701 103.113C96.0416 104.284 97.9411 104.284 99.1127 103.113C103.198 99.0271 106.439 94.1766 108.651 88.8382C110.862 83.4999 112 77.7783 112 72.0002C112 66.222 110.862 60.5004 108.651 55.1621C106.439 49.8238 103.198 44.9732 99.1127 40.8875Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M61.1716 101.172L48 88.0002H40C35.5817 88.0002 32 84.4184 32 80.0002V64.0002C32 59.5819 35.5817 56.0002 40 56.0002H48L61.1716 42.8286C63.6914 40.3087 68 42.0934 68 45.657V98.3433C68 101.907 63.6914 103.692 61.1716 101.172ZM52.2426 83.7575C51.1174 82.6323 49.5913 82.0002 48 82.0002H40C38.8954 82.0002 38 81.1047 38 80.0002V64.0002C38 62.8956 38.8954 62.0002 40 62.0002H48C49.5913 62.0002 51.1174 61.368 52.2426 60.2428L62 50.4854V93.5149L52.2426 83.7575Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M79.3137 60.6865C78.1421 59.5149 76.2426 59.5149 75.0711 60.6865C73.8995 61.858 73.8995 63.7575 75.0711 64.9291C75.9997 65.8577 76.7362 66.9601 77.2388 68.1733C77.7413 69.3866 78 70.6869 78 72.0002C78 73.3134 77.7413 74.6137 77.2388 75.827C76.7362 77.0403 75.9997 78.1427 75.0711 79.0712C73.8995 80.2428 73.8995 82.1423 75.0711 83.3139C76.2426 84.4855 78.1421 84.4855 79.3137 83.3139C80.7994 81.8281 81.978 80.0643 82.7821 78.1231C83.5861 76.1819 84 74.1013 84 72.0002C84 69.899 83.5861 67.8184 82.7821 65.8772C81.978 63.936 80.7994 62.1722 79.3137 60.6865Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M84.9706 50.787C86.1421 49.6154 88.0416 49.6154 89.2132 50.787C91.999 53.5727 94.2087 56.8799 95.7164 60.5197C97.224 64.1594 98 68.0605 98 72.0002C98 75.9398 97.224 79.8409 95.7164 83.4807C94.2087 87.1204 91.999 90.4276 89.2132 93.2134C88.0416 94.3849 86.1421 94.3849 84.9706 93.2134C83.799 92.0418 83.799 90.1423 84.9706 88.9707C87.1992 86.7421 88.967 84.0964 90.1731 81.1846C91.3792 78.2728 92 75.1519 92 72.0002C92 68.8484 91.3792 65.7276 90.1731 62.8158C88.967 59.904 87.1992 57.2582 84.9706 55.0296C83.799 53.858 83.799 51.9585 84.9706 50.787Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t</svg>\n\t\t`:`<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="M75.1127 16.8875C73.9411 15.7159 72.0416 15.7159 70.8701 16.8875C69.6985 18.059 69.6985 19.9585 70.8701 21.1301C74.3987 24.6587 77.1977 28.8478 79.1074 33.4582C81.0171 38.0686 82 43.0099 82 48.0002C82 52.9904 81.0171 57.9318 79.1074 62.5421C77.1977 67.1525 74.3987 71.3416 70.8701 74.8702C69.6985 76.0418 69.6985 77.9413 70.8701 79.1129C72.0416 80.2844 73.9411 80.2844 75.1127 79.1129C79.1985 75.0271 82.4395 70.1766 84.6507 64.8382C86.8619 59.4999 88 53.7783 88 48.0002C88 42.222 86.8619 36.5004 84.6507 31.1621C82.4395 25.8238 79.1985 20.9732 75.1127 16.8875Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M37.1716 77.1717L24 64.0002H16C11.5817 64.0002 8 60.4184 8 56.0002V40.0002C8 35.5819 11.5817 32.0002 16 32.0002H24L37.1716 18.8286C39.6914 16.3087 44 18.0934 44 21.657V74.3433C44 77.9069 39.6914 79.6916 37.1716 77.1717ZM28.2426 59.7575C27.1174 58.6323 25.5913 58.0002 24 58.0002H16C14.8954 58.0002 14 57.1047 14 56.0002V40.0002C14 38.8956 14.8954 38.0002 16 38.0002H24C25.5913 38.0002 27.1174 37.368 28.2426 36.2428L38 26.4854V69.5149L28.2426 59.7575Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M55.3137 36.6865C54.1421 35.5149 52.2426 35.5149 51.0711 36.6865C49.8995 37.858 49.8995 39.7575 51.0711 40.9291C51.9997 41.8577 52.7362 42.9601 53.2388 44.1733C53.7413 45.3866 54 46.6869 54 48.0002C54 49.3134 53.7413 50.6137 53.2388 51.827C52.7362 53.0403 51.9997 54.1427 51.0711 55.0712C49.8995 56.2428 49.8995 58.1423 51.0711 59.3139C52.2426 60.4855 54.1421 60.4855 55.3137 59.3139C56.7994 57.8281 57.978 56.0643 58.7821 54.1231C59.5861 52.1819 60 50.1013 60 48.0002C60 45.899 59.5861 43.8184 58.7821 41.8772C57.978 39.936 56.7994 38.1722 55.3137 36.6865Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path d="M60.9706 26.787C62.1421 25.6154 64.0416 25.6154 65.2132 26.787C67.999 29.5727 70.2087 32.8799 71.7164 36.5197C73.224 40.1594 74 44.0605 74 48.0002C74 51.9398 73.224 55.8409 71.7164 59.4807C70.2087 63.1204 67.999 66.4276 65.2132 69.2134C64.0416 70.3849 62.1421 70.3849 60.9706 69.2134C59.799 68.0418 59.799 66.1423 60.9706 64.9707C63.1992 62.7421 64.967 60.0964 66.1731 57.1846C67.3792 54.2728 68 51.1519 68 48.0002C68 44.8484 67.3792 41.7276 66.1731 38.8158C64.967 35.904 63.1992 33.2582 60.9706 31.0296C59.799 29.858 59.799 27.9585 60.9706 26.787Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t</svg>\t\t\n\t\t`),uu=(e,t)=>nu(t?`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M48 82C49.5913 82 51.1174 82.6321 52.2426 83.7574L62 93.5147V50.4853L52.2426 60.2426C51.1174 61.3679 49.5913 62 48 62H40C38.8954 62 38 62.8954 38 64V80C38 81.1046 38.8954 82 40 82H48ZM48 88L61.1716 101.172C63.6914 103.691 68 101.907 68 98.3431V45.6569C68 42.0932 63.6914 40.3086 61.1716 42.8284L48 56H40C35.5817 56 32 59.5817 32 64V80C32 84.4183 35.5817 88 40 88H48Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M80.8787 82.8787C79.7071 84.0503 79.7071 85.9497 80.8787 87.1213C82.0503 88.2929 83.9497 88.2929 85.1213 87.1213L96 76.2426L106.879 87.1213C108.05 88.2929 109.95 88.2929 111.121 87.1213C112.293 85.9497 112.293 84.0503 111.121 82.8787L100.243 72L111.121 61.1213C112.293 59.9497 112.293 58.0503 111.121 56.8787C109.95 55.7071 108.05 55.7071 106.879 56.8787L96 67.7574L85.1213 56.8787C83.9497 55.7071 82.0503 55.7071 80.8787 56.8787C79.7071 58.0503 79.7071 59.9497 80.8787 61.1213L91.7574 72L80.8787 82.8787Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabledAccent:ji.disabledAccent}"/>\n\t\t\t\t\t\t\t</svg>\n\t\t`:`<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M24 58C25.5913 58 27.1174 58.6321 28.2426 59.7574L38 69.5147V26.4853L28.2426 36.2426C27.1174 37.3679 25.5913 38 24 38H16C14.8954 38 14 38.8954 14 40V56C14 57.1046 14.8954 58 16 58H24ZM24 64L37.1716 77.1716C39.6914 79.6914 44 77.9068 44 74.3431V21.6569C44 18.0932 39.6914 16.3086 37.1716 18.8284L24 32H16C11.5817 32 8 35.5817 8 40V56C8 60.4183 11.5817 64 16 64H24Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M56.8787 58.8787C55.7071 60.0503 55.7071 61.9497 56.8787 63.1213C58.0503 64.2929 59.9497 64.2929 61.1213 63.1213L72 52.2426L82.8787 63.1213C84.0503 64.2929 85.9497 64.2929 87.1213 63.1213C88.2929 61.9497 88.2929 60.0503 87.1213 58.8787L76.2426 48L87.1213 37.1213C88.2929 35.9497 88.2929 34.0503 87.1213 32.8787C85.9497 31.7071 84.0503 31.7071 82.8787 32.8787L72 43.7574L61.1213 32.8787C59.9497 31.7071 58.0503 31.7071 56.8787 32.8787C55.7071 34.0503 55.7071 35.9497 56.8787 37.1213L67.7574 48L56.8787 58.8787Z" \n\t\t\t\t\t\t\t\tfill="${e?ji.enabledAccent:ji.disabledAccent}"/>\n\t\t\t\t\t\t\t</svg>\n\t\t`),pu=e=>nu(`<svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M94 116C106.15 116 116 106.15 116 94C116 81.8497 106.15 72 94 72C81.8497 72 72 81.8497 72 94C72 106.15 81.8497 116 94 116ZM88 83C86.3431 83 85 84.3431 85 86C85 87.6569 86.3431 89 88 89H94.7574L83.8787 99.8787C82.7071 101.05 82.7071 102.95 83.8787 104.121C85.0503 105.293 86.9497 105.293 88.1213 104.121L99 93.2426V100C99 101.657 100.343 103 102 103C103.657 103 105 101.657 105 100V86C105 84.3431 103.657 83 102 83H88Z" \n\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M94.8701 40.8873C96.0416 39.7157 97.9411 39.7157 99.1127 40.8873C103.198 44.9731 106.439 49.8236 108.651 55.1619C110.862 60.5002 112 66.2218 112 72C112 73.0464 111.963 74.091 111.888 75.1318C110.134 73.4684 108.149 72.0469 105.985 70.9209C105.853 66.2985 104.879 61.7358 103.107 57.458C101.198 52.8476 98.3987 48.6586 94.8701 45.1299C93.6985 43.9584 93.6985 42.0589 94.8701 40.8873ZM97.7673 68.2709C97.4343 65.6126 96.746 63.0051 95.7164 60.5195C94.2087 56.8797 91.999 53.5725 89.2132 50.7868C88.0416 49.6152 86.1421 49.6152 84.9706 50.7868C83.799 51.9584 83.799 53.8578 84.9706 55.0294C87.1992 57.258 88.967 59.9038 90.1731 62.8156C90.8783 64.5181 91.3834 66.2921 91.6813 68.102C92.4452 68.0345 93.2186 68 94 68C95.2795 68 96.5373 68.0924 97.7673 68.2709ZM83.8799 70.0431C83.7038 68.6142 83.3353 67.2127 82.7821 65.877C81.978 63.9358 80.7994 62.172 79.3137 60.6863C78.1421 59.5147 76.2426 59.5147 75.0711 60.6863C73.8995 61.8578 73.8995 63.7573 75.0711 64.9289C75.9997 65.8575 76.7362 66.9599 77.2388 68.1731C77.7413 69.3864 78 70.6868 78 72C78 72.5395 77.9563 73.0769 77.87 73.6069C79.6913 72.1644 81.7104 70.9607 83.8799 70.0431ZM68 94V45.6568C68 42.0932 63.6914 40.3085 61.1716 42.8284L48 56H40C35.5817 56 32 59.5817 32 64V80C32 84.4183 35.5817 88 40 88H48L61.1716 101.172C63.6914 103.691 68 101.907 68 98.3431V94ZM48 82C49.5913 82 51.1174 82.6321 52.2426 83.7573L62 93.5147V50.4853L52.2426 60.2426C51.1174 61.3678 49.5913 62 48 62H40C38.8954 62 38 62.8954 38 64V80C38 81.1046 38.8954 82 40 82H48Z" \n\t\t\t\t\t\t\tfill="${e?ji.enabled:ji.disabled}"/>\n\t\t\t\t\t\t</svg>`);class fu{activity;displayName;executableFile;iconData;iconDataUnavailable;iconDataWithText;iconDataWithTextUnavailable;mute;mutedIconData;mutedIconDataUnavailable;mutedIconDataWithText;mutedIconDataWithTextUnavailable;originalDisplayName;originalExecutableFile;originalIconData;processID;shortName;volume;constructor(e,t,i,n,r,o,s,a,l,c,h,d,u,p,f,g,m,A){this.activity=e,this.displayName=t,this.executableFile=i,this.iconData=n,this.iconDataUnavailable=r,this.iconDataWithText=o,this.iconDataWithTextUnavailable=s,this.mute=a,this.mutedIconData=l,this.mutedIconDataUnavailable=c,this.mutedIconDataWithText=h,this.mutedIconDataWithTextUnavailable=d,this.originalDisplayName=u,this.originalExecutableFile=p,this.originalIconData=f,this.processID=g,this.shortName=m,this.volume=A}static getNextDisplayName(e,t){let i=0;for(const n of e)if(n.displayName.endsWith(t)){const e=n.displayName.slice(0,-t.length);if(e.endsWith(" - ")&&!isNaN(Number(e.slice(0,-3)))){const t=parseInt(e.slice(0,-3));isNaN(t)||(i=Math.max(i,t))}else""===e&&(i=Math.max(i,1))}let n=t;return i>0&&(n=`${i+1} - ${t}`),n}static getNextExecutableFile(e,t){let i=0;for(const n of e)if(n.executableFile.endsWith(t)){const e=n.executableFile.slice(0,-t.length);if(e.endsWith(" - ")&&!isNaN(Number(e.slice(0,-3)))){const t=parseInt(e.slice(0,-3));isNaN(t)||(i=Math.max(i,t))}else""===e&&(i=Math.max(i,1))}let n=t;return i>0&&(n=`${i+1} - ${t}`),n}static getShortName(e){return e.length>15?`${e.slice(0,15)}...`:e}static getDisplayNameFromPath(e){const t=e.lastIndexOf("\\"),i=e.slice(t+1,e.length).toLowerCase();return i.slice(0,i.lastIndexOf(".")).split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}static async fromApplicationInfoResponse(e,t=[]){const i=e.executableFile??"",n=e.displayName?e.displayName:e.executableFile?fu.getDisplayNameFromPath(e.executableFile):"",r=fu.getNextDisplayName(t,n),o=fu.getNextExecutableFile(t,i),s=fu.getShortName(r),a=du(!0,!1),l=du(!0,!1),c=await tu(s),h=uu(!0,!1),d=await eu(c,!1,!0)??"",u=await qd(c),p=await qd(du(!0,!1)),f=await eu(p)??"",g=await eu(u,!1,!0)??"";return new fu(e.activity??Pi.active,r,o,l,p,c,u,e.mute,h,f,d,g,n,i,a,e.processID,s,e.volume)}static async fromApplicationImageResponse(e,t,i=[]){const{originalExecutableFile:n,originalDisplayName:r,displayName:o,executableFile:s,shortName:a,activity:l,mute:c,processID:h,volume:d}=e,{image:u,imageSize:p,imageFormat:f}=t;let g=e.originalIconData,m=e.iconData,A=e.iconDataWithText,b=e.mutedIconData,v=e.mutedIconDataWithText,w=e.iconDataWithTextUnavailable,y=e.iconDataUnavailable,I=e.mutedIconDataUnavailable,E=e.mutedIconDataWithTextUnavailable;if(u){if("png"===f)g=`data:image/png;base64,${u}`;else{g=`data:image/png;base64,${await Jd(u)}`}m=g,A=await tu(a,g),b=await eu(g)??b,v=await eu(A,!0)??v,y=await qd(g),w=await qd(A),I=await eu(y)??I,E=await eu(w,!0)??E}return new fu(l,o,s,m,y,A,w,c,b,I,v,E,r,n,g,h,a,d)}static fromJson(e){return new fu(e.activity,e.displayName,e.executableFile,e.iconData,e.iconDataUnavailable,e.iconDataWithText,e.iconDataWithTextUnavailable,e.mute,e.mutedIconData,e.mutedIconDataUnavailable,e.mutedIconDataWithText,e.mutedIconDataWithTextUnavailable,e.originalDisplayName,e.originalExecutableFile,e.originalIconData,e.processID,e.shortName,e.volume)}toJson(){return{activity:this.activity,displayName:this.displayName,executableFile:this.executableFile,iconData:this.iconData,iconDataUnavailable:this.iconDataUnavailable,iconDataWithText:this.iconDataWithText,iconDataWithTextUnavailable:this.iconDataWithTextUnavailable,mute:this.mute,mutedIconData:this.mutedIconData,mutedIconDataUnavailable:this.mutedIconDataUnavailable,mutedIconDataWithText:this.mutedIconDataWithText,mutedIconDataWithTextUnavailable:this.mutedIconDataWithTextUnavailable,originalDisplayName:this.originalDisplayName,originalExecutableFile:this.originalExecutableFile,originalIconData:this.originalIconData,processID:this.processID,shortName:this.shortName,volume:this.volume}}canActivelyAdjustVolume(){return this.isActive()||this.activity==Pi.inactiveShort}isActive(){return this.activity<Pi.inactiveLong}isInactiveShort(){return this.activity>=Pi.inactiveShort}isInactiveLong(){return this.activity>=Pi.inactiveLong}}var gu;!function(e){e.appAddRemove="appInstanceAddRemove",e.appVolulmeChanged="preferredSessionInstanceVolumeChanged",e.appMuteChanged="preferredSessionInstanceMuteChanged",e.appActivityChanged="appInstanceActivityChanged",e.defaultSystemMuteChanged="currentSystemDefaultDeviceMuteChanged",e.defaultSystemVolumeChanged="currentSystemDefaultDeviceVolumeChanged",e.defaultSystemDeviceChanged="systemDefaultDeviceChanged"}(gu||(gu={}));const mu="2.0";var Au=new class{eventEmitter=new f;requests=new Map;applications=new Map;isPolling=!1;wsUrl="ws://127.0.0.1:1844";ws;on=this.eventEmitter.on;emit=this.eventEmitter.emit;activelyUpdateVolumeTimer=null;generateUniqueID=()=>Math.floor(1e9*Math.random());connect(e=0){if(this.applications.clear(),e>2){const e="Unable to connect to the Volume Controller server.";return xi.logger.error(e),void console.error(e)}this.isConnected||(this.ws=new Ft(this.wsUrl),this.ws.onopen=()=>{this.requestApplicationRefresh()},this.ws.onmessage=this.routeMessage.bind(this),this.ws.onclose=xi.logger.warn.bind(xi.logger,"%c Audio Router Connection Closed","font-weight: bold; font-size: 14px"),this.ws.onerror=async()=>{await new Promise((e=>setTimeout(e,100))),this.connect(++e),console.error("%c Audio Router Error","font-weight: bold; font-size: 14px")})}disconnect(){this.ws?.close(),this.ws=void 0,this.applications.clear()}get isConnected(){return!!this.ws&&this.ws.readyState===Ft.OPEN}async routeMessage(e){let t;try{const i=JSON.parse(e.data.toString());t=i?.id;const{method:n,params:r}=i,o=i.result;switch(this.requests.get(t)){case Ni.getSystemDefaultDevice:const e=this.applications.get("System");if(!e)break;e.mute=o.mute,e.volume=Math.round(100*o.volume)/100,this.emit(Li.applicationImageChanged,e);break;case Ni.getApplicationInstanceCount:const{count:t}=o;await this.refreshApplications(t);break;case Ni.getApplicationInstance:case Ni.getApplicationInstanceAtIndex:if(o?.processID){const e=await fu.fromApplicationInfoResponse(o,this.getAppsArray(!1));this.applications.set(o.processID,e),this.sortApps(),this.requestApplicationImageByProcessID(o.processID),this.emit(Li.applicationAdded,o)}break;case Ni.getApplicationInstanceImage:const i=this.applications.get(o.processID);if(!i){xi.logger.warn(`Unable to find application: ${o} for image.`);break}const n=await fu.fromApplicationImageResponse(i.toJson(),o,this.getAppsArray(!1));this.applications.set(n.processID,n),this.emit(Li.applicationImageChanged,n)}if(!n)return;const s=this.isSystemEvent(n)?0:r?.processID,a=this.applications.get(s);switch(n){case gu.appAddRemove:"Added"===r.appAddedRemoved?this.requestApplicationByProcessID(r.processID):"Removed"===r.appAddedRemoved&&(this.applications.delete(r.processID),this.emit(Li.applicationRemoved,a));break;case gu.appVolulmeChanged:if(!a)throw`No app found for processID ${s}`;a.volume=Math.round(100*r.volume)/100,this.emit(Li.applicationVolumeChanged,a);break;case gu.appMuteChanged:case gu.defaultSystemMuteChanged:if(!a)throw`No app found for processID ${s}`;a.mute=r?.mute,this.emit(Li.applicationMuteChanged,a);break;case gu.defaultSystemVolumeChanged:if(!a)throw`No app found for processID ${s}`;a.volume=Math.round(100*r.volume)/100,this.emit(Li.applicationVolumeChanged,a);break;case gu.appActivityChanged:if(!a)throw`No app found for processID ${s}`;a.activity!=r.activity&&(a.activity=r.activity,this.emit(Li.applicationActivityChanged,a));break;case gu.defaultSystemDeviceChanged:if(!a)throw`No app found for processID ${s}`;a.mute=r?.mute,a.volume=Math.round(100*r.volume)/100,this.emit(Li.defaultDeviceChanged,a)}}catch(e){console.error("Unable to route message",e)}finally{this.requests.delete(t)}}isSystemEvent(e){return["systemDefaultDeviceChanged","currentSystemDefaultDeviceVolumeChanged","currentSystemDefaultDeviceMuteChanged"].includes(e)}sortApps(){const e=Array.from(this.applications.values()).sort(((e,t)=>"System"===t.originalDisplayName?1:e.originalDisplayName.localeCompare(t.originalDisplayName))),t=new Map;e.forEach((e=>{t.set(e.processID,e)})),this.applications=t}async refreshApplications(e){this.applications.clear();const t={originalDisplayName:"System",displayName:"System",shortName:"System",mutedIconDataWithTextUnavailable:uu(!1,!1),executableFile:"System",originalExecutableFile:"System",iconData:du(!0,!1),originalIconData:du(!0,!1),iconDataUnavailable:du(!1,!1),iconDataWithText:await tu("System",du(!0,!1)),iconDataWithTextUnavailable:await tu("System",du(!1,!1)),mute:!1,mutedIconData:uu(!0,!1),mutedIconDataWithText:await tu("System",uu(!0,!1)),mutedIconDataUnavailable:await tu("System",uu(!1,!1)),processID:0,volume:100,activity:Pi.active};this.applications.set("System",fu.fromJson(t)),this.requestSystemDefaultDevice();for(let t=0;t<e;t++)this.requestApplicationAtIndex(t)}send(e){if(!this.isConnected)throw console.error("Not connected!"),"Not connected!";this.ws.send(JSON.stringify(e))}requestTogglePolling(){const e=this.generateUniqueID(),t=Ni.togglePolling;this.isPolling=!this.isPolling,this.requests.set(e,t),this.send({id:e,jsonrpc:mu,method:t,params:{pollingEnabled:this.isPolling}})}requestSetPollingInterval(e){const t=this.generateUniqueID(),i=Ni.setPollingInterval;this.requests.set(t,i),this.send({id:t,jsonrpc:mu,method:i,params:{pollingInterval:e}})}requestDeviceCount(){const e=this.generateUniqueID(),t=Ni.getDeviceCount;this.requests.set(e,t),this.send({id:e,jsonrpc:mu,method:t})}requestSystemDefaultDevice(){const e=this.generateUniqueID(),t=Ni.getSystemDefaultDevice;this.requests.set(e,t),this.send({id:e,jsonrpc:mu,method:t})}requestDevice(e){const t=this.generateUniqueID(),i=Ni.getDevice;this.requests.set(t,i),this.send({id:t,jsonrpc:mu,method:i,params:{deviceId:e}})}requestApplicationAtIndex(e){const t=this.generateUniqueID(),i=Ni.getApplicationInstanceAtIndex;this.requests.set(t,i),this.send({id:t,jsonrpc:mu,method:i,params:{index:e}})}requestApplicationByProcessID(e){const t=this.generateUniqueID(),i=Ni.getApplicationInstance;this.requests.set(t,i),this.send({id:t,jsonrpc:mu,method:i,params:{processID:e}})}requestApplicationImageByProcessID(e){const t=this.generateUniqueID(),i=Ni.getApplicationInstanceImage;this.requests.set(t,i),this.send({id:t,jsonrpc:mu,method:i,params:{processID:e,imageSize:262244}})}requestApplicationRefresh(){if(!this.isConnected)return;const e=this.generateUniqueID(),t=Ni.getApplicationInstanceCount;this.requests.set(e,t),this.send({id:e,jsonrpc:mu,method:t})}requestAppSetVolume(e,t){const i=0===e,n=this.generateUniqueID(),r=i?Ni.setSystemDefaultDeviceVolume:Ni.setApplicationInstanceVolume,o=this.applications.get(e);o&&(o.volume=t,this.emit(Li.applicationChanged,this.applications.get(e)),this.send({id:n,jsonrpc:mu,method:r,params:{processID:e,volume:t}}))}requestAppMuteToggle(e,t){const i=0===e,n=this.generateUniqueID(),r=i?Ni.setSystemDefaultDeviceMute:Ni.setApplicationInstanceMute,o=!t;this.requests.set(n,r),this.send({id:n,jsonrpc:mu,method:r,params:{processID:e,mute:o}})}getAppByExecutableFile(e){return Array.from(this.applications.values()).find((t=>t.executableFile===e))}getAppsArray(e=!1){return e?Array.from(this.applications.values()).filter((e=>e.activity<=Pi.inactiveShort)):Array.from(this.applications.values())}onApplicationAdded(e){e||console.error("A callback function for onApplicationAdded event."),this.on(Li.applicationAdded,(t=>e(t)))}onApplicationRemoved(e){e||console.error("A callback function for onApplicationRemoved event."),this.on(Li.applicationRemoved,(t=>e(t)))}onApplicationChanged(e){e||console.error("A callback function for onApplicationChanged event."),this.on(Li.applicationChanged,(t=>e(t)))}onApplicationsRefreshed(e){e||console.error("A callback function for onApplicationsRefreshed event."),this.on(Li.applicationsRefreshed,(()=>e()))}onApplicationVolumeChanged(e){e||console.error("A callback function for onApplicationVolumeChanged event."),this.on(Li.applicationVolumeChanged,(t=>e(t)))}onApplicationMuteChanged(e){e||console.error("A callback function for onApplicationMuteChanged event."),this.on(Li.applicationMuteChanged,(t=>e(t)))}onApplicationImageChanged(e){e||console.error("A callback function for onApplicationImageChanged event."),this.on(Li.applicationImageChanged,(t=>e(t)))}onApplicationActivityChanged(e){e||console.error("A callback function for onApplicationImageChanged event."),this.on(Li.applicationActivityChanged,(t=>e(t)))}onDefaultDeviceChanged(e){e||console.error("A callback function for onDefaultDeviceChanges event."),this.on(Li.defaultDeviceChanged,(t=>e(t)))}};class bu{static deckDevices=new Map;static manualContexts=new Map;static piContext;static piUUID;static globalSettingsCache}let vu=(()=>{let e,t,i=[ki({UUID:Oi.auto})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}onKeyUp(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{deviceId:t}=e,i=bu.deckDevices.get(t);if(i)this.openAutoProfile(i);else{const t="Deck device not found!";e.action.showAlert(),console.error(t),xi.logger.error(t)}}openAutoProfile(e){const{type:t,id:i}=e;switch(e.currentOffset=0,e.enableBackToProfile=!0,t){case ni.StreamDeck:xi.profiles.switchToProfile(i,"Volume Controller (Auto)");break;case ni.StreamDeckXL:xi.profiles.switchToProfile(i,"Volume Controller XL (Auto)");break;case ni.StreamDeckPlus:xi.profiles.switchToProfile(i,"Volume Controller+ (Auto)");break;default:xi.actions.createController(i).showAlert()}}},t})();var wu;!function(e){e.Keypad="Keypad",e.Encoder="Encoder"}(wu||(wu={}));const yu=(e,t,i,n=!0)=>{if(!e&&!t)return;const r=xi.actions.createController(e),o=xi.actions.createController(t),s=n&&(i?.canActivelyAdjustVolume()??!1),a=i?iu(!0,i.volume,!1,s):Bi.blank,l=i?iu(!1,i.volume,!1,s):Bi.blank;r.setTitle(""),r.setImage(a),o.setTitle(""),o.setImage(l)},Iu=(e,t,i=!0)=>{if(!t)return;const{controller:n,context:r,settings:o}=e,s=xi.actions.createController(r);switch(n){case wu.Encoder:Su(r,t,i);break;case wu.Keypad:const{volumeChange:e,volumeStep:n}=o;if(e===Mi.adjust){const e=parseInt(n??"");e>0?yu(r,"",t,i):e<0?yu("",r,t,i):(!i||t.isInactiveLong()||t.isInactiveShort()?s.setImage(t.iconDataUnavailable):s.setImage(t.iconData),s.setTitle(""))}else e===Mi.mute?Cu(r,t,i):e===Mi.set&&Eu(r,t,parseInt(o.volume??"0"),i)}},Eu=(e,t,i,n=!0)=>{if(!e)return;const r=xi.actions.createController(e),o=fu.fromJson(t);!n||o.isInactiveLong()||o.isInactiveShort()?r.setImage(o.iconDataUnavailable):r.setImage(o.iconData),r.setTitle(`${i}%`)},Cu=(e,t,i=!0)=>{if(!e)return;const n=xi.actions.createController(e);if(n.setTitle(""),!t)return void n.setImage("");const r=fu.fromJson(t);if(!i||r.isInactiveLong())n.setImage(t.iconDataWithTextUnavailable);else if(r.isInactiveShort()){const e=t.mute?t.mutedIconDataWithTextUnavailable:t.iconDataWithTextUnavailable;n.setImage(e)}else{const e=t.mute?t.mutedIconDataWithText:t.iconDataWithText;n.setImage(e)}},_u=(e,t,i=!0)=>{if(!e)return;const n=xi.actions.createController(e),r=fu.fromJson(t),o=Math.round(100*(r?.volume??0));!i||r.isInactiveLong()?n.setFeedback({indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#454545"},value:""}):t.volume>=0&&n.setFeedback({indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#FFF"},value:{value:`${o}%`,enabled:!0}})},ku=(e,t,i=!0)=>{if(!t||!e)return;const n=xi.actions.createController(e),r=fu.fromJson(t),o=Math.round(100*(r?.volume??0));if(!i||r.isInactiveLong())n.setImage(r.iconDataUnavailable),n.setFeedback({icon:r.iconDataUnavailable??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#454545"}});else if(r.isInactiveShort()){const e=r.mute?r.mutedIconDataUnavailable:r.iconDataUnavailable;n.setImage(e),n.setFeedback({icon:e??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#FFF"}})}else{const e=r.mute?r.mutedIconData:r.iconData;n.setImage(e),n.setFeedback({icon:e??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#FFF"}})}},Su=(e,t,i=!0)=>{if(!e)return;const n=xi.actions.createController(e);if(!t)return n.setImage(Bi.empty),void n.setFeedback({title:{value:"  ",enabled:!1},icon:{value:Bi.empty,enabled:!1},indicator:{enabled:!1},value:{enabled:!1}});const r=fu.fromJson(t),o=Math.round(100*(r?.volume??0));!i||r.isInactiveLong()?(n.setImage(r.iconDataUnavailable),n.setFeedback({title:r.displayName,icon:r.iconDataUnavailable??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#454545"},value:""})):r.isInactiveShort()?(n.setImage(r.iconDataUnavailable),n.setFeedback({title:r.displayName,icon:r.mute?r.mutedIconDataUnavailable??"":r.iconDataUnavailable??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#FFF"},value:{value:`${o}%`,enabled:!0}})):(n.setImage(r?.iconData),n.setFeedback({title:r.displayName,icon:r.mute?r.mutedIconData??"":r.iconData??"",indicator:{value:o,opacity:1,enabled:!0,bar_fill_c:"#FFF"},value:{value:`${o}%`,enabled:!0}}))},xu=(e,t,i=!0)=>{const n=bu.manualContexts.get(e);if(!n)return xi.actions.createController(e).showAlert(),void xi.logger.error("Unable to find visible key context for manual detection action.");Iu(n,t,i)},Du=e=>Array.from(bu.manualContexts.values()).filter((t=>t?.settings?.application?.executableFile===e)),Ru=(e,t,i=!0)=>{if(!e)return;const n=!!i&&t>0?Bi.left:Bi.blank;xi.actions.createController(e).setImage(n)},Ou=(e,t)=>{t.autoColumns.forEach(((i,n)=>{const r=t.currentOffset+n;((e,t)=>{e.processID=t?.processID,Cu(e.muteKey??"",t),yu(e.volumeUpKey??"",e.volumeDownKey??"",t),Su(e.volumeDial??"",t)})(i,e[r])})),Pu(t.nextKey??"",e.length,t),Ru(t.previousKey??"",t.currentOffset)},Pu=(e,t,i)=>{if(!e)return;const n=t>i.columnCount&&t-i.currentOffset-i.columnCount>0?Bi.right:Bi.blank;xi.actions.createController(e).setImage(n)};let Lu=(()=>{let e,t,i=[ki({UUID:Oi.autoMute})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}async onWillAppear(e){if(e.payload.isInMultiAction)return;const{action:t,deviceId:i,payload:n}=e,{id:r}=t,{coordinates:o}=n,{column:s}=o,a=bu.deckDevices.get(i);if(!a)return;const l=a.autoColumns[s-a.startColumnOffset],c=a.getAppIndexFromColumn(s),h=bu.globalSettingsCache,d=h&&"active"===h[i]?.showApps,u=Au.getAppsArray(d)[c];Cu(r,u),l.muteKey=r,l.processID=u?.processID}async onKeyUp(e){if(e.payload.isInMultiAction)return;if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,deviceId:i,action:n}=e,{coordinates:r}=t,{column:o}=r,s=bu.deckDevices.get(i)?.getAppIndexFromColumn(o);if(void 0===s)return n.showAlert(),void xi.logger.error("Unexpected error: Stream Deck device not registered in plugin.");const a=bu.globalSettingsCache,l=a&&"active"==a[i]?.showApps,c=Au.getAppsArray(l)[s];if(c)if(c.canActivelyAdjustVolume()){const{processID:e,mute:t}=c;Au.requestAppMuteToggle(e,t)}else n.showAlert(),xi.logger.error(`Unable to adjust mute for ${c}`)}},t})(),Nu=(()=>{let e,t,i=[ki({UUID:Oi.autoNext})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}async onWillAppear(e){const{deviceId:t,action:i}=e,{id:n}=i,r=bu.globalSettingsCache,o=r&&"active"==r[t]?.showApps,s=Au.getAppsArray(o).length,a=bu.deckDevices.get(t);a&&(Pu(n,s,a),a.nextKey=n)}async onKeyUp(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{deviceId:t}=e,i=bu.globalSettingsCache,n=i&&"active"==i[t]?.showApps,r=Au.getAppsArray(n);bu.deckDevices.get(t)?.nextPage(r)}},t})(),Mu=(()=>{let e,t,i=[ki({UUID:Oi.autoPrev})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}onWillAppear(e){const{deviceId:t,action:i}=e,{id:n}=i,r=bu.deckDevices.get(t);r&&(Ru(n,r.currentOffset),r.previousKey=n)}async onKeyUp(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{deviceId:t}=e,i=bu.globalSettingsCache,n=i&&"active"==i[t]?.showApps,r=Au.getAppsArray(n);bu.deckDevices.get(t)?.previousPage(r)}},t})();const Bu=(e,t=1,i=5)=>{const n=Math.round(t)*Math.round(i),r=parseFloat(e)+n/100;return Math.round(100*Math.min(Math.max(r,0),1))/100};let ju=(()=>{let e,t,i=[ki({UUID:Oi.autoVol})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}async onDialUp(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,deviceId:i,action:n}=e,{coordinates:r}=t,{column:o}=r,s=bu.deckDevices.get(i)?.getAppIndexFromColumn(o),a=bu.globalSettingsCache,l=a&&"active"==a[i]?.showApps,c=Au.getAppsArray(l);if(void 0===s)return n.showAlert(),void xi.logger.error("Unable to find Stream Deck device.");const h=c[s];if(h?.canActivelyAdjustVolume()){const{processID:e,mute:t}=h;Au.requestAppMuteToggle(e,t)}else n.showAlert()}async onTouchTap(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,deviceId:i,action:n}=e,{coordinates:r}=t,{column:o}=r,s=bu.deckDevices.get(i)?.getAppIndexFromColumn(o),a=bu.globalSettingsCache,l=a&&"active"==a[i]?.showApps,c=Au.getAppsArray(l);if(void 0===s)return n.showAlert(),void xi.logger.error("Unable to find Stream Deck device.");const h=c[s];if(h?.canActivelyAdjustVolume()){const{processID:e,mute:t}=h;Au.requestAppMuteToggle(e,t)}else n.showAlert()}async onWillAppear(e){if(e.payload.isInMultiAction)return;const{payload:t,action:i,deviceId:n}=e,{id:r}=i,{coordinates:o}=t,{column:s}=o,a=bu.deckDevices.get(n);if(!a)return;const l=a.autoColumns[s-a.startColumnOffset],c=a.getAppIndexFromColumn(s),h=bu.globalSettingsCache,d=h&&"active"==h[n]?.showApps,u=Au.getAppsArray(d)[c];Su(r,u),l.volumeDial=r,l.processID=u?.processID}async onDialRotate(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,deviceId:i,action:n}=e,{coordinates:r,ticks:o}=t,{column:s}=r,a=bu.deckDevices.get(i);if(!a)return;const l=a.volumeStep,c=a.getAppIndexFromColumn(s),h=bu.globalSettingsCache,d=h&&"active"==h[i]?.showApps,u=Au.getAppsArray(d)[c];if(u?.canActivelyAdjustVolume()){const{volume:e,processID:t}=u,i=Bu(e.toString(),o,l);Au.requestAppSetVolume(t,i)}else n.showAlert()}},t})(),Tu=(()=>{let e,t,i=[ki({UUID:Oi.autoVolDown})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}keyDownMap=new Map;async onWillAppear(e){if(e.payload.isInMultiAction)return;const{payload:t,deviceId:i,action:n}=e,{id:r}=n,{coordinates:o}=t,{column:s}=o,a=bu.deckDevices.get(i);if(!a)return;const l=a.autoColumns[s-a.startColumnOffset],c=bu.deckDevices.get(i)?.getAppIndexFromColumn(s),h=bu.globalSettingsCache,d=h&&"active"==h[i]?.showApps,u=Au.getAppsArray(d);if(void 0===c)return n.showAlert(),void xi.logger.error("Unable to find Stream Deck device.");const p=u[c];l.volumeDownKey=r,l.processID=p?.processID;const f=a.autoColumns[s-a.startColumnOffset].volumeUpKey;f&&yu(f,r,p)}onKeyDown(e){if(e.payload.isInMultiAction)return;const{action:t,deviceId:i,payload:n}=e,{coordinates:r}=n,{column:o}=r,{id:s}=t;this.keyDownMap.set(s,!0),this.decrementVolume(s,i,o)}onKeyUp(e){this.keyDownMap.delete(e.action.id)}async decrementVolume(e,t,i){if(!this.keyDownMap.get(e))return;if(!Au.isConnected)return xi.actions.createController(e).showAlert(),void xi.logger.error("Audio Router is not running!");const n=bu.deckDevices.get(t);if(!n)return;const r=n.volumeStep,o=n.getAppIndexFromColumn(i),s=bu.globalSettingsCache,a=s&&"active"==s[t]?.showApps,l=Au.getAppsArray(a)[o];if(l){if(l?.canActivelyAdjustVolume()){const{volume:e,processID:t}=l,i=Bu(e.toString(),-1,r);Au.requestAppSetVolume(t,i)}else xi.actions.createController(e).showAlert();this.keyDownMap.get(e)&&setTimeout((()=>this.decrementVolume(e,t,i)),200)}}},t})(),Uu=(()=>{let e,t,i=[ki({UUID:Oi.autoVolUp})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}keyDownMap=new Map;async onWillAppear(e){if(e.payload.isInMultiAction)return;const{payload:t,deviceId:i,action:n}=e,{id:r}=n,{coordinates:o}=t,{column:s}=o,a=bu.deckDevices.get(i);if(!a)return;const l=a.autoColumns[s-a.startColumnOffset],c=bu.deckDevices.get(i)?.getAppIndexFromColumn(s),h=bu.globalSettingsCache,d=h&&"active"==h[i]?.showApps,u=Au.getAppsArray(d);if(void 0===c)return n.showAlert(),void xi.logger.error("Unable to find Stream Deck device.");const p=u[c];l.volumeUpKey=r,l.processID=p?.processID;const f=a.autoColumns[s-a.startColumnOffset].volumeDownKey;f&&yu(r,f,p)}onKeyDown(e){if(e.payload.isInMultiAction)return;const{action:t,deviceId:i,payload:n}=e,{coordinates:r}=n,{column:o}=r,{id:s}=t;this.keyDownMap.set(s,!0),this.incrementVolume(s,i,o)}onKeyUp(e){this.keyDownMap.delete(e.action.id)}async incrementVolume(e,t,i){if(!this.keyDownMap.get(e))return;if(!Au.isConnected)return xi.actions.createController(e).showAlert(),void xi.logger.error("Audio Router is not running!");const n=bu.deckDevices.get(t);if(!n)return;const r=n.volumeStep,o=n.getAppIndexFromColumn(i),s=bu.globalSettingsCache,a=s&&"active"==s[t]?.showApps,l=Au.getAppsArray(a)[o];if(l){if(l?.canActivelyAdjustVolume()){const{volume:e,processID:t}=l,i=Bu(e.toString(),1,r);Au.requestAppSetVolume(t,i)}else xi.actions.createController(e).showAlert();this.keyDownMap.get(e)&&setTimeout((()=>this.incrementVolume(e,t,i)),200)}}},t})(),Fu=(()=>{let e,t,i=[ki({UUID:Oi.back})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}onKeyUp(e){const{deviceId:t,action:i}=e,n=bu.deckDevices.get(t);n?.enableBackToProfile&&(i.setImage(Bi.blank),(e=>{e.autoColumns.forEach((e=>{if(e.muteKey&&xi.actions.createController(e.muteKey).setImage(),e.volumeUpKey&&xi.actions.createController(e.volumeUpKey).setImage(),e.volumeDownKey&&xi.actions.createController(e.volumeDownKey).setImage(),e.volumeDial){const t=xi.actions.createController(e.volumeDial);t.setImage(),t.setFeedback({title:"",icon:"",indicator:{value:0,opacity:0,enabled:!0},value:""})}})),xi.actions.createController(e.nextKey??"").setImage(),xi.actions.createController(e.previousKey??"").setImage()})(n),xi.profiles.switchToProfile(t))}onWillAppear(e){const{deviceId:t,action:i}=e;bu.deckDevices.get(t)?.enableBackToProfile?i.setImage(Bi.back):i.setImage(Bi.blank)}onWillDisappear(e){const{deviceId:t,action:i}=e,n=bu.deckDevices.get(t);n&&(n.enableBackToProfile=!1),i.setImage(Bi.blank)}},t})(),Zu=(()=>{let e,t,i=[ki({UUID:Oi.blank})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}},t})();var zu,Wu,Gu;!function(e){e.Active="active",e.Disabled="disabled",e.Unplugged="unplugged"}(zu||(zu={})),function(e){e.None="none",e.System="system",e.Communications="communications"}(Wu||(Wu={})),function(e){e.Input="input",e.Output="output"}(Gu||(Gu={}));const{getDefaultDevice:Vu,getDeviceById:Hu,getDevices:Qu,setDeviceMute:Ju,setDeviceVolume:Ku,onDeviceChanged:Xu,onDefaultDeviceChanged:$u}="darwin"===E.platform()?process.arch.toLowerCase().includes("arm")?require("./addons/macAudioDeviceService.node"):require("./addons/macIntelAudioDeviceService.node"):require("./addons/winAudioDeviceService.node");var Yu=new class{getDefaultDevice(e,t){return Vu(e,t)}getDeviceById(e){return Hu(e)}getDevices(){return Qu()}setDeviceMute(e,t){Ju(e,t)}setDeviceVolume(e,t){const i=Math.min(1,Math.max(0,t)),n=parseFloat(i.toFixed(2));Ku(e,n)}onDeviceChanged(e){Xu(e)}onDefaultDeviceChanged(e){$u(e)}};const qu=e=>({id:e.id,friendlyName:e.friendlyName});var ep,tp,ip=new class extends qt{defaultInputDevice;defaultOutputDevice;defaultCommunicationInputDevice;defaultCommunicationOutputDevice;constructor(){super(),Yu.onDeviceChanged(this.deviceChanged.bind(this)),Yu.onDefaultDeviceChanged(this.defaultDeviceChanged.bind(this)),this.defaultInputDevice=Yu.getDefaultDevice(Gu.Input,Wu.System),this.defaultOutputDevice=Yu.getDefaultDevice(Gu.Output,Wu.System),xi.logger.debug(`Default Input Device Set: ${JSON.stringify(this.defaultInputDevice)}`),xi.logger.debug(`Default Output Device Set: ${JSON.stringify(this.defaultOutputDevice)}`),"win32"===p.platform()&&(this.defaultCommunicationInputDevice=Yu.getDefaultDevice(Gu.Input,Wu.Communications),this.defaultCommunicationOutputDevice=Yu.getDefaultDevice(Gu.Output,Wu.Communications),xi.logger.debug(`Default Communication Input Device Set: ${JSON.stringify(this.defaultCommunicationInputDevice)}`),xi.logger.debug(`Default Communication Output Device Set: ${JSON.stringify(this.defaultCommunicationOutputDevice)}`))}get inputDeviceIdentifications(){return Yu.getDevices().filter((e=>e.state===zu.Active)).filter((e=>e.dataFlow===Gu.Input)).map(qu)}get outputDeviceIdentifications(){return Yu.getDevices().filter((e=>e.state===zu.Active)).filter((e=>e.dataFlow===Gu.Output)).map(qu)}setDefaultInputDevice(e,t){t===Wu.Communications?(this.defaultCommunicationInputDevice=e,xi.logger.debug(`Default Communication Input Device Set: ${JSON.stringify(this.defaultCommunicationInputDevice)}`)):(this.defaultInputDevice=e,xi.logger.debug(`Default Input Device Set: ${JSON.stringify(this.defaultInputDevice)}`))}setDefaultOutputDevice(e,t){t===Wu.Communications?(this.defaultCommunicationOutputDevice=e,xi.logger.debug(`Default Communication Output Device Set: ${JSON.stringify(this.defaultCommunicationOutputDevice)}`)):(this.defaultOutputDevice=e,xi.logger.debug(`Default Output Device Set: ${JSON.stringify(this.defaultOutputDevice)}`))}defaultDeviceChanged(e,t){if(void 0===e?.volume){Yu.getDevices().find((t=>{t.id===e.id&&(e=t)}))}e.dataFlow===Gu.Input?(this.setDefaultInputDevice(e,t),this.emit("defaultInputDeviceChanged",e)):e.dataFlow===Gu.Output&&(this.setDefaultOutputDevice(e,t),this.emit("defaultOutputDeviceChanged",e)),this.emit("defaultDeviceChanged",e,t)}deviceChanged(e){if(xi.logger.debug(`Device Property Changed: ${JSON.stringify(e)}`),void 0===e?.volume){Yu.getDevices().find((t=>{t.id===e.id&&(e=t)}))}this.emit("deviceChanged",e),e.dataFlow===Gu.Input?this.emit("inputDeviceChanged",e):e.dataFlow===Gu.Output&&this.emit("outputDeviceChanged",e)}onDefaultDeviceChanged(e){this.on("defaultDeviceChanged",e)}onDeviceChanged(e){this.on("deviceChanged",e)}onInputDeviceChanged(e){this.on("inputDeviceChanged",e)}onOutputDeviceChanged(e){this.on("outputDeviceChanged",e)}onDefaultInputDeviceChanged(e){this.on("defaultInputDeviceChanged",e)}onDefaultOutputDeviceChanged(e){this.on("defaultOutputDeviceChanged",e)}};!function(e){e.SET="set",e.ADJUST="adjust",e.MUTE="mute"}(ep||(ep={})),function(e){e.vertical="vertical",e.horizontal="horizontal",e.static="static"}(tp||(tp={}));class np extends Si{dataFlow;images;visibleActionsToDeviceId=new Map;visibileActionsToControllerType=new Map;lastKnownVolumes=new Map;keyDownContexts=new Set;constructor(e,t){super(),this.dataFlow=e,this.images=t}drawActionsForDevice(e){const t=this.getKeysByDeviceId(e.id);t.size>0&&t.forEach((t=>this.draw(t,e))),this.lastKnownVolumes.set(e.id,e.volume)}getDeviceByFriendlyName(e){return Yu.getDevices().find((t=>t.friendlyName===e))}getDeviceFromSettings(e,t){const{deviceId:i,friendlyName:n}=e;let r;return r=i&&i!==Ti.default?i===Ti.defaultCommunication?Yu.getDefaultDevice(t,Wu.Communications):Yu.getDeviceById(i)??this.getDeviceByFriendlyName(n)??null:Yu.getDefaultDevice(t,Wu.System),r?.id&&r?.friendlyName?r:void xi.logger.warn(`Device not found for settings: ${JSON.stringify(e)} and flow: ${t}`)}onWillAppear(e){const{deviceId:t}=e.payload.settings;this.visibleActionsToDeviceId.set(e.action.id,t),this.visibileActionsToControllerType.set(e.action.id,e.payload.controller),this.draw(e.action.id)}onWillDisappear(e){this.visibleActionsToDeviceId.delete(e.action.id),this.visibileActionsToControllerType.delete(e.action.id),this.keyDownContexts.delete(e.action.id)}async onSendToPlugin(e){const{settings:t,controller:i}=e.payload,{deviceId:n}=t;n&&this.visibleActionsToDeviceId.set(e.action.id,n),i&&this.visibileActionsToControllerType.set(e.action.id,i),await this.draw(e.action.id)}onKeyDown(e){this.keyDownContexts.add(e.action.id),this.changeVolume(e)}onKeyUp(e){this.keyDownContexts.delete(e.action.id)}onDialRotate(e){const{deviceId:t,volumeStep:i,friendlyName:n}=e.payload.settings,r=this.getDeviceFromSettings(e.payload.settings,this.dataFlow);if(!r)return xi.logger.error(`No device found for settings: ${n}:${t}`),void e.action.showAlert();e.payload.ticks>0&&r.isMuted&&Yu.setDeviceMute(r.id,!1);const o=i?parseInt(i):0;Yu.setDeviceVolume(r.id,r.volume+o/100*e.payload.ticks)}onDialUp(e){const{deviceId:t,friendlyName:i}=e.payload.settings,n=this.getDeviceFromSettings(e.payload.settings,this.dataFlow);if(!n)return xi.logger.error(`No device found for settings: ${i}:${t}`),void e.action.showAlert();Yu.setDeviceMute(n.id,!n.isMuted)}onTouchTap(e){const{deviceId:t,friendlyName:i}=e.payload.settings,n=this.getDeviceFromSettings(e.payload.settings,this.dataFlow);if(!n)return xi.logger.error(`No device found for settings: ${i}:${t}`),void e.action.showAlert();Yu.setDeviceMute(n.id,!n.isMuted)}changeVolume(e){if(!this.keyDownContexts.has(e.action.id))return;const{action:t,deviceId:i,friendlyName:n,style:r,volume:o,volumeStep:s}=e.payload.settings,a=this.getDeviceFromSettings(e.payload.settings,this.dataFlow);if(!a)return xi.logger.error(`No device found for settings: ${n}:${i}`),void e.action.showAlert();switch(t){case ep.MUTE:Yu.setDeviceMute(a.id,!a.isMuted);break;case ep.ADJUST:const e=s?parseInt(s):0;e>0&&a.isMuted&&Yu.setDeviceMute(a.id,!1),Yu.setDeviceVolume(a.id,a.volume+e/100);break;case ep.SET:const t=o?parseInt(o):0;t>0&&a.isMuted&&Yu.setDeviceMute(a.id,!1),Yu.setDeviceVolume(a.id,t/100)}this.keyDownContexts.has(e.action.id)&&setTimeout(this.changeVolume.bind(this,e),200)}async draw(e,t=void 0){const i=this.visibileActionsToControllerType.get(e);i===wu.Keypad?await this.drawKeypad(e,t):i===wu.Encoder&&await this.drawEncoder(e,t)}async drawEncoder(e,t=void 0){const i=xi.actions.createController(e),n=await i.getSettings();t=t||this.getDeviceFromSettings(n,this.dataFlow);const r=t?.state===zu.Active,o=n.deviceId?this.lastKnownVolumes.get(n?.deviceId):void 0,s=parseFloat(t?.volume?.toString()??o?.toString()??"0"),a=t?.friendlyName??n?.friendlyName??"",l=r?Math.round(100*s).toString()+"%":"",c=this.getMuteImage(t,wu.Encoder),h=r?"#FFF":"#454545";xi.logger.debug(`Drawing encoder for device: ${JSON.stringify(t)} from settings: ${JSON.stringify(n)}`),i.setImage(c),i.setFeedback({title:a,icon:c,indicator:{value:100*s,bar_fill_c:h},value:l})}async drawKeypad(e,t=void 0){const i=xi.actions.createController(e),n=await i.getSettings();t=t||this.getDeviceFromSettings(n,this.dataFlow);const{action:r,style:o,volume:s,volumeStep:a}=n;switch(xi.logger.debug(`Drawing key for device: ${JSON.stringify(t)} from settings: ${JSON.stringify(n)}`),r){case ep.MUTE:i.setImage(this.getMuteImage(t,wu.Keypad)),i.setTitle("");break;case ep.ADJUST:const e=a?parseInt(a):0,r=n.deviceId?this.lastKnownVolumes.get(n?.deviceId):void 0;i.setImage(this.getAdjustImage(t,e,o??tp.static,r?.toString())),i.setTitle("");break;case ep.SET:i.setImage(this.getSetImage(t)),i.setTitle(t?.state===zu.Active?s:"")}}getSetImage(e){return e?.state===zu.Active?this.images.set:this.images.setDisabled}getMuteImage(e,t){return t===wu.Encoder?this.getEncoderMuteImage(e):this.getKeyMuteImage(e)}getEncoderMuteImage(e){return e?e.state!==zu.Active?e.isMuted?this.images.mutedEncoderDisabled:this.images.unmutedEncoderDisabled:e.isMuted?this.images.mutedEncoder:this.images.unmutedEncoder:this.images.unmutedEncoderDisabled}getKeyMuteImage(e){return e?e.state!==zu.Active?e.isMuted?this.images.mutedKeyDisabled:this.images.unmutedKeyDisabled:e.isMuted?this.images.mutedKey:this.images.unmutedKey:this.images.unmutedKeyDisabled}getAdjustImage(e,t,i,n){const r=void 0===e?.volume?n:e?.volume,o=void 0!==r?parseFloat(`${r}`):void 0,s=void 0!==e&&e.state===zu.Active;switch(i){case tp.static:return t>0?e?.state===zu.Active?this.images.increase:this.images.increaseDisabled:t<0?e?.state===zu.Active?this.images.decrease:this.images.decreaseDisabled:void 0;case tp.vertical:return 0===t?void 0:iu(t>0,o,!1,s);case tp.horizontal:return 0===t?void 0:iu(t>0,o,!0,s)}}}const rp={unmutedKey:au(!0,!0),unmutedEncoder:au(!0,!1),unmutedKeyDisabled:au(!1,!0),unmutedEncoderDisabled:au(!1,!1),mutedKey:su(!0,!0),mutedEncoder:su(!0,!1),mutedKeyDisabled:su(!1,!0),mutedEncoderDisabled:su(!1,!1),increase:ou(!0),increaseDisabled:ou(!1),decrease:ru(!0),decreaseDisabled:ru(!1),set:lu(!0),setDisabled:lu(!1)};let op=(()=>{let e,t,i=[ki({UUID:Oi.inputDeviceControl})],n=[],r=np;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}constructor(){super(Gu.Input,rp),ip.onInputDeviceChanged(this.drawActionsForDevice.bind(this)),ip.onDefaultInputDeviceChanged(this.drawActionsForDevice.bind(this))}onPropertyInspectorDidAppear(e){e.action.sendToPropertyInspector({devices:ip.inputDeviceIdentifications})}getKeysByDeviceId(e){const t=new Set,i=ip.defaultCommunicationInputDevice?.id===e,n=ip.defaultInputDevice?.id===e;return this.visibleActionsToDeviceId.forEach(((r,o)=>{(r===e||n&&r===Ti.default||i&&r===Ti.defaultCommunication)&&t.add(o)})),t}},t})();var sp;!function(e){e.All="all",e.Active="active"}(sp||(sp={}));class ap{showApps=sp.All;id;type;startColumnOffset=0;columnCount;currentOffset;nextKey;previousKey;autoColumns=[];volumeStep=5;enableBackToProfile=!1;connected=!0;constructor(e,t){this.id=e,this.type=t,this.columnCount=this.getColumnCount(t),this.startColumnOffset=this.getStartColumnOffset(t),this.currentOffset=0;for(let e=0;e<this.columnCount;e++)this.autoColumns[e]=new lp}get nextOffset(){return this.currentOffset+this.columnCount}get previousOffset(){return this.currentOffset-this.columnCount}getStartColumnOffset(e){switch(e){case ni.StreamDeck:case ni.StreamDeckXL:return 1;default:return 0}}getColumnCount(e){switch(e){case ni.StreamDeck:return 4;case ni.StreamDeckXL:return 7;case ni.StreamDeckPlus:return 4;default:return 0}}setAllImages(e,t,i=!0){if(!e)return;const n=t&&"active"==t[this.id]?.showApps?e.filter((e=>e.activity<=Pi.inactiveShort)):e;Ou(i?n:[],this),((e,t)=>{t.forEach((t=>{Iu(t,e.find((e=>{if(t.settings.application?.displayName===e.displayName)return e})))}))})(e,Array.from(bu.manualContexts.values())),Pu(this.nextKey??"",i?n.length:0,this),Ru(this.previousKey??"",this.currentOffset,i),i||(this.currentOffset=0)}updateAppMute(e,t=!0){this.setAutoMute(e),((e,t=!0)=>{Du(e.executableFile).filter((({settings:e,controller:t})=>e?.volumeChange===Mi.mute||t===wu.Encoder)).forEach((({context:i,controller:n})=>{switch(n){case wu.Encoder:ku(i,e,t);break;case wu.Keypad:Cu(i,e,t)}}))})(e,t)}updateAppVolume(e,t=!0){this.setAutoVolumes(e),((e,t,i=!0)=>{t.filter((({settings:e,controller:t})=>e?.volumeChange===Mi.adjust||t===wu.Encoder)).forEach((({context:t,controller:n,settings:r})=>{switch(n){case wu.Encoder:_u(t,e,i);break;case wu.Keypad:if(r.volumeChange===Mi.adjust){const n=parseInt(r.volumeStep??"0");n>0?yu(t,"",e,i):n<0&&yu("",t,e,i)}}}))})(e,Du(e.executableFile),t)}setAutoMute(e){this.getAutoColumnsByProcessID(e.processID).forEach((t=>{Cu(t.muteKey??"",e),ku(t.volumeDial??"",e)}))}getAppIndexFromColumn(e){return this.currentOffset+e-this.startColumnOffset}nextPage(e){e.length>this.nextOffset&&(this.currentOffset=this.nextOffset,Ou(e,this))}previousPage(e){this.currentOffset>0&&(this.currentOffset=this.previousOffset,Ou(e,this))}getAutoColumnsByProcessID(e){return this.autoColumns.filter((t=>t?.processID===e))}setAutoVolumes(e){if(!e)return;this.getAutoColumnsByProcessID(e.processID).forEach((t=>{yu(t.volumeUpKey??"",t.volumeDownKey??"",e),_u(t.volumeDial??"",e)}))}}class lp{processID;muteKey;volumeUpKey;volumeDownKey;volumeDial}let cp=(()=>{let e,t,i=[ki({UUID:Oi.manual})],n=[],r=Si;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}keyDownContexts=new Set;onWillAppear(e){if(e.payload.isInMultiAction)return;const{deviceId:t,action:i,payload:n}=e,{id:r}=i,{settings:o,coordinates:s,controller:a}=n;let l=bu.deckDevices.get(t);if(!l){const e=xi.devices.getDeviceById(t)?.type;if(!e)return void xi.logger.error(`Unable to identify Stream Deck device type for device ${t}.`);l=new ap(r,e),bu.deckDevices.set(r,l)}bu.manualContexts.set(r,{context:r,coordinates:s,settings:o,controller:wu[a]});const c=o?.application,h=c?.executableFile;if(!h)return xi.logger.error("Unable to identify application executable file."),void i.showAlert();const d=Au.getAppByExecutableFile(h);d&&Au.isConnected?xu(r,d):o?.application?.iconDataUnavailable?xu(r,o.application,!1):(i.setImage(),i.setTitle(""))}onWillDisappear(e){const{deviceId:t,action:i}=e,{id:n}=i;bu.deckDevices.get(t)&&(this.keyDownContexts.delete(n),bu.manualContexts.delete(n),i.setTitle(""),i.setImage(Bi.blank),i.setFeedback({icon:Bi.blank}))}onDialRotate(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{action:t,payload:i}=e,{settings:n,ticks:r}=i,{application:o,volumeStep:s}=n??{},{executableFile:a}=o??{};if(!a)return t.showAlert(),void xi.logger.error("Unable to find executable file in settings.");const l=Au.getAppByExecutableFile(a);if(l?.canActivelyAdjustVolume()){const{volume:e,processID:i}=l;if(!s)return void t.showAlert();const n=Bu(e.toString(),r,parseInt(s));Au.requestAppSetVolume(i,n)}else t.showAlert()}onTouchTap(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,action:i}=e,{settings:n}=t,{application:r}=n??{},{executableFile:o}=r??{};if(!o)return i.showAlert(),void xi.logger.error("Unable to find executable file in settings.");const s=Au.getAppByExecutableFile(o);if(s?.canActivelyAdjustVolume()){const{processID:e,mute:t}=s;Au.requestAppMuteToggle(e,t)}else i.showAlert()}onDialUp(e){if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{payload:t,action:i}=e,{settings:n}=t,{application:r}=n??{},{executableFile:o}=r??{};if(!o)return i.showAlert(),void xi.logger.error("Unable to find executable file in settings.");const s=Au.getAppByExecutableFile(o);if(s?.canActivelyAdjustVolume()){const{processID:e,mute:t}=s;Au.requestAppMuteToggle(e,t)}else i.showAlert(),xi.logger.error("Cannot adjust the volume of inactive applications.")}onDidReceiveSettings(e){if(e.payload.isInMultiAction)return;if(!Au.isConnected)return e.action.showAlert(),void xi.logger.error("Audio Router is not running!");const{deviceId:t,action:i,payload:n}=e,{id:r}=i,{settings:o,coordinates:s}=n,{application:a,controller:l}=o??{},{executableFile:c}=a??{};if(!c)return i.showAlert(),void xi.logger.error("Unable to find executable file in settings.");const h=Au.getAppByExecutableFile(c);bu.deckDevices.get(t)&&l&&(bu.manualContexts.set(r,{context:r,coordinates:s,settings:o,controller:l}),h?xu(r,h,!0):a&&xu(r,a,!1))}onKeyDown(e){const{id:t}=e.action;this.keyDownContexts.add(t),this.changeVolume(e)}onKeyUp(e){this.keyDownContexts.delete(e.action.id)}changeVolume(e){const{action:t,payload:i}=e,{id:n}=t;if(!this.keyDownContexts.has(n))return;const{settings:r}=i,{volumeChange:o,volumeStep:s,application:a,volume:l}=r,{executableFile:c}=a??{},h=Au.getAppByExecutableFile(c??"");if(h?.canActivelyAdjustVolume()){let t;switch(o){case Mi.mute:Au.requestAppMuteToggle(h.processID,h.mute);break;case Mi.adjust:if(!s||"0"==s)return void xi.actions.createController(n).showAlert();t=Bu(`${h.volume}`,1,parseInt(s)),Au.requestAppSetVolume(h.processID,t);break;case Mi.set:if(!l)return void xi.actions.createController(n).showAlert();Au.requestAppSetVolume(h.processID,Math.round(parseInt(l))/100);break;default:xi.actions.createController(n).showAlert()}this.keyDownContexts.has(n)&&setTimeout((()=>this.changeVolume(e)),200)}else xi.actions.createController(n).showAlert()}},t})();const hp={unmutedKey:du(!0,!0),unmutedEncoder:du(!0,!1),unmutedKeyDisabled:du(!1,!0),unmutedEncoderDisabled:du(!1,!1),mutedKey:uu(!0,!0),mutedEncoder:uu(!0,!1),mutedKeyDisabled:uu(!1,!0),mutedEncoderDisabled:uu(!1,!0),increase:hu(!0),increaseDisabled:hu(!1),decrease:cu(!0),decreaseDisabled:cu(!1),set:pu(!0),setDisabled:pu(!1)};let dp=(()=>{let e,t,i=[ki({UUID:Oi.outputDeviceControl})],n=[],r=np;return class extends r{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Di(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Ri(t,n)}constructor(){super(Gu.Output,hp),ip.onOutputDeviceChanged(this.drawActionsForDevice.bind(this)),ip.onDefaultDeviceChanged(this.drawActionsForDevice.bind(this))}onPropertyInspectorDidAppear(e){e.action.sendToPropertyInspector({devices:ip.outputDeviceIdentifications})}getKeysByDeviceId(e){const t=new Set,i=ip.defaultCommunicationOutputDevice?.id===e,n=ip.defaultOutputDevice?.id===e;return this.visibleActionsToDeviceId.forEach(((r,o)=>{(r===e||n&&r===Ti.default||i&&r===Ti.defaultCommunication)&&t.add(o)})),t}},t})();async function up(e,t=!0){const i=bu.globalSettingsCache;Ap().forEach((n=>{n.setAllImages(e,i,t)}))}function pp(e){Ap().forEach((t=>{t.updateAppVolume(e)}))}function fp(e){Ap().forEach((t=>{t.updateAppMute(e)}))}async function gp(e){if(bu.piUUID&&bu.piContext&&e){const t=bu.globalSettingsCache;xi.actions.createController(bu.piContext).sendToPropertyInspector({apps:e,connected:Au.isConnected,globalSettings:t})}}function mp(){Au.requestApplicationRefresh()}function Ap(){return Array.from(bu.deckDevices.values())}xi.logger.setLevel(gi.DEBUG),xi.actions.registerAction(new Lu),xi.actions.registerAction(new Nu),xi.actions.registerAction(new Mu),xi.actions.registerAction(new Tu),xi.actions.registerAction(new Uu),xi.actions.registerAction(new ju),xi.actions.registerAction(new Fu),xi.actions.registerAction(new Zu),xi.actions.registerAction(new vu),xi.actions.registerAction(new cp),xi.actions.registerAction(new op),xi.actions.registerAction(new dp),xi.system.onApplicationDidLaunch((function(){Au.connect()})),xi.system.onApplicationDidTerminate((function(){const e=Au.getAppsArray();gp(e),up(e,!1),Au.disconnect()})),xi.devices.onDeviceDidConnect((function(e){const{id:t,type:i}=e.device;bu.deckDevices.get(t)||bu.deckDevices.set(t,new ap(t,i));mp()})),xi.system.onSystemDidWakeUp(mp),xi.settings.onDidReceiveGlobalSettings((async function(e){const{settings:t}=e,i=Object.keys(t);let n=!1;i.forEach((e=>{const i=bu.deckDevices.get(e);i&&(i.volumeStep=t[e]?.volumeStep??13),n=n||!bu.globalSettingsCache||t[e]?.showApps!=bu.globalSettingsCache[e]?.showApps})),n&&up(Au.getAppsArray());bu.globalSettingsCache=t})),xi.ui.onPropertyInspectorDidAppear((async e=>{const{action:t}=e,{id:i,manifestId:n}=t;switch(bu.piUUID=n,bu.piContext=i,n){case Oi.manual:const e=Au.getAppsArray();t.sendToPropertyInspector({apps:e,connected:Au.isConnected});break;case Oi.auto:case Oi.blank:t.sendToPropertyInspector({globalSettings:bu.globalSettingsCache,connected:Au.isConnected})}})),xi.ui.onPropertyInspectorDidDisappear((()=>{bu.piUUID=void 0,bu.piContext=void 0})),Au.onApplicationAdded((function(){const e=Au.getAppsArray();gp(e),up(e)})),Au.onApplicationRemoved((function(e){const t=Au.getAppsArray();gp(t);Du(e.executableFile).forEach((t=>{Iu(t,e??t.settings.application,!1)})),up(t)})),Au.onApplicationImageChanged((function(){const e=Au.getAppsArray();gp(e),up(e)})),Au.onApplicationVolumeChanged(pp),Au.onApplicationMuteChanged(fp),Au.onApplicationActivityChanged((function(e){const t=Au.getAppsArray();gp(t),up(t)})),Au.onDefaultDeviceChanged((function(e){pp(e),fp(e)})),xi.connect().then((()=>{xi.devices.forEach((e=>{void 0!==e?.type&&bu.deckDevices.set(e.id,new ap(e.id,e.type))})),xi.settings.getGlobalSettings()}));
